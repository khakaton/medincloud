exports.id=741,exports.ids=[741,327],exports.modules={5926:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>f});var r=n(8357),a=n.n(r),s=n(2853),o=n.n(s),i=n(2147),c=n.n(i),p=n(8129),u=n.n(p),l=n(7274),g=n(1362),d=n(4990),m=function(){function e(){o()(this,e),this.resource=new l.Z({route:"/ajax/templates"}),this.templatesCache=new g.Z(_.get(window.__altrp_settings__,"templates_data",{}))}var t,n;return c()(e,[{key:"loadTemplate",value:(n=a()(u().mark((function t(n){var r,a,s,o=arguments;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=o.length>1&&void 0!==o[1]&&o[1],a=r,n=Number(n)?Number(n):n,a||(a=!this.templatesCache.hasProperty(n)),"loading"!==_.get(e,"statuses.".concat(n))){t.next=6;break}return t.abrupt("return",new Promise((function(t,r){e.pendingCallbacks[n]=e.pendingCallbacks[n]||[],e.pendingCallbacks[n].push(t)})));case 6:if(e.statuses[n]="loading",t.prev=7,s=null,!a){t.next=16;break}return t.next=12,this.resource.get(n);case 12:s=t.sent,this.templatesCache.setProperty(n,s),t.next=17;break;case 16:s=this.templatesCache.getProperty(n);case 17:return _.isArray(e.pendingCallbacks[n])&&e.pendingCallbacks[n].forEach((function(e){e(s)})),e.statuses[n]="loaded",e.pendingCallbacks[n]=[],t.abrupt("return",s);case 23:return t.prev=23,t.t0=t.catch(7),_.isArray(e.pendingCallbacks[n])&&e.pendingCallbacks[n].forEach((function(e){e(null)})),e.statuses[n]="loaded",e.pendingCallbacks[n]=[],t.abrupt("return",null);case 29:case"end":return t.stop()}}),t,this,[[7,23]])}))),function(e){return n.apply(this,arguments)})},{key:"loadParsedTemplate",value:(t=a()(u().mark((function e(t){var n,r,a=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.length>1&&void 0!==a[1]&&a[1],t){e.next=3;break}return e.abrupt("return",null);case 3:return t=Number(t)?Number(t):t,e.t0=_,e.next=7,this.loadTemplate(t,n);case 7:return e.t1=e.sent,r=e.t0.get.call(e.t0,e.t1,"data"),r=JSON.parse(r),e.abrupt("return",d.default.parseData(r));case 11:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}();m.statuses={},m.pendingCallbacks={},window.templateLoader=new m;const f=window.templateLoader},3150:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>$});var r,a=n(6156),s=n.n(a),o=n(8357),i=n.n(o),c=n(2853),p=n.n(c),u=n(2147),l=n.n(u),g=n(8050),d=n.n(g),m=n(3056),f=n.n(m),h=n(1470),v=n.n(h),b=n(8129),y=n.n(b),P=n(8709),x=n(1403),w=n(5926),E=n(4990),k=n(1362),O=n(9046),R=n(8992),C=n(8757),N=n.n(C),S=n(817);const I=S.ZP.div(r||(r=N()(["{\n  grid-template-columns: repeat(",", 1fr);\n  display: grid;    \n  ","\n"])),(function(e){return e.columnsCount}),(function(e){var t=e.posts_columns_gap,n=e.posts_rows_gap,r="";return t&&!Number(t)?r+="grid-column-gap:".concat(t,";"):Number(t)&&(r+="grid-column-gap:".concat(t,"px;")),n&&!Number(n)?r+="grid-row-gap:".concat(n,";"):Number(n)&&(r+="grid-row-gap:".concat(n,"px;")),r}));var j=n(9545),T=n.n(j);function D(e){var t=e.index,n=e.pageIndex,r=e.gotoPage;return React.createElement("button",{className:"altrp-pagination-pages__item ".concat(t===n?"active":""),onClick:function(){return r(t)}},t+1)}var A=n(4156),M=n(7274),z=n(12),Z=n(225);function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var H=function(e){return P.createElement(Z.$B,{autoHeight:!0},e.children)};const q=function(e){d()(s,e);var t,n,r,a=(n=s,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=v()(n);if(r){var a=v()(this).constructor;e=Reflect.construct(t,arguments,a)}else e=t.apply(this,arguments);return f()(this,e)});function s(e){var t;return p()(this,s),(t=a.call(this,e)).loadOptions=function(){var e=i()(y().mark((function e(n,r){var a;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=[],!t.optionsResource){e.next=5;break}return e.next=4,t.optionsResource.search(n);case 4:a=e.sent;case 5:return t.setState((function(e){return B(B({},e),{},{options:a})})),e.abrupt("return",r(a));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),t.state={options:e.options||[]},e.optionsRoute&&(t.optionsResource=new M.Z({route:e.optionsRoute})),t.selectRef=P.createRef(),t}return l()(s,[{key:"componentDidMount",value:(t=i()(y().mark((function e(){return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})},{key:"onChange",value:function(){}},{key:"render",value:function(){var e={control:function(e,t){return B(B({},e),{},{boxShadow:"none",borderColor:(t.isFocused,"hsl(0,0%,80%)"),"&:hover":{borderColor:"hsl(0,0%,80%)"}})},menuPortal:function(e){return B(B({},e),{},{zIndex:99999})}},t={onChange:this.onChange,options:this.state.options||[],placeholder:this.props.placeholder,loadOptions:this.loadOptions,noOptionsMessage:this.props.noOptionsMessage||function(){return"not found"},styles:e,menuPortalTarget:document.body,menuPlacement:"auto",menuPosition:"absolute",onKeyDown:this.onKeyDown,components:{MenusList:H},captureMenuScroll:!1,isDisabled:this.state.isDisabled,ref:this.selectRef};return _.assign(t,this.props),_.isArray(t.value)&&(t.value=t.value.map((function(e){var n={label:"",value:""};if(_.isString(e)||_.isNumber(e))n.value=e,n.label=e;else if(_.isObject(e))return e;return _.isArray(t.options)&&t.options.forEach((function(e){e.value===n.value&&(n=B({},e))})),n}))),t.value&&!_.isObject(t.value)&&(t.value=t.options.find((function(e){return e.value==t.value}))),this.optionsResource?P.createElement(A.ZP,t):P.createElement(z.ZP,t)}}]),s}(P.Component);var F;const K=S.ZP.div(F||(F=N()(["\n& .altrp-pagination-pages__item{\n","\n}\n"])),(function(e){var t=e.settings,n="",r=(0,R.getResponsiveSetting)(t,"width_count_item"),a=(0,R.getResponsiveSetting)(t,"height_count_item");return r?r.size&&r.unit&&(n+="width: ".concat(r.size).concat(r.unit,";"),n+="padding-left: 0;",n+="padding-right: 0;"):(n+="width: 35px;",n+="padding-left: 0;",n+="padding-right: 0;"),a?a.size&&a.unit&&(n+="height: ".concat(a.size).concat(a.unit,";"),n+="padding-top: 0;",n+="padding-bottom: 0;"):(n+="height: 35px;",n+="padding-top: 0;",n+="padding-bottom: 0;"),n}));function U(e){var t=e.settings,n=e.nextPage,r=e.previousPage,a=e.setPageSize,s=e.pageIndex,o=e.pageCount,i=e.pageSize,c=e.widgetId,p=e.gotoPage,u=t.inner_page_count_options,l=t.inner_page_type,g=t.current_page_text,d=t.inner_page_count,m=t.next_icon,f=t.prev_icon,h=t.first_last_buttons_count,v=t.middle_buttons_count,b=t.posts_pagination_type,y=t.is_with_ellipsis,P=React.useMemo((function(){var e=null;return u&&(e=(e=u.split("\n")).map((function(e){return{value:Number(e),label:Number(e)}}))),e}),[u]),x=React.useMemo((function(){var e=g||"Current Page: {{page}}";return e=e.replace("{{page}}",s+1).replace("{{page_count}}",o),"pages"===l||"pages"===b?React.createElement("div",{className:"altrp-pagination-pages"},o>2*h+v&&h&&v?(0,R.generateButtonsArray)(s,o,h,v).map((function(e,t){return"ellipsis"===e?y?React.createElement("div",{key:e+t,className:"altrp-pagination__ellipsis"},"..."):React.createElement("span",null,"Â "):React.createElement(D,{key:e,index:e,pageIndex:s,gotoPage:p})})):T()(Array(o)).map((function(e,t){return React.createElement(D,{key:t,index:t,pageIndex:s,gotoPage:p})}))):e}),[g,s,o,l,d,t]);return"none"===l?null:React.createElement(K,{className:"altrp-pagination",settings:t},!t.hide_pre_page_button&&React.createElement("button",{className:"altrp-pagination__previous",onClick:function(){r()},disabled:0===s},React.createElement("span",{dangerouslySetInnerHTML:{__html:_.isString(t.prev_text)?t.prev_text:"Previous Page"}}),(0,R.renderAssetIcon)(f)),!t.hide_pages_buttons_button&&React.createElement("div",{className:"altrp-pagination__count"},x),!t.hide_next_page_button&&React.createElement("button",{className:"altrp-pagination__next",onClick:function(){n()},disabled:o===s+1},React.createElement("span",{dangerouslySetInnerHTML:{__html:_.isString(t.next_text)?t.next_text:"Next Page"}}),(0,R.renderAssetIcon)(m)),!t.hide_page_input&&React.createElement("input",{className:"altrp-pagination__goto-page",type:"number",defaultValue:s+1,onChange:function(e){var t=e.target.value?Number(e.target.value)-1:0;p(t)}}),!t.hide_pagination_select&&P&&React.createElement(q,{className:"altrp-pagination__select-size",options:P,classNamePrefix:c+" altrp-field-select2",value:P.find((function(e){return e.value===i})),isSearchable:!1,onChange:function(e){a(e.value)}}))}function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.e(958).then(n.t.bind(n,2958,23)),n.e(879).then(n.t.bind(n,6879,23));var W=function(e){d()(o,e);var t,n,r,a,s=(r=o,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=v()(r);if(a){var n=v()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return f()(this,e)});function o(e){var t;return p()(this,o),(t=s.call(this,e)).renderPost=function(e){var n=_.get(t.props.settings,"posts_card_hover_template",null),r=_.get(t.props.settings,"posts_transition_type",null),a=_.cloneDeep(t.props.data[e]||t.props.data),s=a.component||"";if(t.state.simpleTemplate){var o=E.default.cloneElement(t.state.simpleTemplate);o.setCardModel(new k.Z(a),e),s=P.createElement(o.componentClass,{element:o,ElementWrapper:O.default,children:o.children})}return P.createElement(P.Fragment,{key:(a.id||a.altrpIndex)+Math.random()},P.createElement("div",{className:"altrp-post"},s,n&&P.createElement("div",{className:"altrp-post altrp-post--hover altrp-post--hover--".concat(r)},s)))},t.state={simpleTemplate:"",simpleTemplateId:null,currentPage:1},t}return l()(o,[{key:"componentDidMount",value:(n=i()(y().mark((function e(){var t,n,r=this;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props.settings,!(n=_.get(t,"posts_card_template"))){e.next=6;break}if(n){e.next=5;break}return e.abrupt("return");case 5:this.setState((function(e){return V(V({},e),{},{simpleTemplateId:n})}),i()(y().mark((function e(){var t;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.default.loadParsedTemplate(n);case 2:t=e.sent,r.setState((function(e){return V(V({},e),{},{simpleTemplate:t})}));case 4:case"end":return e.stop()}}),e)}))));case 6:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"shouldComponentUpdate",value:function(e,t){return!((0,R.isEditor)()&&this.props.settings===e.settings&&_.isEqual(this.state.simpleTemplate,t.simpleTemplate)&&_.isEqual(this.state.simpleTemplateId,t.simpleTemplateId)&&_.isEqual(this.props.data,e.data)&&this.state.currentPage===t.currentPage)}},{key:"componentDidUpdate",value:(t=i()(y().mark((function e(t){var n,r,a,s=this;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.props.settings,r=this.state.simpleTemplateId,a=_.get(n,"posts_card_template",r),_.isEqual(t.data,this.props.data)||this.setState((function(e){return V(V({},e),{},{posts:s.props.data})})),a===r){e.next=8;break}if(a){e.next=7;break}return e.abrupt("return");case 7:this.setState((function(e){return V(V({},e),{},{simpleTemplateId:a})}),i()(y().mark((function e(){var t;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.default.loadParsedTemplate(a);case 2:t=e.sent,s.setState((function(e){return V(V({},e),{},{simpleTemplate:t})}));case 4:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"getPageCount",value:function(){var e=this.props.data,t=Number((0,R.getResponsiveSetting)(this.props.settings,"posts_per_page"))||12;return t&&_.get(e,"length")?Math.ceil(e.length/t):1}},{key:"setPage",value:function(e){(e=Number(e))||(e=1),e<0&&(e=0),e>this.getPageCount()&&(e=this.getPageCount()),this.state.currentPage!==e&&this.setState((function(t){return V(V({},t),{},{currentPage:e})}))}},{key:"renderPagination",value:function(){var e=this,t=V({},this.props.settings);if(!this.props.data.length&&!(0,R.isEditor)())return null;var n=(0,R.getResponsiveSetting)(this.props.settings,"posts_pagination_type")||"";if(n){var r=this.state.currentPage,a=this.getPageCount();if("pages"===n){t.hide_pagination_select=!0,t.hide_page_input=!0;var s={settings:t,pageCount:a,pageIndex:this.state.currentPage-1,nextPage:function(){e.setPage(e.state.currentPage+1)},previousPage:function(){e.setPage(e.state.currentPage-1)},gotoPage:function(t){e.setPage(t+1)},pageSize:this.props.element.getResponsiveSetting("posts_per_page"),widgetId:this.props.element.getId()};return P.createElement(U,s)}return"prev_next"===n?P.createElement("div",{className:"altrp-pagination-pages"},P.createElement("button",{className:"altrp-pagination__previous "+(r<=1?"state-disabled":""),disabled:r<=1,onClick:function(){e.setPage(r-1)}},P.createElement("span",null,t.posts_prev_text||""),(0,R.renderAssetIcon)(t.prev_icon)),P.createElement("button",{className:"altrp-pagination__next "+(r===a?"state-disabled":""),disabled:r===a,onClick:function(){e.setPage(r+1)}},P.createElement("span",null,t.posts_next_text||""),(0,R.renderAssetIcon)(t.next_icon))):P.createElement("div",{className:"altrp-pagination"},!t.hide_pre_page_button&&P.createElement("button",{className:"altrp-pagination__previous",onClick:function(){return e.setPage(r-1)},disabled:r<=1},P.createElement("span",{dangerouslySetInnerHTML:{__html:t.prev_text||"Previous Page"}}),(0,R.renderAssetIcon)(t.prev_icon)),!t.hide_pages_buttons_button&&P.createElement("div",{className:"altrp-pagination__count"},t.pageText),!t.hide_next_page_button&&P.createElement("button",{className:"altrp-pagination__next",onClick:function(){return e.setPage(r+1)},disabled:r===a},P.createElement("span",{dangerouslySetInnerHTML:{__html:t.next_text||"Next Page"}}),(0,R.renderAssetIcon)(t.next_icon)))}return null}},{key:"render",value:function(){var e=this,t=this.state.currentPage,n=Number((0,R.getResponsiveSetting)(this.props.settings,"posts_per_page"))||12,r=this.props.data;!_.isArray(r)&&_.isObject(r)&&(r=[r]),_.isArray(r)||(r=[]);var a=0;n&&Number(n)&&(t>1&&(a=(t-1)*n),r=r.slice(a,a+n));var s=Number((0,R.getResponsiveSetting)(this.props.settings,"posts_columns"))||1,o=(0,R.getResponsiveSetting)(this.props.settings,"posts_columns_gap")||"",i=(0,R.getResponsiveSetting)(this.props.settings,"posts_rows_gap")||"";return P.createElement(P.Fragment,null,P.createElement(I,{columnsCount:s,posts_columns_gap:o,posts_rows_gap:i,className:"altrp-posts"},r.map((function(t,n){return e.renderPost(a+n)}))),this.renderPagination())}}]),o}(P.Component);const $=function(e){return"datasource"===e.settings.choose_datasource?((0,R.isEditor)()&&((e=V({},e)).settings=V({},e.settings),e.data=Array.from({length:100},(function(){return{}})),(0,R.setAltrpIndex)(e.data)),P.createElement(W,e)):P.createElement(x.Z,e,P.createElement(W,null))}}};