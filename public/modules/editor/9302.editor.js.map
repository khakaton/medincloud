{"version":3,"sources":["webpack:///./resources/modules/editor/src/js/components/NewSection.js","webpack:///./node_modules/react-router-dom/esm/react-router-dom.js","webpack:///./resources/modules/editor/src/js/components/ElementContextMenu.js","webpack:///./node_modules/react-helmet/es/Helmet.js","webpack:///./resources/modules/front-app/src/js/components/FontsManager.js","webpack:///./resources/modules/front-app/src/js/classes/FrontElementsManager.js","webpack:///./resources/modules/front-app/src/js/functions/get-route-styles.js","webpack:///./resources/modules/front-app/src/js/components/GlobalStyles.js","webpack:///./resources/modules/editor/src/EditorContent.js","webpack:///./node_modules/react-side-effect/lib/index.js"],"names":["PlusIcon","FolderIcon","e","preventDefault","stopPropagation","newWidgetName","dataTransfer","getData","getEditor","modules","templateDataStorage","addWidgetInSection","className","onDragOver","this","onDragEnter","onDrop","draggable","Component","BrowserRouter","_React$Component","_this","_len","arguments","length","args","Array","_key","call","apply","concat","history","props","prototype","render","children","resolveToLocation","to","currentLocation","normalizeToLocation","forwardRefShim","C","forwardRef","LinkAnchor","_ref","forwardedRef","innerRef","navigate","_onClick","onClick","rest","target","event","ex","defaultPrevented","button","metaKey","altKey","ctrlKey","shiftKey","isModifiedEvent","ref","Link","_ref2","_ref2$component","component","replace","context","location","href","createHref","push","forwardRefShim$1","forwardRef$1","_ref$ariaCurrent","ariaCurrent","_ref$activeClassName","activeClassName","activeStyle","classNameProp","exact","isActiveProp","isActive","locationProp","sensitive","strict","styleProp","style","toLocation","path","pathname","escapedPath","match","classnames","filter","i","join","joinClassnames","clock","Portal","window","altrpLibs","Blueprint","ElementContextMenu","onPasteElement","contextMenu","currentElement","element","factory","getFactory","newElement","getDataFromLocalStorage","_","isObject","parseData","getType","findClosestByType","insertSiblingAfter","appendChild","copyStyles","dataToStore","settings","getSettings","elementName","getName","localStorage","setItem","JSON","stringify","pasteStyles","elementSettingsStore","pasteStylesFromSettings","onSelectItem","bind","onEditItem","deleteElement","duplicateElement","addNewColumn","setElementAsCurrent","showSettingsPanel","data","toObject","saveDataToLocalStorage","deleteThisElement","Column","duplicate","canDeleteThis","elementTitle","getTitle","stylesPasteEnable","Boolean","elementPasteDisabled","container","EditorFrame","contentWindow","document","body","id","disabled","resetStyles","showAddNewColumnItem","showDeleteItem","connect","state","currentContextElement","ATTRIBUTE_NAMES","TAG_NAMES","BASE","BODY","HEAD","HTML","LINK","META","NOSCRIPT","SCRIPT","STYLE","TITLE","TAG_PROPERTIES","Object","keys","map","name","REACT_TAG_MAP","accesskey","charset","class","contenteditable","contextmenu","itemprop","tabindex","HTML_TAG_MAP","reduce","obj","key","SELF_CLOSING_TAGS","HELMET_ATTRIBUTE","_typeof","Symbol","iterator","constructor","instance","Constructor","TypeError","defineProperties","descriptor","enumerable","configurable","writable","defineProperty","protoProps","staticProps","_extends","assign","source","hasOwnProperty","objectWithoutProperties","indexOf","self","ReferenceError","encodeSpecialCharacters","str","encode","undefined","String","getTitleFromPropsList","propsList","innermostTitle","getInnermostProperty","innermostTemplate","isArray","innermostDefaultTitle","getOnChangeClientState","getAttributesFromPropsList","tagType","tagAttrs","current","getBaseTagFromPropsList","primaryAttributes","reverse","innermostBaseTag","tag","lowerCaseAttributeKey","toLowerCase","getTagsFromPropsList","tagName","approvedSeenTags","warn","approvedTags","instanceTags","instanceSeenTags","primaryAttributeKey","attributeKey","value","forEach","tagUnion","property","rafPolyfill","Date","now","callback","currentTime","setTimeout","cafPolyfill","clearTimeout","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","cancelAnimationFrame","webkitCancelAnimationFrame","mozCancelAnimationFrame","msg","console","_helmetCallback","commitTagChanges","newState","cb","baseTag","bodyAttributes","htmlAttributes","linkTags","metaTags","noscriptTags","onChangeClientState","scriptTags","styleTags","title","titleAttributes","updateAttributes","updateTitle","tagUpdates","updateTags","addedTags","removedTags","_tagUpdates$tagType","newTags","oldTags","flattenArray","possibleArray","attributes","elementTag","getElementsByTagName","helmetAttributeString","getAttribute","helmetAttributes","split","attributesToRemove","attributeKeys","attribute","setAttribute","indexToSave","splice","_i","removeAttribute","type","tags","headElement","head","querySelector","tagNodes","querySelectorAll","slice","indexToDelete","createElement","innerHTML","styleSheet","cssText","createTextNode","some","existingTag","index","isEqualNode","parentNode","removeChild","generateElementAttributesAsString","attr","convertElementAttributestoReactProps","initProps","getMethodsForTag","toComponent","_initProps","toString","attributeString","flattenedTitle","generateTitleAsString","_mappedTag","mappedTag","mappedAttribute","content","dangerouslySetInnerHTML","__html","generateTagsAsReactComponent","attributeHtml","string","tagContent","isSelfClosing","generateTagsAsString","mapStateOnServer","_ref$title","base","link","meta","noscript","script","HelmetExport","_class","_temp","HelmetWrapper","subClass","superClass","create","setPrototypeOf","__proto__","shouldComponentUpdate","nextProps","mapNestedChildrenToProps","child","nestedChildren","Error","flattenArrayTypeChildren","_babelHelpers$extends","arrayTypeChildren","newChildProps","mapObjectTypeChildren","_babelHelpers$extends2","_babelHelpers$extends3","newProps","mapArrayTypeChildrenToProps","newFlattenedProps","arrayChildName","_babelHelpers$extends4","warnOnInvalidChildren","mapChildrenToProps","_this2","_child$props","initAttributes","convertReactPropstoHtmlAttributes","_props","set","canUseDOM","propTypes","defaultTitle","defer","titleTemplate","defaultProps","peek","rewind","mappedState","Helmet","renderStatic","FontsManager","fonts","helmetRef","React","createRef","delay","setState","renderFonts","prevProps","prevState","Set","toPairs","altrpFonts","add","toArray","isEqual","renderFontLink","reactRedux","FrontElementsManager","ELEMENTS","import","components","altrpElementsLists","find","componentsToLoad","el","Promise","resolve","reject","then","res","log","performance","default","all","LIBS","values","l","error","frontElementsManager","FRONT_DEFAULT_AREAS","isEditor","altrpHelpers","GlobalStyles","createGlobalStyle","elementsSettings","areas","styles","area","columnsGrid","rightSidebar","area_type","sidebar_location","leftSidebar","sidebar_width","contentRow","get","getCustomCSS","getSetting","getRouteStyles","prefix","each","item","ImageLightboxComponent","DiagramComponent","TabsSwitcherComponent","ButtonComponent","CarouselComponent","GalleryComponent","DividerComponent","VideoComponent","ListComponent","AccordionComponent","SectionWidgetComponent","childrenLength","ColumnComponent","DropbarWidgetComponent","DashboardComponent","getImageStyles","getTabsStyles","getMenuStyles","getBreadcrumbsStyles","getHeadingTypeHeadingStyles","getHeadingTypeAnimatingStyles","getTextStyles","getTableStyles","getPostsStyles","FormComponent","InputDateComponent","DatePickerComponent","InputCheckboxComponent","InputSliderComponent","InputRangeSliderComponent","getInputTextCommonStyles","getInputSelectStyles","getInputSelectPopoverStyles","InputRadioComponent","getInputFileStyles","getInputGalleryStyles","MapComponent","MapConstructorComponent","AdvancedComponent","element_css_editor","getResponsiveSetting","isString","globalDefaults","currentScreen","editorWindow","store","currentElementListener","templateStatus","altrpEditorContent","status","RootElement","rootElement","getRootElement","changeCurrentModel","altrpModelUpdated","Provider","DndProvider","backend","HTML5Backend","componentClass","templateData","template_type","Styles","React__default","_defineProperty","module","exports","reducePropsToState","handleStateChangeOnClient","WrappedComponent","mountedInstances","emitChange","SideEffect","_PureComponent","recordedState","_proto","UNSAFE_componentWillMount","componentDidUpdate","componentWillUnmount","PureComponent","displayName","getDisplayName"],"mappings":"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,OAAO,oBAAC,GAAD,CAAQ7V,IAAK/C,KAAK6Y,WACtBD,EAAMtO,IAAIqP,uB,GAzCUvZ,WAoD3B,GAAekF,OAAOsU,WAAWxQ,SANjC,SAAyBC,GACvB,MAAO,CACLkQ,WAAYlQ,EAAMkQ,cAItB,CAA0DZ,I,oCCxDpDkB,G,WACJ,aAsZc,IAAF,EARA,EARA,EARA,EARA,EARA,EARA,EARA,EARA,EARA,EARA,EARA,EARA,EARA,EARA,EARA,EARA,EARA,EARA,EARA,EARA,EARA,EARA,EARA,EARA,EARA,EARA,EARA,EARA,EARA,EARA,EARA,EARA,EARA,EARA,EARA,EARA,EARA,EARA,EARA,EARA,EARA,EARA,EARA,EARA,EARA,EARA,EARA,EARA,EARA,GARA,IANE,eAGZ7Z,KAAK8Z,SAAW,CACd,CACEvP,KAAM,eACNwP,QAAM,qBAAE,8FACO,wCADP,mFAAF,8CAMR,CACExP,KAAM,UACNwP,QAAM,qBAAE,8FACO,wCADP,mFAAF,8CAMR,CACExP,KAAM,yBACNwP,QAAM,oBAAE,8FACO,uCADP,mFAAF,6CAMR,CACExP,KAAM,UACNwP,QAAM,oBAAE,8FACO,wCADP,mFAAF,6CAMR,CACExP,KAAM,iBACNwP,QAAM,oBAAE,8FACO,wCADP,mFAAF,6CAMR,CACExP,KAAM,SACNwP,QAAM,oBAAE,8FACO,wCADP,mFAAF,6CAMR,CACExP,KAAM,QACNwP,QAAM,oBAAE,8FACO,gCADP,mFAAF,6CAMR,CACExP,KAAM,oBACNwP,QAAM,oBAAE,8FACO,+BADP,mFAAF,6CAMR,CACExP,KAAM,aACNwP,QAAM,oBAAE,8FACO,+BADP,mFAAF,6CAMR,CACExP,KAAM,eACNwP,QAAM,oBAAE,8FACO,wCADP,mFAAF,6CAMR,CACExP,KAAM,gBACNwP,QAAM,oBAAE,8FACO,wCADP,mFAAF,6CAMR,CACExP,KAAM,cACNwP,QAAM,oBAAE,8FACO,wCADP,mFAAF,6CAMR,CACExP,KAAM,iBACNwP,QAAM,oBAAE,8FACO,wCADP,mFAAF,6CAMR,CACExP,KAAM,gBACNwP,QAAM,oBAAE,8FACO,wCADP,mFAAF,6CAMR,CACExP,KAAM,iBACNwP,QAAM,oBAAE,8FACO,wCADP,mFAAF,6CAMR,CACExP,KAAM,qBACNwP,QAAM,oBAAE,8FACO,wCADP,mFAAF,6CAMR,CACExP,KAAM,eACNwP,QAAM,oBAAE,8FACO,uCADP,mFAAF,6CAMR,CACExP,KAAM,aACNwP,QAAM,oBAAE,8FACO,wCADP,mFAAF,6CAMR,CACExP,KAAM,eACNwP,QAAM,oBAAE,8FACO,wCADP,mFAAF,6CAMR,CACExP,KAAM,aACNwP,QAAM,oBAAE,8FACO,wCADP,mFAAF,6CAMR,CACExP,KAAM,gBACNwP,QAAM,oBAAE,8FACO,wCADP,mFAAF,6CAMR,CACExP,KAAM,SACNwP,QAAM,oBAAE,8FACO,wCADP,mFAAF,6CAMR,CACExP,KAAM,cACNwP,QAAM,oBAAE,8FACO,sCADP,mFAAF,6CAMR,CACExP,KAAM,OACNwP,QAAM,oBAAE,8FACO,wCADP,mFAAF,6CAMR,CACExP,KAAM,QACNwP,QAAM,oBAAE,8FACO,wCADP,mFAAF,6CAMR,CACExP,KAAM,QACNwP,QAAM,oBAAE,8FACO,wCADP,mFAAF,6CAMR,CACExP,KAAM,QACNwP,QAAM,oBAAE,8FACO,wCADP,mFAAF,6CAMR,CACExP,KAAM,MACNwP,QAAM,oBAAE,8FACO,wCADP,mFAAF,6CAMR,CACExP,KAAM,UACNwP,QAAM,oBAAE,8FACO,wCADP,mFAAF,6CAMR,CACExP,KAAM,OACNwP,QAAM,oBAAE,8FACO,wCADP,mFAAF,6CAMR,CACExP,KAAM,SACNwP,QAAM,oBAAE,8FACO,gCADP,mFAAF,6CAMR,CACExP,KAAM,OACNwP,QAAM,oBAAE,8FACO,wCADP,mFAAF,6CAMR,CACExP,KAAM,YACNwP,QAAM,oBAAE,8FACO,uCADP,mFAAF,6CAMR,CACExP,KAAM,WACNwP,QAAM,oBAAE,8FACO,wCADP,mFAAF,6CAMR,CACExP,KAAM,MACNwP,QAAM,oBAAE,8FACO,wCADP,mFAAF,6CAMR,CACExP,KAAM,cACNwP,QAAM,oBAAE,8FACO,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","file":"9302.editor.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport PlusIcon from \"../../svgs/plus.svg\";\r\nimport FolderIcon from \"../../svgs/folder.svg\";\r\nimport { getEditor } from \"../helpers\";\r\nimport Column from \"../classes/elements/Column\";\r\n\r\nclass NewSection extends Component {\r\n  onDragOver(e) {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    return false;\r\n  }\r\n\r\n  onDragEnter(e) {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    return false;\r\n  }\r\n\r\n  onDrop(e) {\r\n    /**\r\n     * @member {HTMLElement} target\r\n     * */\r\n\r\n    let newWidgetName = e.dataTransfer.getData(\"text/plain\");\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    getEditor().modules.templateDataStorage.addWidgetInSection(newWidgetName);\r\n    return false;\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div\r\n        className=\"new-section\"\r\n        onDragOver={this.onDragOver}\r\n        onDragEnter={this.onDragEnter}\r\n        onDrop={this.onDrop}\r\n        data-element-type=\"new-section\"\r\n      >\r\n        <div className=\"new-section-buttons d-flex\">\r\n          <button\r\n            draggable=\"true\"\r\n            className=\"new-section__button new-section__button_add d-flex \"\r\n          >\r\n            <PlusIcon />\r\n          </button>\r\n          <button className=\"new-section__button new-section__button_library d-flex\">\r\n            <FolderIcon />\r\n          </button>\r\n        </div>\r\n        <div className=\"new-section__text\">Drag widget here</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default NewSection;\r\n","import { Router, __RouterContext, matchPath } from 'react-router';\nexport { MemoryRouter, Prompt, Redirect, Route, Router, StaticRouter, Switch, generatePath, matchPath, useHistory, useLocation, useParams, useRouteMatch, withRouter } from 'react-router';\nimport _inheritsLoose from '@babel/runtime/helpers/esm/inheritsLoose';\nimport React from 'react';\nimport { createBrowserHistory, createHashHistory, createLocation } from 'history';\nimport PropTypes from 'prop-types';\nimport warning from 'tiny-warning';\nimport _extends from '@babel/runtime/helpers/esm/extends';\nimport _objectWithoutPropertiesLoose from '@babel/runtime/helpers/esm/objectWithoutPropertiesLoose';\nimport invariant from 'tiny-invariant';\n\n/**\n * The public API for a <Router> that uses HTML5 history.\n */\n\nvar BrowserRouter =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(BrowserRouter, _React$Component);\n\n  function BrowserRouter() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this.history = createBrowserHistory(_this.props);\n    return _this;\n  }\n\n  var _proto = BrowserRouter.prototype;\n\n  _proto.render = function render() {\n    return React.createElement(Router, {\n      history: this.history,\n      children: this.props.children\n    });\n  };\n\n  return BrowserRouter;\n}(React.Component);\n\nif (process.env.NODE_ENV !== \"production\") {\n  BrowserRouter.propTypes = {\n    basename: PropTypes.string,\n    children: PropTypes.node,\n    forceRefresh: PropTypes.bool,\n    getUserConfirmation: PropTypes.func,\n    keyLength: PropTypes.number\n  };\n\n  BrowserRouter.prototype.componentDidMount = function () {\n    process.env.NODE_ENV !== \"production\" ? warning(!this.props.history, \"<BrowserRouter> ignores the history prop. To use a custom history, \" + \"use `import { Router }` instead of `import { BrowserRouter as Router }`.\") : void 0;\n  };\n}\n\n/**\n * The public API for a <Router> that uses window.location.hash.\n */\n\nvar HashRouter =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(HashRouter, _React$Component);\n\n  function HashRouter() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this.history = createHashHistory(_this.props);\n    return _this;\n  }\n\n  var _proto = HashRouter.prototype;\n\n  _proto.render = function render() {\n    return React.createElement(Router, {\n      history: this.history,\n      children: this.props.children\n    });\n  };\n\n  return HashRouter;\n}(React.Component);\n\nif (process.env.NODE_ENV !== \"production\") {\n  HashRouter.propTypes = {\n    basename: PropTypes.string,\n    children: PropTypes.node,\n    getUserConfirmation: PropTypes.func,\n    hashType: PropTypes.oneOf([\"hashbang\", \"noslash\", \"slash\"])\n  };\n\n  HashRouter.prototype.componentDidMount = function () {\n    process.env.NODE_ENV !== \"production\" ? warning(!this.props.history, \"<HashRouter> ignores the history prop. To use a custom history, \" + \"use `import { Router }` instead of `import { HashRouter as Router }`.\") : void 0;\n  };\n}\n\nvar resolveToLocation = function resolveToLocation(to, currentLocation) {\n  return typeof to === \"function\" ? to(currentLocation) : to;\n};\nvar normalizeToLocation = function normalizeToLocation(to, currentLocation) {\n  return typeof to === \"string\" ? createLocation(to, null, null, currentLocation) : to;\n};\n\nvar forwardRefShim = function forwardRefShim(C) {\n  return C;\n};\n\nvar forwardRef = React.forwardRef;\n\nif (typeof forwardRef === \"undefined\") {\n  forwardRef = forwardRefShim;\n}\n\nfunction isModifiedEvent(event) {\n  return !!(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey);\n}\n\nvar LinkAnchor = forwardRef(function (_ref, forwardedRef) {\n  var innerRef = _ref.innerRef,\n      navigate = _ref.navigate,\n      _onClick = _ref.onClick,\n      rest = _objectWithoutPropertiesLoose(_ref, [\"innerRef\", \"navigate\", \"onClick\"]);\n\n  var target = rest.target;\n\n  var props = _extends({}, rest, {\n    onClick: function onClick(event) {\n      try {\n        if (_onClick) _onClick(event);\n      } catch (ex) {\n        event.preventDefault();\n        throw ex;\n      }\n\n      if (!event.defaultPrevented && // onClick prevented default\n      event.button === 0 && ( // ignore everything but left clicks\n      !target || target === \"_self\") && // let browser handle \"target=_blank\" etc.\n      !isModifiedEvent(event) // ignore clicks with modifier keys\n      ) {\n          event.preventDefault();\n          navigate();\n        }\n    }\n  }); // React 15 compat\n\n\n  if (forwardRefShim !== forwardRef) {\n    props.ref = forwardedRef || innerRef;\n  } else {\n    props.ref = innerRef;\n  }\n  /* eslint-disable-next-line jsx-a11y/anchor-has-content */\n\n\n  return React.createElement(\"a\", props);\n});\n\nif (process.env.NODE_ENV !== \"production\") {\n  LinkAnchor.displayName = \"LinkAnchor\";\n}\n/**\n * The public API for rendering a history-aware <a>.\n */\n\n\nvar Link = forwardRef(function (_ref2, forwardedRef) {\n  var _ref2$component = _ref2.component,\n      component = _ref2$component === void 0 ? LinkAnchor : _ref2$component,\n      replace = _ref2.replace,\n      to = _ref2.to,\n      innerRef = _ref2.innerRef,\n      rest = _objectWithoutPropertiesLoose(_ref2, [\"component\", \"replace\", \"to\", \"innerRef\"]);\n\n  return React.createElement(__RouterContext.Consumer, null, function (context) {\n    !context ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"You should not use <Link> outside a <Router>\") : invariant(false) : void 0;\n    var history = context.history;\n    var location = normalizeToLocation(resolveToLocation(to, context.location), context.location);\n    var href = location ? history.createHref(location) : \"\";\n\n    var props = _extends({}, rest, {\n      href: href,\n      navigate: function navigate() {\n        var location = resolveToLocation(to, context.location);\n        var method = replace ? history.replace : history.push;\n        method(location);\n      }\n    }); // React 15 compat\n\n\n    if (forwardRefShim !== forwardRef) {\n      props.ref = forwardedRef || innerRef;\n    } else {\n      props.innerRef = innerRef;\n    }\n\n    return React.createElement(component, props);\n  });\n});\n\nif (process.env.NODE_ENV !== \"production\") {\n  var toType = PropTypes.oneOfType([PropTypes.string, PropTypes.object, PropTypes.func]);\n  var refType = PropTypes.oneOfType([PropTypes.string, PropTypes.func, PropTypes.shape({\n    current: PropTypes.any\n  })]);\n  Link.displayName = \"Link\";\n  Link.propTypes = {\n    innerRef: refType,\n    onClick: PropTypes.func,\n    replace: PropTypes.bool,\n    target: PropTypes.string,\n    to: toType.isRequired\n  };\n}\n\nvar forwardRefShim$1 = function forwardRefShim(C) {\n  return C;\n};\n\nvar forwardRef$1 = React.forwardRef;\n\nif (typeof forwardRef$1 === \"undefined\") {\n  forwardRef$1 = forwardRefShim$1;\n}\n\nfunction joinClassnames() {\n  for (var _len = arguments.length, classnames = new Array(_len), _key = 0; _key < _len; _key++) {\n    classnames[_key] = arguments[_key];\n  }\n\n  return classnames.filter(function (i) {\n    return i;\n  }).join(\" \");\n}\n/**\n * A <Link> wrapper that knows if it's \"active\" or not.\n */\n\n\nvar NavLink = forwardRef$1(function (_ref, forwardedRef) {\n  var _ref$ariaCurrent = _ref[\"aria-current\"],\n      ariaCurrent = _ref$ariaCurrent === void 0 ? \"page\" : _ref$ariaCurrent,\n      _ref$activeClassName = _ref.activeClassName,\n      activeClassName = _ref$activeClassName === void 0 ? \"active\" : _ref$activeClassName,\n      activeStyle = _ref.activeStyle,\n      classNameProp = _ref.className,\n      exact = _ref.exact,\n      isActiveProp = _ref.isActive,\n      locationProp = _ref.location,\n      sensitive = _ref.sensitive,\n      strict = _ref.strict,\n      styleProp = _ref.style,\n      to = _ref.to,\n      innerRef = _ref.innerRef,\n      rest = _objectWithoutPropertiesLoose(_ref, [\"aria-current\", \"activeClassName\", \"activeStyle\", \"className\", \"exact\", \"isActive\", \"location\", \"sensitive\", \"strict\", \"style\", \"to\", \"innerRef\"]);\n\n  return React.createElement(__RouterContext.Consumer, null, function (context) {\n    !context ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"You should not use <NavLink> outside a <Router>\") : invariant(false) : void 0;\n    var currentLocation = locationProp || context.location;\n    var toLocation = normalizeToLocation(resolveToLocation(to, currentLocation), currentLocation);\n    var path = toLocation.pathname; // Regex taken from: https://github.com/pillarjs/path-to-regexp/blob/master/index.js#L202\n\n    var escapedPath = path && path.replace(/([.+*?=^!:${}()[\\]|/\\\\])/g, \"\\\\$1\");\n    var match = escapedPath ? matchPath(currentLocation.pathname, {\n      path: escapedPath,\n      exact: exact,\n      sensitive: sensitive,\n      strict: strict\n    }) : null;\n    var isActive = !!(isActiveProp ? isActiveProp(match, currentLocation) : match);\n    var className = isActive ? joinClassnames(classNameProp, activeClassName) : classNameProp;\n    var style = isActive ? _extends({}, styleProp, {}, activeStyle) : styleProp;\n\n    var props = _extends({\n      \"aria-current\": isActive && ariaCurrent || null,\n      className: className,\n      style: style,\n      to: toLocation\n    }, rest); // React 15 compat\n\n\n    if (forwardRefShim$1 !== forwardRef$1) {\n      props.ref = forwardedRef || innerRef;\n    } else {\n      props.innerRef = innerRef;\n    }\n\n    return React.createElement(Link, props);\n  });\n});\n\nif (process.env.NODE_ENV !== \"production\") {\n  NavLink.displayName = \"NavLink\";\n  var ariaCurrentType = PropTypes.oneOf([\"page\", \"step\", \"location\", \"date\", \"time\", \"true\"]);\n  NavLink.propTypes = _extends({}, Link.propTypes, {\n    \"aria-current\": ariaCurrentType,\n    activeClassName: PropTypes.string,\n    activeStyle: PropTypes.object,\n    className: PropTypes.string,\n    exact: PropTypes.bool,\n    isActive: PropTypes.func,\n    location: PropTypes.object,\n    sensitive: PropTypes.bool,\n    strict: PropTypes.bool,\n    style: PropTypes.object\n  });\n}\n\nexport { BrowserRouter, HashRouter, Link, NavLink };\n//# sourceMappingURL=react-router-dom.js.map\n","import React, {Component} from \"react\";\r\nimport {Menu, Item, Separator, contextMenu} from \"react-contexify\";\r\n\r\n\r\nimport(\"react-contexify/scss/main.scss\");\r\nimport {connect} from \"react-redux\";\r\nimport Column from \"../classes/elements/Column\";\r\nimport {getEditor, getFactory} from \"../helpers\";\r\nimport {\r\n  getDataFromLocalStorage,\r\n  saveDataToLocalStorage\r\n} from \"../../../../front-app/src/js/helpers\";\r\nconst {Portal} = window.altrpLibs.Blueprint\r\n\r\nclass ElementContextMenu extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.onSelectItem = this.onSelectItem.bind(this);\r\n    this.onEditItem = this.onEditItem.bind(this);\r\n    this.deleteElement = this.deleteElement.bind(this);\r\n    this.duplicateElement = this.duplicateElement.bind(this);\r\n    this.addNewColumn = this.addNewColumn.bind(this);\r\n  }\r\n\r\n  // Событие вызова контекстного меню\r\n  onEditItem(e) {\r\n    //e.stopPropagation();\r\n    contextMenu.hideAll();\r\n\r\n    this.props.element.setElementAsCurrent();\r\n    getEditor().showSettingsPanel();\r\n  }\r\n\r\n  // Событие вызова контекстного меню\r\n  onSelectItem(e) {\r\n    const data = e.props.element.toObject();\r\n    saveDataToLocalStorage(\"altrp_element_to_copy\", data);\r\n    contextMenu.hideAll();\r\n  }\r\n\r\n  /**\r\n   * Удаляет элемент используя контекстоное меню\r\n   */\r\n  deleteElement() {\r\n    this.props.element.deleteThisElement();\r\n    contextMenu.hideAll();\r\n  }\r\n\r\n  /**\r\n   * Добавляет новую колонку\r\n   */\r\n  addNewColumn() {\r\n    this.props.element.insertSiblingAfter(new Column());\r\n    contextMenu.hideAll();\r\n  }\r\n\r\n  /**\r\n   * Дублирует элемент используя контекстоное меню\r\n   */\r\n  duplicateElement() {\r\n    this.props.element.duplicate();\r\n    contextMenu.hideAll();\r\n  }\r\n\r\n  /**\r\n   * Дублирует элемент используя контекстоное меню\r\n   */\r\n  onPasteElement = e => {\r\n    contextMenu.hideAll();\r\n    /**\r\n     * @member {BaseElement} currentElement\r\n     */\r\n    const currentElement = e.props.element;\r\n    const factory = getFactory();\r\n    let newElement = getDataFromLocalStorage(\"altrp_element_to_copy\");\r\n    if (!_.isObject(newElement)) {\r\n      return;\r\n    }\r\n    newElement = factory.parseData(newElement, null, true);\r\n    // newElement = factory.parseData(newElement);\r\n    if (newElement.getType() === \"section\") {\r\n      let section = currentElement.findClosestByType(\"section\");\r\n      section.insertSiblingAfter(newElement);\r\n    } else if (newElement.getType() === \"column\") {\r\n      let section = currentElement.findClosestByType(\"section\");\r\n      section.appendChild(newElement);\r\n    } else if (newElement.getType() === \"widget\") {\r\n      if (currentElement.getType() === \"section\") {\r\n        currentElement.children[0].appendChild(newElement);\r\n      } else if (currentElement.getType() === \"column\") {\r\n        currentElement.appendChild(newElement);\r\n      } else if (newElement.getType() === \"widget\") {\r\n        currentElement.insertSiblingAfter(newElement);\r\n      }\r\n    }\r\n    // newElement.update();\r\n  };\r\n  /**\r\n   * Сохраняем стили в locale storage\r\n   */\r\n  copyStyles = e => {\r\n    contextMenu.hideAll();\r\n    const dataToStore = {\r\n      settings: e.props.element.getSettings(),\r\n      elementName: e.props.element.getName()\r\n    };\r\n    localStorage.setItem(\r\n      \"copied_element_settings\",\r\n      JSON.stringify(dataToStore)\r\n    );\r\n  };\r\n  /**\r\n   * Применяем для выбранного элемента стили из locale storage\r\n   */\r\n  pasteStyles = e => {\r\n    contextMenu.hideAll();\r\n    let elementSettingsStore = getDataFromLocalStorage(\r\n      \"copied_element_settings\",\r\n      {}\r\n    );\r\n    if (elementSettingsStore.elementName !== this.props.element.getName()) {\r\n      return;\r\n    }\r\n    this.props.element.pasteStylesFromSettings(elementSettingsStore.settings);\r\n  };\r\n\r\n  /**\r\n   * Отборажает пункт удалить, если можно удалить текущую колонку (в секции обязательна одна колонка)\r\n   * @return {boolean}\r\n   */\r\n  showDeleteItem() {\r\n    return (\r\n      !this.props.element.getType ||\r\n      this.props.element.getType() !== \"column\" ||\r\n      this.props.element.canDeleteThis()\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Отборажает пункт удалить, если можно удалить текущую колонку (в секции обязательна одна колонка)\r\n   * @return {boolean}\r\n   */\r\n  showAddNewColumnItem() {\r\n    return (\r\n      !this.props.element.getType || this.props.element.getType() === \"column\"\r\n    );\r\n  }\r\n\r\n  render() {\r\n    let elementTitle = this.props.element.getTitle\r\n      ? this.props.element.getTitle()\r\n      : \"\";\r\n    let elementSettingsStore = getDataFromLocalStorage(\r\n      \"copied_element_settings\",\r\n      {}\r\n    );\r\n    const stylesPasteEnable =\r\n      Boolean(this.props.element.getName) &&\r\n      elementSettingsStore.elementName === this.props.element.getName();\r\n\r\n    if (getDataFromLocalStorage(\"altrp_element_to_copy\")) {\r\n    }\r\n    const elementPasteDisabled = !Boolean(\r\n      getDataFromLocalStorage(\"altrp_element_to_copy\")\r\n    );\r\n    return (\r\n      <Portal\r\n        className=\"altrp-portal altrp-portal_context-menu\"\r\n        container={window.EditorFrame.contentWindow.document.body}>\r\n        <Menu id=\"element-menu\">\r\n          <Item onClick={this.onEditItem}>Edit {elementTitle}</Item>\r\n          <Separator/>\r\n          <Item onClick={this.onSelectItem}>Copy</Item>\r\n          <Item onClick={this.duplicateElement}>Duplicate {elementTitle}</Item>\r\n          <Item onClick={this.onPasteElement} disabled={elementPasteDisabled}>\r\n            Paste\r\n          </Item>\r\n          <Separator/>\r\n          <Item\r\n            onClick={() => {\r\n              this.props.element.resetStyles();\r\n            }}\r\n          >\r\n            Reset Styles\r\n          </Item>\r\n          <Item onClick={this.copyStyles}>Copy Styles</Item>\r\n          <Item disabled={!stylesPasteEnable} onClick={this.pasteStyles}>\r\n            Paste Styles\r\n          </Item>\r\n          {this.showAddNewColumnItem() ? <Separator/> : \"\"}\r\n          {this.showAddNewColumnItem() ? (\r\n            <Item onClick={this.addNewColumn}>Add New Column</Item>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n          <Separator/>\r\n          <Item onClick={this.onSelectItem}>Navigator</Item>\r\n          {this.showDeleteItem() ? (\r\n            <Item onClick={this.deleteElement}>Delete {elementTitle}</Item>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n        </Menu>\r\n      </Portal>\r\n    );\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    element: state.currentContextElement.currentElement\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps)(ElementContextMenu);\r\n\r\n","import PropTypes from 'prop-types';\nimport withSideEffect from 'react-side-effect';\nimport isEqual from 'react-fast-compare';\nimport React from 'react';\nimport objectAssign from 'object-assign';\n\nvar ATTRIBUTE_NAMES = {\n    BODY: \"bodyAttributes\",\n    HTML: \"htmlAttributes\",\n    TITLE: \"titleAttributes\"\n};\n\nvar TAG_NAMES = {\n    BASE: \"base\",\n    BODY: \"body\",\n    HEAD: \"head\",\n    HTML: \"html\",\n    LINK: \"link\",\n    META: \"meta\",\n    NOSCRIPT: \"noscript\",\n    SCRIPT: \"script\",\n    STYLE: \"style\",\n    TITLE: \"title\"\n};\n\nvar VALID_TAG_NAMES = Object.keys(TAG_NAMES).map(function (name) {\n    return TAG_NAMES[name];\n});\n\nvar TAG_PROPERTIES = {\n    CHARSET: \"charset\",\n    CSS_TEXT: \"cssText\",\n    HREF: \"href\",\n    HTTPEQUIV: \"http-equiv\",\n    INNER_HTML: \"innerHTML\",\n    ITEM_PROP: \"itemprop\",\n    NAME: \"name\",\n    PROPERTY: \"property\",\n    REL: \"rel\",\n    SRC: \"src\",\n    TARGET: \"target\"\n};\n\nvar REACT_TAG_MAP = {\n    accesskey: \"accessKey\",\n    charset: \"charSet\",\n    class: \"className\",\n    contenteditable: \"contentEditable\",\n    contextmenu: \"contextMenu\",\n    \"http-equiv\": \"httpEquiv\",\n    itemprop: \"itemProp\",\n    tabindex: \"tabIndex\"\n};\n\nvar HELMET_PROPS = {\n    DEFAULT_TITLE: \"defaultTitle\",\n    DEFER: \"defer\",\n    ENCODE_SPECIAL_CHARACTERS: \"encodeSpecialCharacters\",\n    ON_CHANGE_CLIENT_STATE: \"onChangeClientState\",\n    TITLE_TEMPLATE: \"titleTemplate\"\n};\n\nvar HTML_TAG_MAP = Object.keys(REACT_TAG_MAP).reduce(function (obj, key) {\n    obj[REACT_TAG_MAP[key]] = key;\n    return obj;\n}, {});\n\nvar SELF_CLOSING_TAGS = [TAG_NAMES.NOSCRIPT, TAG_NAMES.SCRIPT, TAG_NAMES.STYLE];\n\nvar HELMET_ATTRIBUTE = \"data-react-helmet\";\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar inherits = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\nvar objectWithoutProperties = function (obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n};\n\nvar possibleConstructorReturn = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n};\n\nvar encodeSpecialCharacters = function encodeSpecialCharacters(str) {\n    var encode = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n    if (encode === false) {\n        return String(str);\n    }\n\n    return String(str).replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\").replace(/\"/g, \"&quot;\").replace(/'/g, \"&#x27;\");\n};\n\nvar getTitleFromPropsList = function getTitleFromPropsList(propsList) {\n    var innermostTitle = getInnermostProperty(propsList, TAG_NAMES.TITLE);\n    var innermostTemplate = getInnermostProperty(propsList, HELMET_PROPS.TITLE_TEMPLATE);\n\n    if (innermostTemplate && innermostTitle) {\n        // use function arg to avoid need to escape $ characters\n        return innermostTemplate.replace(/%s/g, function () {\n            return Array.isArray(innermostTitle) ? innermostTitle.join(\"\") : innermostTitle;\n        });\n    }\n\n    var innermostDefaultTitle = getInnermostProperty(propsList, HELMET_PROPS.DEFAULT_TITLE);\n\n    return innermostTitle || innermostDefaultTitle || undefined;\n};\n\nvar getOnChangeClientState = function getOnChangeClientState(propsList) {\n    return getInnermostProperty(propsList, HELMET_PROPS.ON_CHANGE_CLIENT_STATE) || function () {};\n};\n\nvar getAttributesFromPropsList = function getAttributesFromPropsList(tagType, propsList) {\n    return propsList.filter(function (props) {\n        return typeof props[tagType] !== \"undefined\";\n    }).map(function (props) {\n        return props[tagType];\n    }).reduce(function (tagAttrs, current) {\n        return _extends({}, tagAttrs, current);\n    }, {});\n};\n\nvar getBaseTagFromPropsList = function getBaseTagFromPropsList(primaryAttributes, propsList) {\n    return propsList.filter(function (props) {\n        return typeof props[TAG_NAMES.BASE] !== \"undefined\";\n    }).map(function (props) {\n        return props[TAG_NAMES.BASE];\n    }).reverse().reduce(function (innermostBaseTag, tag) {\n        if (!innermostBaseTag.length) {\n            var keys = Object.keys(tag);\n\n            for (var i = 0; i < keys.length; i++) {\n                var attributeKey = keys[i];\n                var lowerCaseAttributeKey = attributeKey.toLowerCase();\n\n                if (primaryAttributes.indexOf(lowerCaseAttributeKey) !== -1 && tag[lowerCaseAttributeKey]) {\n                    return innermostBaseTag.concat(tag);\n                }\n            }\n        }\n\n        return innermostBaseTag;\n    }, []);\n};\n\nvar getTagsFromPropsList = function getTagsFromPropsList(tagName, primaryAttributes, propsList) {\n    // Calculate list of tags, giving priority innermost component (end of the propslist)\n    var approvedSeenTags = {};\n\n    return propsList.filter(function (props) {\n        if (Array.isArray(props[tagName])) {\n            return true;\n        }\n        if (typeof props[tagName] !== \"undefined\") {\n            warn(\"Helmet: \" + tagName + \" should be of type \\\"Array\\\". Instead found type \\\"\" + _typeof(props[tagName]) + \"\\\"\");\n        }\n        return false;\n    }).map(function (props) {\n        return props[tagName];\n    }).reverse().reduce(function (approvedTags, instanceTags) {\n        var instanceSeenTags = {};\n\n        instanceTags.filter(function (tag) {\n            var primaryAttributeKey = void 0;\n            var keys = Object.keys(tag);\n            for (var i = 0; i < keys.length; i++) {\n                var attributeKey = keys[i];\n                var lowerCaseAttributeKey = attributeKey.toLowerCase();\n\n                // Special rule with link tags, since rel and href are both primary tags, rel takes priority\n                if (primaryAttributes.indexOf(lowerCaseAttributeKey) !== -1 && !(primaryAttributeKey === TAG_PROPERTIES.REL && tag[primaryAttributeKey].toLowerCase() === \"canonical\") && !(lowerCaseAttributeKey === TAG_PROPERTIES.REL && tag[lowerCaseAttributeKey].toLowerCase() === \"stylesheet\")) {\n                    primaryAttributeKey = lowerCaseAttributeKey;\n                }\n                // Special case for innerHTML which doesn't work lowercased\n                if (primaryAttributes.indexOf(attributeKey) !== -1 && (attributeKey === TAG_PROPERTIES.INNER_HTML || attributeKey === TAG_PROPERTIES.CSS_TEXT || attributeKey === TAG_PROPERTIES.ITEM_PROP)) {\n                    primaryAttributeKey = attributeKey;\n                }\n            }\n\n            if (!primaryAttributeKey || !tag[primaryAttributeKey]) {\n                return false;\n            }\n\n            var value = tag[primaryAttributeKey].toLowerCase();\n\n            if (!approvedSeenTags[primaryAttributeKey]) {\n                approvedSeenTags[primaryAttributeKey] = {};\n            }\n\n            if (!instanceSeenTags[primaryAttributeKey]) {\n                instanceSeenTags[primaryAttributeKey] = {};\n            }\n\n            if (!approvedSeenTags[primaryAttributeKey][value]) {\n                instanceSeenTags[primaryAttributeKey][value] = true;\n                return true;\n            }\n\n            return false;\n        }).reverse().forEach(function (tag) {\n            return approvedTags.push(tag);\n        });\n\n        // Update seen tags with tags from this instance\n        var keys = Object.keys(instanceSeenTags);\n        for (var i = 0; i < keys.length; i++) {\n            var attributeKey = keys[i];\n            var tagUnion = objectAssign({}, approvedSeenTags[attributeKey], instanceSeenTags[attributeKey]);\n\n            approvedSeenTags[attributeKey] = tagUnion;\n        }\n\n        return approvedTags;\n    }, []).reverse();\n};\n\nvar getInnermostProperty = function getInnermostProperty(propsList, property) {\n    for (var i = propsList.length - 1; i >= 0; i--) {\n        var props = propsList[i];\n\n        if (props.hasOwnProperty(property)) {\n            return props[property];\n        }\n    }\n\n    return null;\n};\n\nvar reducePropsToState = function reducePropsToState(propsList) {\n    return {\n        baseTag: getBaseTagFromPropsList([TAG_PROPERTIES.HREF, TAG_PROPERTIES.TARGET], propsList),\n        bodyAttributes: getAttributesFromPropsList(ATTRIBUTE_NAMES.BODY, propsList),\n        defer: getInnermostProperty(propsList, HELMET_PROPS.DEFER),\n        encode: getInnermostProperty(propsList, HELMET_PROPS.ENCODE_SPECIAL_CHARACTERS),\n        htmlAttributes: getAttributesFromPropsList(ATTRIBUTE_NAMES.HTML, propsList),\n        linkTags: getTagsFromPropsList(TAG_NAMES.LINK, [TAG_PROPERTIES.REL, TAG_PROPERTIES.HREF], propsList),\n        metaTags: getTagsFromPropsList(TAG_NAMES.META, [TAG_PROPERTIES.NAME, TAG_PROPERTIES.CHARSET, TAG_PROPERTIES.HTTPEQUIV, TAG_PROPERTIES.PROPERTY, TAG_PROPERTIES.ITEM_PROP], propsList),\n        noscriptTags: getTagsFromPropsList(TAG_NAMES.NOSCRIPT, [TAG_PROPERTIES.INNER_HTML], propsList),\n        onChangeClientState: getOnChangeClientState(propsList),\n        scriptTags: getTagsFromPropsList(TAG_NAMES.SCRIPT, [TAG_PROPERTIES.SRC, TAG_PROPERTIES.INNER_HTML], propsList),\n        styleTags: getTagsFromPropsList(TAG_NAMES.STYLE, [TAG_PROPERTIES.CSS_TEXT], propsList),\n        title: getTitleFromPropsList(propsList),\n        titleAttributes: getAttributesFromPropsList(ATTRIBUTE_NAMES.TITLE, propsList)\n    };\n};\n\nvar rafPolyfill = function () {\n    var clock = Date.now();\n\n    return function (callback) {\n        var currentTime = Date.now();\n\n        if (currentTime - clock > 16) {\n            clock = currentTime;\n            callback(currentTime);\n        } else {\n            setTimeout(function () {\n                rafPolyfill(callback);\n            }, 0);\n        }\n    };\n}();\n\nvar cafPolyfill = function cafPolyfill(id) {\n    return clearTimeout(id);\n};\n\nvar requestAnimationFrame = typeof window !== \"undefined\" ? window.requestAnimationFrame && window.requestAnimationFrame.bind(window) || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || rafPolyfill : global.requestAnimationFrame || rafPolyfill;\n\nvar cancelAnimationFrame = typeof window !== \"undefined\" ? window.cancelAnimationFrame || window.webkitCancelAnimationFrame || window.mozCancelAnimationFrame || cafPolyfill : global.cancelAnimationFrame || cafPolyfill;\n\nvar warn = function warn(msg) {\n    return console && typeof console.warn === \"function\" && console.warn(msg);\n};\n\nvar _helmetCallback = null;\n\nvar handleClientStateChange = function handleClientStateChange(newState) {\n    if (_helmetCallback) {\n        cancelAnimationFrame(_helmetCallback);\n    }\n\n    if (newState.defer) {\n        _helmetCallback = requestAnimationFrame(function () {\n            commitTagChanges(newState, function () {\n                _helmetCallback = null;\n            });\n        });\n    } else {\n        commitTagChanges(newState);\n        _helmetCallback = null;\n    }\n};\n\nvar commitTagChanges = function commitTagChanges(newState, cb) {\n    var baseTag = newState.baseTag,\n        bodyAttributes = newState.bodyAttributes,\n        htmlAttributes = newState.htmlAttributes,\n        linkTags = newState.linkTags,\n        metaTags = newState.metaTags,\n        noscriptTags = newState.noscriptTags,\n        onChangeClientState = newState.onChangeClientState,\n        scriptTags = newState.scriptTags,\n        styleTags = newState.styleTags,\n        title = newState.title,\n        titleAttributes = newState.titleAttributes;\n\n    updateAttributes(TAG_NAMES.BODY, bodyAttributes);\n    updateAttributes(TAG_NAMES.HTML, htmlAttributes);\n\n    updateTitle(title, titleAttributes);\n\n    var tagUpdates = {\n        baseTag: updateTags(TAG_NAMES.BASE, baseTag),\n        linkTags: updateTags(TAG_NAMES.LINK, linkTags),\n        metaTags: updateTags(TAG_NAMES.META, metaTags),\n        noscriptTags: updateTags(TAG_NAMES.NOSCRIPT, noscriptTags),\n        scriptTags: updateTags(TAG_NAMES.SCRIPT, scriptTags),\n        styleTags: updateTags(TAG_NAMES.STYLE, styleTags)\n    };\n\n    var addedTags = {};\n    var removedTags = {};\n\n    Object.keys(tagUpdates).forEach(function (tagType) {\n        var _tagUpdates$tagType = tagUpdates[tagType],\n            newTags = _tagUpdates$tagType.newTags,\n            oldTags = _tagUpdates$tagType.oldTags;\n\n\n        if (newTags.length) {\n            addedTags[tagType] = newTags;\n        }\n        if (oldTags.length) {\n            removedTags[tagType] = tagUpdates[tagType].oldTags;\n        }\n    });\n\n    cb && cb();\n\n    onChangeClientState(newState, addedTags, removedTags);\n};\n\nvar flattenArray = function flattenArray(possibleArray) {\n    return Array.isArray(possibleArray) ? possibleArray.join(\"\") : possibleArray;\n};\n\nvar updateTitle = function updateTitle(title, attributes) {\n    if (typeof title !== \"undefined\" && document.title !== title) {\n        document.title = flattenArray(title);\n    }\n\n    updateAttributes(TAG_NAMES.TITLE, attributes);\n};\n\nvar updateAttributes = function updateAttributes(tagName, attributes) {\n    var elementTag = document.getElementsByTagName(tagName)[0];\n\n    if (!elementTag) {\n        return;\n    }\n\n    var helmetAttributeString = elementTag.getAttribute(HELMET_ATTRIBUTE);\n    var helmetAttributes = helmetAttributeString ? helmetAttributeString.split(\",\") : [];\n    var attributesToRemove = [].concat(helmetAttributes);\n    var attributeKeys = Object.keys(attributes);\n\n    for (var i = 0; i < attributeKeys.length; i++) {\n        var attribute = attributeKeys[i];\n        var value = attributes[attribute] || \"\";\n\n        if (elementTag.getAttribute(attribute) !== value) {\n            elementTag.setAttribute(attribute, value);\n        }\n\n        if (helmetAttributes.indexOf(attribute) === -1) {\n            helmetAttributes.push(attribute);\n        }\n\n        var indexToSave = attributesToRemove.indexOf(attribute);\n        if (indexToSave !== -1) {\n            attributesToRemove.splice(indexToSave, 1);\n        }\n    }\n\n    for (var _i = attributesToRemove.length - 1; _i >= 0; _i--) {\n        elementTag.removeAttribute(attributesToRemove[_i]);\n    }\n\n    if (helmetAttributes.length === attributesToRemove.length) {\n        elementTag.removeAttribute(HELMET_ATTRIBUTE);\n    } else if (elementTag.getAttribute(HELMET_ATTRIBUTE) !== attributeKeys.join(\",\")) {\n        elementTag.setAttribute(HELMET_ATTRIBUTE, attributeKeys.join(\",\"));\n    }\n};\n\nvar updateTags = function updateTags(type, tags) {\n    var headElement = document.head || document.querySelector(TAG_NAMES.HEAD);\n    var tagNodes = headElement.querySelectorAll(type + \"[\" + HELMET_ATTRIBUTE + \"]\");\n    var oldTags = Array.prototype.slice.call(tagNodes);\n    var newTags = [];\n    var indexToDelete = void 0;\n\n    if (tags && tags.length) {\n        tags.forEach(function (tag) {\n            var newElement = document.createElement(type);\n\n            for (var attribute in tag) {\n                if (tag.hasOwnProperty(attribute)) {\n                    if (attribute === TAG_PROPERTIES.INNER_HTML) {\n                        newElement.innerHTML = tag.innerHTML;\n                    } else if (attribute === TAG_PROPERTIES.CSS_TEXT) {\n                        if (newElement.styleSheet) {\n                            newElement.styleSheet.cssText = tag.cssText;\n                        } else {\n                            newElement.appendChild(document.createTextNode(tag.cssText));\n                        }\n                    } else {\n                        var value = typeof tag[attribute] === \"undefined\" ? \"\" : tag[attribute];\n                        newElement.setAttribute(attribute, value);\n                    }\n                }\n            }\n\n            newElement.setAttribute(HELMET_ATTRIBUTE, \"true\");\n\n            // Remove a duplicate tag from domTagstoRemove, so it isn't cleared.\n            if (oldTags.some(function (existingTag, index) {\n                indexToDelete = index;\n                return newElement.isEqualNode(existingTag);\n            })) {\n                oldTags.splice(indexToDelete, 1);\n            } else {\n                newTags.push(newElement);\n            }\n        });\n    }\n\n    oldTags.forEach(function (tag) {\n        return tag.parentNode.removeChild(tag);\n    });\n    newTags.forEach(function (tag) {\n        return headElement.appendChild(tag);\n    });\n\n    return {\n        oldTags: oldTags,\n        newTags: newTags\n    };\n};\n\nvar generateElementAttributesAsString = function generateElementAttributesAsString(attributes) {\n    return Object.keys(attributes).reduce(function (str, key) {\n        var attr = typeof attributes[key] !== \"undefined\" ? key + \"=\\\"\" + attributes[key] + \"\\\"\" : \"\" + key;\n        return str ? str + \" \" + attr : attr;\n    }, \"\");\n};\n\nvar generateTitleAsString = function generateTitleAsString(type, title, attributes, encode) {\n    var attributeString = generateElementAttributesAsString(attributes);\n    var flattenedTitle = flattenArray(title);\n    return attributeString ? \"<\" + type + \" \" + HELMET_ATTRIBUTE + \"=\\\"true\\\" \" + attributeString + \">\" + encodeSpecialCharacters(flattenedTitle, encode) + \"</\" + type + \">\" : \"<\" + type + \" \" + HELMET_ATTRIBUTE + \"=\\\"true\\\">\" + encodeSpecialCharacters(flattenedTitle, encode) + \"</\" + type + \">\";\n};\n\nvar generateTagsAsString = function generateTagsAsString(type, tags, encode) {\n    return tags.reduce(function (str, tag) {\n        var attributeHtml = Object.keys(tag).filter(function (attribute) {\n            return !(attribute === TAG_PROPERTIES.INNER_HTML || attribute === TAG_PROPERTIES.CSS_TEXT);\n        }).reduce(function (string, attribute) {\n            var attr = typeof tag[attribute] === \"undefined\" ? attribute : attribute + \"=\\\"\" + encodeSpecialCharacters(tag[attribute], encode) + \"\\\"\";\n            return string ? string + \" \" + attr : attr;\n        }, \"\");\n\n        var tagContent = tag.innerHTML || tag.cssText || \"\";\n\n        var isSelfClosing = SELF_CLOSING_TAGS.indexOf(type) === -1;\n\n        return str + \"<\" + type + \" \" + HELMET_ATTRIBUTE + \"=\\\"true\\\" \" + attributeHtml + (isSelfClosing ? \"/>\" : \">\" + tagContent + \"</\" + type + \">\");\n    }, \"\");\n};\n\nvar convertElementAttributestoReactProps = function convertElementAttributestoReactProps(attributes) {\n    var initProps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    return Object.keys(attributes).reduce(function (obj, key) {\n        obj[REACT_TAG_MAP[key] || key] = attributes[key];\n        return obj;\n    }, initProps);\n};\n\nvar convertReactPropstoHtmlAttributes = function convertReactPropstoHtmlAttributes(props) {\n    var initAttributes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    return Object.keys(props).reduce(function (obj, key) {\n        obj[HTML_TAG_MAP[key] || key] = props[key];\n        return obj;\n    }, initAttributes);\n};\n\nvar generateTitleAsReactComponent = function generateTitleAsReactComponent(type, title, attributes) {\n    var _initProps;\n\n    // assigning into an array to define toString function on it\n    var initProps = (_initProps = {\n        key: title\n    }, _initProps[HELMET_ATTRIBUTE] = true, _initProps);\n    var props = convertElementAttributestoReactProps(attributes, initProps);\n\n    return [React.createElement(TAG_NAMES.TITLE, props, title)];\n};\n\nvar generateTagsAsReactComponent = function generateTagsAsReactComponent(type, tags) {\n    return tags.map(function (tag, i) {\n        var _mappedTag;\n\n        var mappedTag = (_mappedTag = {\n            key: i\n        }, _mappedTag[HELMET_ATTRIBUTE] = true, _mappedTag);\n\n        Object.keys(tag).forEach(function (attribute) {\n            var mappedAttribute = REACT_TAG_MAP[attribute] || attribute;\n\n            if (mappedAttribute === TAG_PROPERTIES.INNER_HTML || mappedAttribute === TAG_PROPERTIES.CSS_TEXT) {\n                var content = tag.innerHTML || tag.cssText;\n                mappedTag.dangerouslySetInnerHTML = { __html: content };\n            } else {\n                mappedTag[mappedAttribute] = tag[attribute];\n            }\n        });\n\n        return React.createElement(type, mappedTag);\n    });\n};\n\nvar getMethodsForTag = function getMethodsForTag(type, tags, encode) {\n    switch (type) {\n        case TAG_NAMES.TITLE:\n            return {\n                toComponent: function toComponent() {\n                    return generateTitleAsReactComponent(type, tags.title, tags.titleAttributes, encode);\n                },\n                toString: function toString() {\n                    return generateTitleAsString(type, tags.title, tags.titleAttributes, encode);\n                }\n            };\n        case ATTRIBUTE_NAMES.BODY:\n        case ATTRIBUTE_NAMES.HTML:\n            return {\n                toComponent: function toComponent() {\n                    return convertElementAttributestoReactProps(tags);\n                },\n                toString: function toString() {\n                    return generateElementAttributesAsString(tags);\n                }\n            };\n        default:\n            return {\n                toComponent: function toComponent() {\n                    return generateTagsAsReactComponent(type, tags);\n                },\n                toString: function toString() {\n                    return generateTagsAsString(type, tags, encode);\n                }\n            };\n    }\n};\n\nvar mapStateOnServer = function mapStateOnServer(_ref) {\n    var baseTag = _ref.baseTag,\n        bodyAttributes = _ref.bodyAttributes,\n        encode = _ref.encode,\n        htmlAttributes = _ref.htmlAttributes,\n        linkTags = _ref.linkTags,\n        metaTags = _ref.metaTags,\n        noscriptTags = _ref.noscriptTags,\n        scriptTags = _ref.scriptTags,\n        styleTags = _ref.styleTags,\n        _ref$title = _ref.title,\n        title = _ref$title === undefined ? \"\" : _ref$title,\n        titleAttributes = _ref.titleAttributes;\n    return {\n        base: getMethodsForTag(TAG_NAMES.BASE, baseTag, encode),\n        bodyAttributes: getMethodsForTag(ATTRIBUTE_NAMES.BODY, bodyAttributes, encode),\n        htmlAttributes: getMethodsForTag(ATTRIBUTE_NAMES.HTML, htmlAttributes, encode),\n        link: getMethodsForTag(TAG_NAMES.LINK, linkTags, encode),\n        meta: getMethodsForTag(TAG_NAMES.META, metaTags, encode),\n        noscript: getMethodsForTag(TAG_NAMES.NOSCRIPT, noscriptTags, encode),\n        script: getMethodsForTag(TAG_NAMES.SCRIPT, scriptTags, encode),\n        style: getMethodsForTag(TAG_NAMES.STYLE, styleTags, encode),\n        title: getMethodsForTag(TAG_NAMES.TITLE, { title: title, titleAttributes: titleAttributes }, encode)\n    };\n};\n\nvar Helmet = function Helmet(Component) {\n    var _class, _temp;\n\n    return _temp = _class = function (_React$Component) {\n        inherits(HelmetWrapper, _React$Component);\n\n        function HelmetWrapper() {\n            classCallCheck(this, HelmetWrapper);\n            return possibleConstructorReturn(this, _React$Component.apply(this, arguments));\n        }\n\n        HelmetWrapper.prototype.shouldComponentUpdate = function shouldComponentUpdate(nextProps) {\n            return !isEqual(this.props, nextProps);\n        };\n\n        HelmetWrapper.prototype.mapNestedChildrenToProps = function mapNestedChildrenToProps(child, nestedChildren) {\n            if (!nestedChildren) {\n                return null;\n            }\n\n            switch (child.type) {\n                case TAG_NAMES.SCRIPT:\n                case TAG_NAMES.NOSCRIPT:\n                    return {\n                        innerHTML: nestedChildren\n                    };\n\n                case TAG_NAMES.STYLE:\n                    return {\n                        cssText: nestedChildren\n                    };\n            }\n\n            throw new Error(\"<\" + child.type + \" /> elements are self-closing and can not contain children. Refer to our API for more information.\");\n        };\n\n        HelmetWrapper.prototype.flattenArrayTypeChildren = function flattenArrayTypeChildren(_ref) {\n            var _babelHelpers$extends;\n\n            var child = _ref.child,\n                arrayTypeChildren = _ref.arrayTypeChildren,\n                newChildProps = _ref.newChildProps,\n                nestedChildren = _ref.nestedChildren;\n\n            return _extends({}, arrayTypeChildren, (_babelHelpers$extends = {}, _babelHelpers$extends[child.type] = [].concat(arrayTypeChildren[child.type] || [], [_extends({}, newChildProps, this.mapNestedChildrenToProps(child, nestedChildren))]), _babelHelpers$extends));\n        };\n\n        HelmetWrapper.prototype.mapObjectTypeChildren = function mapObjectTypeChildren(_ref2) {\n            var _babelHelpers$extends2, _babelHelpers$extends3;\n\n            var child = _ref2.child,\n                newProps = _ref2.newProps,\n                newChildProps = _ref2.newChildProps,\n                nestedChildren = _ref2.nestedChildren;\n\n            switch (child.type) {\n                case TAG_NAMES.TITLE:\n                    return _extends({}, newProps, (_babelHelpers$extends2 = {}, _babelHelpers$extends2[child.type] = nestedChildren, _babelHelpers$extends2.titleAttributes = _extends({}, newChildProps), _babelHelpers$extends2));\n\n                case TAG_NAMES.BODY:\n                    return _extends({}, newProps, {\n                        bodyAttributes: _extends({}, newChildProps)\n                    });\n\n                case TAG_NAMES.HTML:\n                    return _extends({}, newProps, {\n                        htmlAttributes: _extends({}, newChildProps)\n                    });\n            }\n\n            return _extends({}, newProps, (_babelHelpers$extends3 = {}, _babelHelpers$extends3[child.type] = _extends({}, newChildProps), _babelHelpers$extends3));\n        };\n\n        HelmetWrapper.prototype.mapArrayTypeChildrenToProps = function mapArrayTypeChildrenToProps(arrayTypeChildren, newProps) {\n            var newFlattenedProps = _extends({}, newProps);\n\n            Object.keys(arrayTypeChildren).forEach(function (arrayChildName) {\n                var _babelHelpers$extends4;\n\n                newFlattenedProps = _extends({}, newFlattenedProps, (_babelHelpers$extends4 = {}, _babelHelpers$extends4[arrayChildName] = arrayTypeChildren[arrayChildName], _babelHelpers$extends4));\n            });\n\n            return newFlattenedProps;\n        };\n\n        HelmetWrapper.prototype.warnOnInvalidChildren = function warnOnInvalidChildren(child, nestedChildren) {\n            if (process.env.NODE_ENV !== \"production\") {\n                if (!VALID_TAG_NAMES.some(function (name) {\n                    return child.type === name;\n                })) {\n                    if (typeof child.type === \"function\") {\n                        return warn(\"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.\");\n                    }\n\n                    return warn(\"Only elements types \" + VALID_TAG_NAMES.join(\", \") + \" are allowed. Helmet does not support rendering <\" + child.type + \"> elements. Refer to our API for more information.\");\n                }\n\n                if (nestedChildren && typeof nestedChildren !== \"string\" && (!Array.isArray(nestedChildren) || nestedChildren.some(function (nestedChild) {\n                    return typeof nestedChild !== \"string\";\n                }))) {\n                    throw new Error(\"Helmet expects a string as a child of <\" + child.type + \">. Did you forget to wrap your children in braces? ( <\" + child.type + \">{``}</\" + child.type + \"> ) Refer to our API for more information.\");\n                }\n            }\n\n            return true;\n        };\n\n        HelmetWrapper.prototype.mapChildrenToProps = function mapChildrenToProps(children, newProps) {\n            var _this2 = this;\n\n            var arrayTypeChildren = {};\n\n            React.Children.forEach(children, function (child) {\n                if (!child || !child.props) {\n                    return;\n                }\n\n                var _child$props = child.props,\n                    nestedChildren = _child$props.children,\n                    childProps = objectWithoutProperties(_child$props, [\"children\"]);\n\n                var newChildProps = convertReactPropstoHtmlAttributes(childProps);\n\n                _this2.warnOnInvalidChildren(child, nestedChildren);\n\n                switch (child.type) {\n                    case TAG_NAMES.LINK:\n                    case TAG_NAMES.META:\n                    case TAG_NAMES.NOSCRIPT:\n                    case TAG_NAMES.SCRIPT:\n                    case TAG_NAMES.STYLE:\n                        arrayTypeChildren = _this2.flattenArrayTypeChildren({\n                            child: child,\n                            arrayTypeChildren: arrayTypeChildren,\n                            newChildProps: newChildProps,\n                            nestedChildren: nestedChildren\n                        });\n                        break;\n\n                    default:\n                        newProps = _this2.mapObjectTypeChildren({\n                            child: child,\n                            newProps: newProps,\n                            newChildProps: newChildProps,\n                            nestedChildren: nestedChildren\n                        });\n                        break;\n                }\n            });\n\n            newProps = this.mapArrayTypeChildrenToProps(arrayTypeChildren, newProps);\n            return newProps;\n        };\n\n        HelmetWrapper.prototype.render = function render() {\n            var _props = this.props,\n                children = _props.children,\n                props = objectWithoutProperties(_props, [\"children\"]);\n\n            var newProps = _extends({}, props);\n\n            if (children) {\n                newProps = this.mapChildrenToProps(children, newProps);\n            }\n\n            return React.createElement(Component, newProps);\n        };\n\n        createClass(HelmetWrapper, null, [{\n            key: \"canUseDOM\",\n\n\n            // Component.peek comes from react-side-effect:\n            // For testing, you may use a static peek() method available on the returned component.\n            // It lets you get the current state without resetting the mounted instance stack.\n            // Don’t use it for anything other than testing.\n\n            /**\n             * @param {Object} base: {\"target\": \"_blank\", \"href\": \"http://mysite.com/\"}\n             * @param {Object} bodyAttributes: {\"className\": \"root\"}\n             * @param {String} defaultTitle: \"Default Title\"\n             * @param {Boolean} defer: true\n             * @param {Boolean} encodeSpecialCharacters: true\n             * @param {Object} htmlAttributes: {\"lang\": \"en\", \"amp\": undefined}\n             * @param {Array} link: [{\"rel\": \"canonical\", \"href\": \"http://mysite.com/example\"}]\n             * @param {Array} meta: [{\"name\": \"description\", \"content\": \"Test description\"}]\n             * @param {Array} noscript: [{\"innerHTML\": \"<img src='http://mysite.com/js/test.js'\"}]\n             * @param {Function} onChangeClientState: \"(newState) => console.log(newState)\"\n             * @param {Array} script: [{\"type\": \"text/javascript\", \"src\": \"http://mysite.com/js/test.js\"}]\n             * @param {Array} style: [{\"type\": \"text/css\", \"cssText\": \"div { display: block; color: blue; }\"}]\n             * @param {String} title: \"Title\"\n             * @param {Object} titleAttributes: {\"itemprop\": \"name\"}\n             * @param {String} titleTemplate: \"MySite.com - %s\"\n             */\n            set: function set$$1(canUseDOM) {\n                Component.canUseDOM = canUseDOM;\n            }\n        }]);\n        return HelmetWrapper;\n    }(React.Component), _class.propTypes = {\n        base: PropTypes.object,\n        bodyAttributes: PropTypes.object,\n        children: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.node), PropTypes.node]),\n        defaultTitle: PropTypes.string,\n        defer: PropTypes.bool,\n        encodeSpecialCharacters: PropTypes.bool,\n        htmlAttributes: PropTypes.object,\n        link: PropTypes.arrayOf(PropTypes.object),\n        meta: PropTypes.arrayOf(PropTypes.object),\n        noscript: PropTypes.arrayOf(PropTypes.object),\n        onChangeClientState: PropTypes.func,\n        script: PropTypes.arrayOf(PropTypes.object),\n        style: PropTypes.arrayOf(PropTypes.object),\n        title: PropTypes.string,\n        titleAttributes: PropTypes.object,\n        titleTemplate: PropTypes.string\n    }, _class.defaultProps = {\n        defer: true,\n        encodeSpecialCharacters: true\n    }, _class.peek = Component.peek, _class.rewind = function () {\n        var mappedState = Component.rewind();\n        if (!mappedState) {\n            // provide fallback if mappedState is undefined\n            mappedState = mapStateOnServer({\n                baseTag: [],\n                bodyAttributes: {},\n                encodeSpecialCharacters: true,\n                htmlAttributes: {},\n                linkTags: [],\n                metaTags: [],\n                noscriptTags: [],\n                scriptTags: [],\n                styleTags: [],\n                title: \"\",\n                titleAttributes: {}\n            });\n        }\n\n        return mappedState;\n    }, _temp;\n};\n\nvar NullComponent = function NullComponent() {\n    return null;\n};\n\nvar HelmetSideEffects = withSideEffect(reducePropsToState, handleClientStateChange, mapStateOnServer)(NullComponent);\n\nvar HelmetExport = Helmet(HelmetSideEffects);\nHelmetExport.renderStatic = HelmetExport.rewind;\n\nexport default HelmetExport;\nexport { HelmetExport as Helmet };\n","import {Helmet} from \"react-helmet\";\r\nimport {renderFontLink, delay} from \"../helpers\";\r\n\r\n\r\nclass FontsManager extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      fonts: [],\r\n    };\r\n    this.helmetRef = React.createRef();\r\n    window.helmetRef = this.helmetRef;\r\n  }\r\n\r\n  async componentDidMount() {\r\n    await delay(1000);\r\n    this.setState(state=>({...state, renderFonts: true}));\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {{}} prevProps\r\n   * @param {{}} prevState\r\n   */\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if(!this.state.renderFonts){\r\n      return;\r\n    }\r\n    let fonts = new Set();\r\n    const fontsPairs = _.toPairs(this.props.altrpFonts.getData());\r\n    fontsPairs.forEach(([key, value]) => {\r\n      fonts.add(value);\r\n    });\r\n    fonts = _.toArray(fonts);\r\n    if (_.isEqual(fonts, this.state.fonts)) {\r\n      return;\r\n    }\r\n    this.setState(state => ({...state, fonts}));\r\n  }\r\n\r\n  render() {\r\n    const {fonts} = this.state;\r\n\r\n    return <Helmet ref={this.helmetRef}>\r\n      {fonts.map(renderFontLink)}\r\n    </Helmet>\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    altrpFonts: state.altrpFonts,\r\n  };\r\n}\r\n\r\nexport default window.reactRedux.connect(mapStateToProps)(FontsManager);\r\n\r\n\r\n","class FrontElementsManager {\r\n  constructor() {\r\n    //список компонентов\r\n\r\n    this.ELEMENTS = [\r\n      {\r\n        name: \"root-element\",\r\n        import: async () => {\r\n          return await import(\r\n            /* webpackChunkName: 'RootComponent' */ \"../../../../editor/src/js/components/RootComponent\"\r\n          );\r\n        }\r\n      },\r\n      {\r\n        name: \"heading\",\r\n        import: async () => {\r\n          return await import(\r\n            /* webpackChunkName: 'HeadingTypeHeadingWidget' */ \"../../../../editor/src/js/components/widgets/HeadingTypeHeadingWidget\"\r\n          );\r\n        }\r\n      },\r\n      {\r\n        name: \"heading-type-animating\",\r\n        import: async () => {\r\n          return await import(\r\n            /* webpackChunkName: 'HeadingTypeAnimatingWidget' */ \"../../../../editor/src/js/components/widgets/HeadingTypeAnimatingWidget\"\r\n          );\r\n        }\r\n      },\r\n      {\r\n        name: \"section\",\r\n        import: async () => {\r\n          return await import(\r\n            /* webpackChunkName: 'SectionComponent' */ \"../../../../editor/src/js/components/SectionComponent\"\r\n          );\r\n        }\r\n      },\r\n      {\r\n        name: \"section_widget\",\r\n        import: async () => {\r\n          return await import(\r\n            /* webpackChunkName: 'SectionComponent' */ \"../../../../editor/src/js/components/SectionComponent\"\r\n          );\r\n        }\r\n      },\r\n      {\r\n        name: \"column\",\r\n        import: async () => {\r\n          return await import(\r\n            /* webpackChunkName: 'ColumnComponent' */ \"../../../../editor/src/js/components/ColumnComponent\"\r\n          );\r\n        }\r\n      },\r\n      {\r\n        name: \"input\",\r\n        import: async () => {\r\n          return await import(\r\n            /* webpackChunkName: 'InputWidget' */ \"../../../../editor/src/js/components/widgets/InputWidget\"\r\n          );\r\n        }\r\n      },\r\n      {\r\n        name: \"input-text-common\",\r\n        import: async () => {\r\n          return await import(\r\n            /* webpackChunkName: 'InputTextCommonWidget' */ \"../../../../editor/src/js/components/widgets/InputTextCommonWidget\"\r\n          );\r\n        }\r\n      },\r\n      {\r\n        name: \"input-text\",\r\n        import: async () => {\r\n          return await import(\r\n            /* webpackChunkName: 'InputTextCommonWidget' */ \"../../../../editor/src/js/components/widgets/InputTextWidget\"\r\n          );\r\n        }\r\n      },\r\n      {\r\n        name: \"input-select\",\r\n        import: async () => {\r\n          return await import(\r\n            /* webpackChunkName: 'InputSelectWidget' */ \"../../../../editor/src/js/components/widgets/InputSelectWidget\"\r\n          );\r\n        }\r\n      },\r\n      {\r\n        name: \"input-select2\",\r\n        import: async () => {\r\n          return await import(\r\n            /* webpackChunkName: 'InputSelect2Widget' */ \"../../../../editor/src/js/components/widgets/InputSelect2Widget\"\r\n          );\r\n        }\r\n      },\r\n      {\r\n        name: \"input-radio\",\r\n        import: async () => {\r\n          return await import(\r\n            /* webpackChunkName: 'InputRadio' */ \"../../../../editor/src/js/components/widgets/InputRadioWidget\"\r\n          );\r\n        }\r\n      },\r\n      {\r\n        name: \"input-checkbox\",\r\n        import: async () => {\r\n          return await import(\r\n            /* webpackChunkName: 'InputCheckbox' */ \"../../../../editor/src/js/components/widgets/InputCheckboxWidget\"\r\n          );\r\n        }\r\n      },\r\n      {\r\n        name: \"input-wysiwyg\",\r\n        import: async () => {\r\n          return await import(\r\n            /* webpackChunkName: 'InputWysiwyg' */ \"../../../../editor/src/js/components/widgets/InputWysiwygWidget\"\r\n          );\r\n        }\r\n      },\r\n      {\r\n        name: \"input-textarea\",\r\n        import: async () => {\r\n          return await import(\r\n            /* webpackChunkName: 'InputTextarea' */ \"../../../../editor/src/js/components/widgets/InputTextareaWidget\"\r\n          );\r\n        }\r\n      },\r\n      {\r\n        name: \"input-image-select\",\r\n        import: async () => {\r\n          return await import(\r\n            /* webpackChunkName: 'InputImageSelect' */ \"../../../../editor/src/js/components/widgets/InputImageSelectWidget\"\r\n          );\r\n        }\r\n      },\r\n      {\r\n        name: \"input-accept\",\r\n        import: async () => {\r\n          return await import(\r\n            /* webpackChunkName: 'InputAccept' */ \"../../../../editor/src/js/components/widgets/InputAcceptWidget\"\r\n          );\r\n        }\r\n      },\r\n      {\r\n        name: \"input-date\",\r\n        import: async () => {\r\n          return await import(\r\n            /* webpackChunkName: 'InputDate' */ \"../../../../editor/src/js/components/widgets/InputDateWidget\"\r\n          );\r\n        }\r\n      },\r\n      {\r\n        name: \"input-hidden\",\r\n        import: async () => {\r\n          return await import(\r\n            /* webpackChunkName: 'InputHidden' */ \"../../../../editor/src/js/components/widgets/InputHiddenWidget\"\r\n          );\r\n        }\r\n      },\r\n      {\r\n        name: \"input-file\",\r\n        import: async () => {\r\n          return await import(\r\n            /* webpackChunkName: 'InputFile' */ \"../../../../editor/src/js/components/widgets/InputFileWidget\"\r\n          );\r\n        }\r\n      },\r\n      {\r\n        name: \"input-gallery\",\r\n        import: async () => {\r\n          return await import(\r\n            /* webpackChunkName: 'InputGallery' */ \"../../../../editor/src/js/components/widgets/InputGalleryWidget\"\r\n          );\r\n        }\r\n      },\r\n      {\r\n        name: \"button\",\r\n        import: async () => {\r\n          return await import(\r\n            /* webpackChunkName: 'ButtonWidget' */ \"../../../../editor/src/js/components/widgets/ButtonWidget\"\r\n          );\r\n        }\r\n      },\r\n      {\r\n        name: \"breadcrumbs\",\r\n        import: async () => {\r\n          return await import(\r\n            /* webpackChunkName: 'BreadcrumbsWidget' */ \"../../../../editor/src/js/components/widgets/BreadcrumbsWidget\"\r\n          );\r\n        }\r\n      },\r\n      {\r\n        name: \"text\",\r\n        import: async () => {\r\n          return await import(\r\n            /* webpackChunkName: 'TextWidget' */ \"../../../../editor/src/js/components/widgets/TextWidget\"\r\n          );\r\n        }\r\n      },\r\n      {\r\n        name: \"image\",\r\n        import: async () => {\r\n          return await import(\r\n            /* webpackChunkName: 'ImageWidget' */ \"../../../../editor/src/js/components/widgets/ImageWidget\"\r\n          );\r\n        }\r\n      },\r\n      {\r\n        name: \"table\",\r\n        import: async () => {\r\n          return await import(\r\n            /* webpackChunkName: 'TableWidget' */ \"../../../../editor/src/js/components/widgets/TableWidget\"\r\n          );\r\n        }\r\n      },\r\n      {\r\n        name: \"posts\",\r\n        import: async () => {\r\n          return await import(\r\n            /* webpackChunkName: 'PostsWidget' */ \"../../../../editor/src/js/components/widgets/PostsWidget\"\r\n          );\r\n        }\r\n      },\r\n      {\r\n        name: \"nav\",\r\n        import: async () => {\r\n          return await import(\r\n            /* webpackChunkName: 'NavWidget' */ \"../../../../editor/src/js/components/widgets/NavWidget\"\r\n          );\r\n        }\r\n      },\r\n      {\r\n        name: \"divider\",\r\n        import: async () => {\r\n          return await import(\r\n            /* webpackChunkName: 'DividerWidget' */ \"../../../../editor/src/js/components/widgets/DividerWidget\"\r\n          );\r\n        }\r\n      },\r\n      {\r\n        name: \"tabs\",\r\n        import: async () => {\r\n          return await import(\r\n            /* webpackChunkName: 'TabsWidget' */ \"../../../../editor/src/js/components/widgets/TabsWidget\"\r\n          );\r\n        }\r\n      },\r\n      {\r\n        name: \"poster\",\r\n        import: async () => {\r\n          return await import(\r\n            /* webpackChunkName: 'PosterWidget' */ \"../../../../editor/src/js/components/widgets/PosterWidget\"\r\n          );\r\n        }\r\n      },\r\n      {\r\n        name: \"list\",\r\n        import: async () => {\r\n          return await import(\r\n            /* webpackChunkName: 'ListWidget' */ \"../../../../editor/src/js/components/widgets/ListWidget\"\r\n          );\r\n        }\r\n      },\r\n      {\r\n        name: \"accordion\",\r\n        import: async () => {\r\n          return await import(\r\n            /* webpackChunkName: 'AccordionWidget' */ \"../../../../editor/src/js/components/widgets/AccordionWidget\"\r\n          );\r\n        }\r\n      },\r\n      {\r\n        name: \"carousel\",\r\n        import: async () => {\r\n          return await import(\r\n            /* webpackChunkName: 'CarouselWidget' */ \"../../../../editor/src/js/components/widgets/CarouselWidget\"\r\n          );\r\n        }\r\n      },\r\n      {\r\n        name: \"map\",\r\n        import: async () => {\r\n          return await import(\r\n            /* webpackChunkName: 'MapWidget' */ \"../../../../editor/src/js/components/widgets/MapWidget\"\r\n          );\r\n        }\r\n      },\r\n      {\r\n        name: \"map_builder\",\r\n        import: async () => {\r\n          return await import(\r\n            /* webpackChunkName: 'MapConstructorWidget' */ \"../../../../editor/src/js/components/widgets/MapConstructorWidget\"\r\n          );\r\n        }\r\n      },\r\n      {\r\n        name: \"menu\",\r\n        import: async () => {\r\n          return await import(\r\n            /* webpackChunkName: 'MenuWidget' */ \"../../../../editor/src/js/components/widgets/MenuWidget\"\r\n          );\r\n        }\r\n      },\r\n      {\r\n        name: \"diagram\",\r\n        import: async () => {\r\n          return await import(\r\n            /* webpackChunkName: 'DiagramWidget' */ \"../../../../editor/src/js/components/widgets/DiagramWidget\"\r\n          );\r\n        }\r\n      },\r\n      {\r\n        name: \"dashboards\",\r\n        import: async () => {\r\n          return await import(\r\n            /* webpackChunkName: 'DashboardsWidget' */ \"../../../../editor/src/js/components/widgets/DashboardsWidget\"\r\n          );\r\n        }\r\n      },\r\n      {\r\n        name: \"tour\",\r\n        import: async () => {\r\n          return await import(\r\n            /* webpackChunkName: 'TourGuide' */ \"../../../../editor/src/js/components/widgets/TourGuide\"\r\n          );\r\n        }\r\n      },\r\n      {\r\n        name: \"icon\",\r\n        import: async () => {\r\n          return await import(\r\n            /* webpackChunkName: 'IconWidget' */ \"../../../../editor/src/js/components/widgets/IconWidget\"\r\n          );\r\n        }\r\n      },\r\n      {\r\n        name: \"export\",\r\n        import: async () => {\r\n          return await import(\r\n            /* webpackChunkName: 'ExportPanelWidget' */ \"../../../../editor/src/js/components/widgets/ExportPanelWidget\"\r\n          );\r\n        }\r\n      },\r\n      {\r\n        name: \"html\",\r\n        import: async () => {\r\n          return await import(\r\n            /* webpackChunkName: 'HtmlWidget' */ \"../../../../editor/src/js/components/widgets/HtmlWidget\"\r\n          );\r\n        }\r\n      },\r\n      {\r\n        name: \"template\",\r\n        import: async () => {\r\n          return await import(\r\n            /* webpackChunkName: 'TemplateWidget' */ \"../../../../editor/src/js/components/widgets/TemplateWidget\"\r\n          );\r\n        }\r\n      },\r\n      {\r\n        name: \"gallery\",\r\n        import: async () => {\r\n          return await import(\r\n            /* webpackChunkName: 'GalleryWidget' */ \"../../../../editor/src/js/components/widgets/GalleryWidget\"\r\n          );\r\n        }\r\n      },\r\n      {\r\n        name: \"video\",\r\n        import: async () => {\r\n          return await import(\r\n            /* webpackChunkName: 'VideoWidget' */ \"../../../../editor/src/js/components/widgets/VideoWidget\"\r\n          );\r\n        }\r\n      },\r\n      {\r\n        name: \"dropbar\",\r\n        import: async () => {\r\n          return await import(\r\n            /* webpackChunkName: 'DropbarWidget' */ \"../../../../editor/src/js/components/widgets/DropbarWidget\"\r\n            );\r\n        }\r\n      },\r\n      {\r\n        name: \"tabs-switcher\",\r\n        import: async () => {\r\n          return await import(\r\n            /* webpackChunkName: 'TabsSwitcherWidget' */ \"../../../../editor/src/js/components/widgets/TabsSwitcherWidget\"\r\n            );\r\n        }\r\n      },\r\n      {\r\n        name: \"image-lightbox\",\r\n        import: async () => {\r\n          return await import(\r\n            /* webpackChunkName: 'TabsSwitcherWidget' */ \"../../../../editor/src/js/components/widgets/ImageLightboxWidget\"\r\n            );\r\n        }\r\n      },\r\n      {\r\n        name: \"input-slider\",\r\n        import: async () => {\r\n          return await import(\r\n            /* webpackChunkName: 'InputSliderWidget' */ \"../../../../editor/src/js/components/widgets/InputSliderWidget\"\r\n            );\r\n        }\r\n      },\r\n      {\r\n        name: \"input-range-slider\",\r\n        import: async () => {\r\n          return await import(\r\n            /* webpackChunkName: 'InputRangeSliderWidget' */ \"../../../../editor/src/js/components/widgets/InputRangeSliderWidget\"\r\n            );\r\n        }\r\n      }\r\n    ];\r\n    this.components = {};\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @return {Promise<void>}\r\n   */\r\n  async loadComponents() {\r\n    let componentsToLoad;\r\n    if (window.altrpElementsLists) {\r\n      window.altrpElementsLists = window.altrpElementsLists.filter(elementName =>{\r\n        return this.ELEMENTS.find(element => elementName === element.name);\r\n      })\r\n      componentsToLoad = this.ELEMENTS.filter(el => {\r\n        return window.altrpElementsLists.indexOf(el.name) !== -1;\r\n      });\r\n      // componentsToLoad = componentsToLoad.map(async el => {\r\n      //   return (this.components[el.name] = (\r\n      //     await el.import()\r\n      //   ).default);\r\n      // });\r\n      componentsToLoad = componentsToLoad.map(el => {\r\n        return new Promise((resolve, reject) => {\r\n          el.import().then(res=>{\r\n            console.log(`LOAD Widget Component ${el.name}`, performance.now());\r\n            this.components[el.name] = res.default\r\n            resolve(res);\r\n          })\r\n        })\r\n      });\r\n    } else {\r\n      componentsToLoad = this.ELEMENTS.map(async el => {\r\n        return (this.components[el.name] = (\r\n          await el.import()\r\n        ).default);\r\n      });\r\n    }\r\n    return await Promise.all(componentsToLoad);\r\n    // return true;\r\n  }\r\n\r\n  /**\r\n   * Загружаем все компоненты\r\n   * @return {Promise<void>}\r\n   */\r\n  async loadAllComponents() {\r\n    const componentsToLoad = this.ELEMENTS.map(async el => {\r\n      this.components[el.name] = (\r\n        await el.import(/* webpackChunkName: 'FrontElementsFabric' */)\r\n      ).default;\r\n    });\r\n    await Promise.all(componentsToLoad);\r\n  }\r\n  /**\r\n   * Загружаем оставшиеся компоненты\r\n   * @return {Promise<void>}\r\n   */\r\n  async loadNotUsedComponent() {\r\n    if (!window.altrpElementsLists) {\r\n      return;\r\n    }\r\n    if(window.LIBS){\r\n      await Promise.all(Object.values(window.LIBS).map(l=>l()));\r\n    }\r\n    let componentsToLoad = this.ELEMENTS.filter(el => {\r\n      return window.altrpElementsLists.indexOf(el.name) === -1;\r\n    });\r\n    componentsToLoad = componentsToLoad.map(async el => {\r\n      this.components[el.name] = (\r\n        await el.import()\r\n      ).default;\r\n    });\r\n    await Promise.all(componentsToLoad);\r\n  }\r\n  /**\r\n   * проверяем все ли виджеты из window.altrpElementsLists загрузились\r\n   */\r\n  componentsIsLoaded() {\r\n    if (! window.altrpElementsLists) {\r\n      return Object.keys(this.components).length === this.ELEMENTS.length;\r\n    }\r\n    return Object.keys(this.components).length >= window.altrpElementsLists.length;\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param name\r\n   * @return {*}\r\n   */\r\n  getComponentClass(name) {\r\n    if (!this.components[name]) {\r\n      console.error(\"Не найден компонент с именем \" + name);\r\n      return \"div\";\r\n    }\r\n    return this.components[name];\r\n  }\r\n\r\n  checkElementExists(elementName) {\r\n    return !!this.components[elementName];\r\n  }\r\n}\r\nwindow.frontElementsManager = new FrontElementsManager();\r\nexport default window.frontElementsManager;\r\n","const FRONT_DEFAULT_AREAS = [\r\n  'content', 'footer', 'header', 'popups',\r\n];\r\nexport default  function getRouteStyles(areas){\r\n  if(! areas || !_.isArray(areas)){\r\n    return '';\r\n  }\r\n  let styles = `\r\n.route-content {\r\n  min-height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  overflow: hidden;\r\n}`\r\n\r\n  areas = areas.filter(area=>FRONT_DEFAULT_AREAS.indexOf(area.id) === -1)\r\n  if(! areas.length){\r\n    return styles;\r\n  }\r\n  styles += `.route-content.route-content{`;\r\n\r\n  styles += 'display:grid;grid-template-rows:auto 1fr auto;'\r\n  let columnsGrid = '';\r\n  let rightSidebar = areas.find(area=>area.settings.area_type === 'sidebar'\r\n    && area.settings.sidebar_location === 'right');\r\n  let leftSidebar = areas.find(area=>area.settings.area_type === 'sidebar'\r\n    && area.settings.sidebar_location === 'left');\r\n  columnsGrid += leftSidebar ? `${leftSidebar.settings.sidebar_width}` : '0px';\r\n  columnsGrid += ` calc(100% - ${leftSidebar ? `${leftSidebar.settings.sidebar_width}` : '0px'} - ${rightSidebar ? `${rightSidebar.settings.sidebar_width}` : '0px'}) `;\r\n  columnsGrid += rightSidebar ? `${rightSidebar.settings.sidebar_width}` : '0px';\r\n\r\n  let contentRow = '';\r\n  contentRow = leftSidebar ? `left-sidebar content` : `content content`;\r\n  contentRow += rightSidebar ? ` right-sidebar` : ` content`;\r\n\r\n  styles += `grid-template-columns:${columnsGrid};grid-template-areas:\r\n    '${_.get(leftSidebar, 'settings.sidebar_type') === 'app_sidebar' ? 'left-sidebar' : 'header'} header ${_.get(rightSidebar, 'settings.sidebar_type') === 'app_sidebar' ? 'right-sidebar' : 'header'}'\r\n    '${contentRow}'\r\n    '${_.get(leftSidebar, 'settings.sidebar_type') === 'app_sidebar' ? 'left-sidebar' : 'footer'} footer ${_.get(rightSidebar, 'settings.sidebar_type') === 'app_sidebar' ? 'right-sidebar' :'footer'}';\r\n    `\r\n\r\n  styles += '}'\r\n  styles += '& .app-area_sidebar-location-left{grid-area:left-sidebar;overflow:hidden;}'\r\n  styles += '& .app-area_sidebar-location-right{grid-area:right-sidebar;overflow:hidden;}'\r\n  styles += '& .app-area_header{grid-area:header;}'\r\n  styles += '& .app-area_footer{grid-area:footer;}'\r\n  styles += '& .app-area_content{grid-area:content;}'\r\n  styles += '& .altrp-section.altrp-section--full-width,& .altrp-section.altrp-section--boxed{max-width:100%;} & .sections-wrapper{max-width: 100%;width: 100%;}'\r\n  if(rightSidebar){\r\n    styles += rightSidebar.getCustomCSS();\r\n    if(rightSidebar.getSetting('sidebar_fixed')){\r\n      styles += `& .app-area_sidebar-location-right .sections-wrapper.sections-wrapper.sections-wrapper{overflow:hidden;position:fixed;top:0;right:0;width:${rightSidebar.getSetting('sidebar_width', '0px')};}`\r\n    }\r\n  }\r\n  if(leftSidebar){\r\n    styles += leftSidebar.getCustomCSS();\r\n    if(leftSidebar.getSetting('sidebar_fixed')){\r\n      styles += `& .app-area_sidebar-location-left .sections-wrapper.sections-wrapper.sections-wrapper{overflow:hidden;position:fixed;top:0;left:0;width:${leftSidebar.getSetting('sidebar_width', '0px')};}`\r\n    }\r\n  }\r\n  styles += `.app-area > .sections-wrapper.sections-wrapper{width:100%;}`\r\n  return  styles;\r\n}\r\n","import { getHeadingTypeHeadingStyles } from \"./helpers/stylesForTheHeadingTypeHeading\";\nimport { getHeadingTypeAnimatingStyles } from \"./helpers/stylesForTheHeadingTypeAnimating\";\nimport {getTextStyles} from \"./helpers/stylesForTheText\";\nimport {getTableStyles} from \"./helpers/stylesForTheTable\";\nimport {getPostsStyles} from \"./helpers/stylesForThePosts\";\nimport getImageStyles from \"./helpers/stylesForTheImage\";\nimport getTabsStyles from \"./helpers/stylesForTheTabs\";\nimport getMenuStyles from \"./helpers/stylesForTheMenu\";\nimport getBreadcrumbsStyles from \"./helpers/stylesForTheBreadcrumbs\";\nimport ButtonComponent from \"../../../../editor/src/js/components/widgets/styled-components/ButtonComponent\";\nimport CarouselComponent from \"../../../../editor/src/js/components/widgets/styled-components/CarouselComponent\";\nimport GalleryComponent from \"../../../../editor/src/js/components/widgets/styled-components/GalleryComponent\";\nimport DividerComponent from \"../../../../editor/src/js/components/widgets/styled-components/DividerComponent\";\nimport VideoComponent from \"../../../../editor/src/js/components/widgets/styled-components/VideoComponent\";\nimport ListComponent from \"../../../../editor/src/js/components/widgets/styled-components/ListComponent\";\nimport DashboardComponent from \"../../../../editor/src/js/components/widgets/styled-components/DashboardComponent\";\nimport AdvancedComponent from \"../../../../editor/src/js/components/widgets/styled-components/AdvancedComponent\";\nimport SectionWidgetComponent\n  from \"../../../../editor/src/js/components/widgets/styled-components/SectionWidgetComponent\";\nimport ColumnComponent from \"../../../../editor/src/js/components/widgets/styled-components/ColumnComponents\";\nimport DropbarWidgetComponent\n  from \"../../../../editor/src/js/components/widgets/styled-components/DropbarWidgetComponent\";\nimport FormComponent from \"../../../../editor/src/js/components/widgets/styled-components/FormComponent\";\nimport AccordionComponent from \"../../../../editor/src/js/components/widgets/styled-components/AccordionComponent\";\nimport getRouteStyles from \"../functions/get-route-styles\";\nimport MapComponent from \"../../../../editor/src/js/components/widgets/styled-components/MapComponent\";\nimport MapConstructorComponent\n  from \"../../../../editor/src/js/components/widgets/styled-components/MapConstructorComponent\";\nimport TabsSwitcherComponent\n  from \"../../../../editor/src/js/components/widgets/styled-components/TabsSwitcherComponent\";\nimport DiagramComponent from \"../../../../editor/src/js/components/widgets/styled-components/DiagramComponent\";\nimport ImageLightboxComponent\n  from \"../../../../editor/src/js/components/widgets/styled-components/ImageLightboxComponent\";\nimport InputDateComponent from \"../../../../editor/src/js/components/widgets/styled-components/InputDateComponent\";\nimport DatePickerComponent from \"../../../../editor/src/js/components/widgets/styled-components/DatePickerComponent\";\nimport InputCheckboxComponent\n  from \"../../../../editor/src/js/components/widgets/styled-components/InputCheckboxComponent\";\nimport getInputTextCommonStyles from \"./helpers/getInputTextCommonStyles\";\nimport getInputSelectStyles, {getInputSelectPopoverStyles} from \"./helpers/getInputSelectStyles\";\nimport InputRadioComponent from \"../../../../editor/src/js/components/widgets/styled-components/InputRadioComponent\";\nimport InputSliderComponent from \"../../../../editor/src/js/components/widgets/styled-components/InputSliderComponent\";\nimport getInputFileStyles from \"./helpers/getInputFileStyles\";\nimport getInputGalleryStyles from \"./helpers/getInputGalleryStyles\";\nimport {getResponsiveSetting} from \"../helpers\";\nimport InputRangeSliderComponent\n  from \"../../../../editor/src/js/components/widgets/styled-components/InputRangeSliderComponent\";\n\nconst {isEditor} = window.altrpHelpers;\n\nconst GlobalStyles = createGlobalStyle`${({ elementsSettings, areas }) => {\n  let styles = \"\";\n  if(areas){\n    styles += getRouteStyles(areas);\n  }\n  let prefix = \"altrp-element\";\n  _.each(elementsSettings, (item, id) => {\n    if (item) {\n      switch (item.name) {\n        case \"image-lightbox\":\n          styles+=ImageLightboxComponent(item.settings,id);\n          break;\n        case \"diagram\":\n          styles += `.${prefix}${id} {${DiagramComponent(item.settings)}}`;\n          break;\n        case \"tabs-switcher\":\n          styles += `.${prefix}${id} {${TabsSwitcherComponent(item.settings)}}`;\n          break;\n        case \"button\":\n          styles += `.${prefix}${id} {${ButtonComponent(item.settings)}}`;\n          break;\n        case \"carousel\":\n          styles += `.${prefix}${id} {${CarouselComponent(item.settings)}}`;\n          break;\n        case \"gallery\":\n          styles += `.${prefix}${id} {${GalleryComponent(item.settings)}}`;\n          break;\n        case \"divider\":\n          styles += `.${prefix}${id} {${DividerComponent(item.settings)}}`;\n          break;\n        case \"video\":\n          styles += `.${prefix}${id} {${VideoComponent(item.settings)}}`;\n          break;\n        case \"list\":\n          styles += `.${prefix}${id} {${ListComponent(item.settings)}}`;\n          break;\n        case \"accordion\":\n          styles += `.${prefix}${id} {${AccordionComponent(item.settings)}}`;\n          break;\n        case \"section\":\n          styles += `.${prefix}${id} {${SectionWidgetComponent(item.settings, item.childrenLength || 1)}}`;\n          break;\n        case \"section_widget\":\n          styles += `.${prefix}${id} {${SectionWidgetComponent(item.settings, item.childrenLength || 1)}}`;\n          break;\n        case \"column\":\n          styles += `.${prefix}${id} {${ColumnComponent(item.settings)}}`;\n          break;\n        case \"dropbar\":\n          styles += `.${prefix}${id} {${DropbarWidgetComponent(item.settings)}}`;\n          break;\n        case \"dashboard\":\n          styles+=`.${prefix}${id} {${DashboardComponent(item.settings)}}`;\n          break;\n        case \"image\":\n          styles+=getImageStyles(item.settings,id);\n          break;\n        case \"tabs\":\n          styles+=getTabsStyles(item.settings, id);\n          break;\n        case \"menu\":\n          styles+=getMenuStyles(item.settings,id);\n          break;\n        case \"breadcrumbs\":\n          styles+=getBreadcrumbsStyles(item.settings,id);\n          break;\n        case 'heading': {\n          styles += getHeadingTypeHeadingStyles(item.settings, id);\n        }\n          break;\n        case 'heading-type-animating': {\n          styles += getHeadingTypeAnimatingStyles(item.settings, id);\n        }\n          break;\n        case 'text': {\n          styles += getTextStyles(item.settings, id);\n        }\n          break;\n        case 'table': {\n          styles += getTableStyles(item.settings, id);\n        }\n          break;\n        case 'posts': {\n          styles += getPostsStyles(item.settings, id);\n        }\n          break;\n        case \"input-select2\": {\n          styles += `.${prefix}${id} {${FormComponent.FormComponent(\n            item.settings,\n            id\n          )}}`;\n          //select2 options style\n          styles += `${FormComponent.select2Options(item.settings, id)}}`;\n        }\n          break;\n        case \"input-date\": {\n          styles += InputDateComponent(\n            item.settings,\n            id,\n            prefix\n          );\n          styles += `${DatePickerComponent(\n            item.settings,\n            id,\n          )}`;\n        }\n          break\n        case \"input-checkbox\": {\n          styles += `.${prefix}${id} {${InputCheckboxComponent(\n            item.settings,\n            id\n          )}}`;\n        }\n          break\n        case \"input-slider\": {\n          styles += `.${prefix}${id} {${InputSliderComponent(\n            item.settings,\n          )}}`;\n        }\n          break\n        case \"input-range-slider\": {\n          styles += `.${prefix}${id} {${InputRangeSliderComponent(\n            item.settings,\n          )}}`;\n        }\n          break\n        case \"input-text-common\":{\n          styles += `.${prefix}${id} {${getInputTextCommonStyles(item.settings, id)}}`\n        }\n          break;\n        case \"input-select\":{\n          styles += `.${prefix}${id} {${getInputSelectStyles(item.settings, id)}}`\n          styles += `${getInputSelectPopoverStyles(item.settings, id)}`\n        }\n          break;\n        case \"input-radio\": {\n          styles += InputRadioComponent(\n            item.settings,\n            id,\n            prefix\n          )\n        }break;\n        case \"input-text\":\n        case \"input-password\":\n        case \"input-number\":\n        case \"input-email\":\n        case \"input-tel\":\n        case \"input-file\":{\n          styles += `.${prefix}${id} {${getInputFileStyles(\n            item.settings,\n            id\n          )}}`;\n        }break\n        case \"input-gallery\":{\n          styles += `.${prefix}${id} {${getInputGalleryStyles(\n            item.settings,\n            id\n          )}}`;\n        }break\n        case \"input-image-select\":\n        case \"input-accept\":\n        case \"input-textarea\":\n        case \"input-wysiwyg\": {\n          styles += `.${prefix}${id} {${FormComponent.FormComponent(\n            item.settings,\n            id\n          )}}`;\n        }\n          break;\n        case \"map\":\n          styles += `.${prefix}${id} {${MapComponent(item.settings)}}`;\n          break;\n        case \"map_builder\":\n          styles += `.${prefix}${id} {${MapConstructorComponent(item.settings)}}`;\n          break;\n      }\n      styles += `div.${prefix}${id}.${prefix}${id} {${AdvancedComponent(\n        item.settings\n      )}}`;\n\n      let element_css_editor = getResponsiveSetting(item.settings, \"element_css_editor\");\n      if(_.isString(element_css_editor)){\n        styles+=element_css_editor.replace(/__selector__/g, `${prefix}${id}`)\n      }\n    }\n  });\n\n  styles += `} `;\n  window.globalDefaults && (styles += window.globalDefaults.join(''));\n  return styles;\n}}`\n\nfunction mapStateToProps(state) {\n  if(isEditor()){\n    return {};\n  }\n  return {\n    elementsSettings: state.elementsSettings,\n    areas: state.areas,\n    currentScreen: state.currentScreen,\n  };\n}\n\nexport default window.reactRedux.connect(mapStateToProps)(GlobalStyles)\n\n","import React, {Component} from \"react\";\r\nimport {hot} from \"react-hot-loader\";\r\nimport NewSection from \"./js/components/NewSection\";\r\nimport {getEditor} from \"./js/helpers\";\r\nimport {Provider} from 'react-redux';\r\nimport { BrowserRouter as Router } from \"react-router-dom\";\r\nimport store from '../src/js/store/store'\r\nimport RootElement from \"./js/classes/elements/RootElement\";\r\nimport Styles from \"./js/components/Styles\";\r\nimport {contextMenu} from \"react-contexify\";\r\nimport ElementContextMenu from \"./js/components/ElementContextMenu\";\r\nimport \"slick-carousel/slick/slick.scss\";\r\nimport \"slick-carousel/slick/slick-theme.scss\";\r\nimport './js/components/altrp-carousel/altrp-carousel.scss';\r\nimport './js/components/altrp-lightbox/altrp-lightbox.scss';\r\nimport './js/components/altrp-menu/altrp-menu.scss';\r\nimport './sass/editor-content.scss';\r\nimport {changeCurrentModel} from \"../../front-app/src/js/store/current-model/actions\";\r\nimport FontsManager from \"../../front-app/src/js/components/FontsManager\";\r\nimport  { StyleSheetManager } from 'styled-components';\r\nimport {HTML5Backend} from \"react-dnd-html5-backend\";\r\nimport { DndProvider, } from 'react-dnd'\r\nimport frontElementsManager from '../../front-app/src/js/classes/FrontElementsManager.js'\r\nimport GlobalStyles from \"../../front-app/src/js/components/GlobalStyles\";\r\n\r\nwindow.Link = 'a';\r\nfrontElementsManager.loadAllComponents();\r\nclass EditorContent extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n    this.editorWindow = React.createRef();\r\n    store.subscribe(this.currentElementListener.bind(this));\r\n    store.subscribe(this.templateStatus.bind(this));\r\n    window.altrpEditorContent = this;\r\n  }\r\n\r\n  /**\r\n   * Метод-подписчик на изменение состояния Редактора из Редакс хранилища\r\n   * */\r\n  templateStatus() {\r\n    let templateStatus = store.getState().templateStatus.status;\r\n    if (templateStatus !== this.state.templateStatus) {\r\n      this.setState({ ...this.state, templateStatus });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Метод-подписчик на изменение текущего элемента из Редакс хранилища\r\n   * */\r\n  currentElementListener(){\r\n    let currentElement = store.getState().currentElement.currentElement;\r\n    if(currentElement instanceof RootElement && currentElement !== this.state.rootElement){\r\n      this.setState({\r\n        rootElement: currentElement,\r\n      })\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Компонент окна редактора загрузился\r\n   * берем корневой элемент и загружаем в окно\r\n   */\r\n  componentDidMount() {\r\n    let rootElement = getEditor().modules.templateDataStorage.getRootElement();\r\n    store.dispatch(changeCurrentModel({altrpModelUpdated: true}));\r\n    this.setState({\r\n      rootElement\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Сработывает при клике\r\n   */\r\n  onClick(e) {\r\n    contextMenu.hideAll();\r\n  }\r\n  render() {\r\n    return <Provider store={store}>\r\n      <StyleSheetManager target={EditorFrame.contentWindow.document.getElementsByTagName(\r\n          \"head\"\r\n      )[0]}>\r\n        <Router>\r\n          <DndProvider backend={HTML5Backend}>\r\n            <div className=\"editor-content d-flex flex-column justify-center align-content-center\"\r\n              onClick={this.onClick}\r\n                      ref={this.editorWindow}>\r\n            {\r\n              this.state.rootElement ? React.createElement(\r\n                  this.state.rootElement.componentClass,{\r\n                    children: this.state.rootElement.children,\r\n                    element:this.state.rootElement,\r\n                  }\r\n              ) : ''\r\n            }\r\n              <NewSection />\r\n            </div>\r\n          </DndProvider>\r\n          {store.getState().templateData.template_type !== 'email' && <Styles/>}\r\n          <ElementContextMenu/>\r\n          <GlobalStyles/>\r\n        </Router>\r\n      </StyleSheetManager>\r\n      <FontsManager />\r\n    </Provider>;\r\n  }\r\n}\r\n\r\nlet _export;\r\nif (process.env.NODE_ENV === 'production') {\r\n  _export = EditorContent\r\n} else {\r\n  _export = hot(module)(EditorContent);\r\n}\r\nexport default EditorContent\r\n","'use strict';\n\nfunction _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\nvar React = require('react');\nvar React__default = _interopDefault(React);\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nvar canUseDOM = !!(typeof window !== 'undefined' && window.document && window.document.createElement);\nfunction withSideEffect(reducePropsToState, handleStateChangeOnClient, mapStateOnServer) {\n  if (typeof reducePropsToState !== 'function') {\n    throw new Error('Expected reducePropsToState to be a function.');\n  }\n\n  if (typeof handleStateChangeOnClient !== 'function') {\n    throw new Error('Expected handleStateChangeOnClient to be a function.');\n  }\n\n  if (typeof mapStateOnServer !== 'undefined' && typeof mapStateOnServer !== 'function') {\n    throw new Error('Expected mapStateOnServer to either be undefined or a function.');\n  }\n\n  function getDisplayName(WrappedComponent) {\n    return WrappedComponent.displayName || WrappedComponent.name || 'Component';\n  }\n\n  return function wrap(WrappedComponent) {\n    if (typeof WrappedComponent !== 'function') {\n      throw new Error('Expected WrappedComponent to be a React component.');\n    }\n\n    var mountedInstances = [];\n    var state;\n\n    function emitChange() {\n      state = reducePropsToState(mountedInstances.map(function (instance) {\n        return instance.props;\n      }));\n\n      if (SideEffect.canUseDOM) {\n        handleStateChangeOnClient(state);\n      } else if (mapStateOnServer) {\n        state = mapStateOnServer(state);\n      }\n    }\n\n    var SideEffect = /*#__PURE__*/function (_PureComponent) {\n      _inheritsLoose(SideEffect, _PureComponent);\n\n      function SideEffect() {\n        return _PureComponent.apply(this, arguments) || this;\n      }\n\n      // Try to use displayName of wrapped component\n      // Expose canUseDOM so tests can monkeypatch it\n      SideEffect.peek = function peek() {\n        return state;\n      };\n\n      SideEffect.rewind = function rewind() {\n        if (SideEffect.canUseDOM) {\n          throw new Error('You may only call rewind() on the server. Call peek() to read the current state.');\n        }\n\n        var recordedState = state;\n        state = undefined;\n        mountedInstances = [];\n        return recordedState;\n      };\n\n      var _proto = SideEffect.prototype;\n\n      _proto.UNSAFE_componentWillMount = function UNSAFE_componentWillMount() {\n        mountedInstances.push(this);\n        emitChange();\n      };\n\n      _proto.componentDidUpdate = function componentDidUpdate() {\n        emitChange();\n      };\n\n      _proto.componentWillUnmount = function componentWillUnmount() {\n        var index = mountedInstances.indexOf(this);\n        mountedInstances.splice(index, 1);\n        emitChange();\n      };\n\n      _proto.render = function render() {\n        return /*#__PURE__*/React__default.createElement(WrappedComponent, this.props);\n      };\n\n      return SideEffect;\n    }(React.PureComponent);\n\n    _defineProperty(SideEffect, \"displayName\", \"SideEffect(\" + getDisplayName(WrappedComponent) + \")\");\n\n    _defineProperty(SideEffect, \"canUseDOM\", canUseDOM);\n\n    return SideEffect;\n  };\n}\n\nmodule.exports = withSideEffect;\n"],"sourceRoot":""}