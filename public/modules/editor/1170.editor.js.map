{"version":3,"sources":["webpack:///../src/altrp-diagrams/layout/BarDiagram.tsx","webpack:///./resources/modules/editor/src/js/components/altrp-diagram/AltrpDiagram.js"],"names":["TooltipBarComponent","moment","window","altrpHelpers","connect","state","currentDataStorage","props","settings","id","dispatch","useDispatch","margin","widgetName","widget_name","customColorSchemeChecker","isCustomColor","customColors","customScheme","map","item","_","get","yScaleMax","axisY","tooltipValues","repTooltips","label","field","color","colorPickedHex","useCustomTooltips","customTooltip","formattedYAxis","valueFromPath","getDataByPath","yMarkerValue","axis","value","Number","lineStyle","stroke","yMarkerColor","strokeWidth","yMarkerWidth","textStyle","fill","yMarkerLabelColor","legend","yMarkerLabel","legendOrientation","yMarkerOrientation","axisX","formattedXAxis","xMarkerValue","xMarkerIsDate","format","xMarkerColor","xMarkerWidth","xMarkerLabelColor","xMarkerLabel","xMarkerOrientation","constantsAxises","length","push","flat","sql","query","dataSource","isMultiple","isCustomColors","keyIsDate","key_is_date","sort","tickRotation","bottomAxis","enableGridX","enableGridY","xScaleType","precision","curve","lineWidth","colorScheme","enableArea","enablePoints","pointSize","pointColor","yMarker","xMarker","xMarkerValueDate","toDate","layout","groupMode","reverse","borderRadius","borderWidth","enableLabel","padding","innerRadius","enableSliceLabels","padAngle","cornerRadius","sortByValue","enableRadialLabels","data","formatData","r","d","index","currentKey","key","keyFormatted","isValid","tooltip","type","LINE","TABLE","POINT","y","x","BAR","PIE","currentColors","find","Schemes","colors","colorsCount","cloneDeep","rep","innerData","path","uniqBy","title","concat","i","datasource_path","key_name","data_name","datasource_title","error","console","log","colorArray","repcolor","className","legendPosition","widget","source","qs","keyValues","split","result","replace","join","parseQueryParams","defaultParams","options","animated","isVertical","filter","useEffect","changePageState","setLegend","DynamicLineChart","widgetID","width","size","unit","height","DynamicPointChart","nodeSize","DynamicPieChart","DynamicTableWidget"],"mappings":"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","file":"1170.editor.js","sourcesContent":["var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nimport React, { useState, useEffect, useCallback } from \"react\";\r\n\r\nimport Spinner from \"../../../../../../admin/src/components/dashboard/widgets/Spinner\";\r\nimport EmptyWidget from \"../../../../../../admin/src/components/dashboard/widgets/EmptyWidget\";\r\nimport Schemes from \"../../../../../../editor/src/js/components/altrp-dashboards/settings/NivoColorSchemes\";\r\nconst regagroScheme = _.find(Schemes, { value: \"regagro\" }).colors;\r\nconst milkScheme = _.find(Schemes, { value: \"milk\" }).colors;\r\nconst milkScheme2 = _.find(Schemes, { value: \"milk2\" }).colors;\r\nimport { ResponsiveBar } from \"@nivo/bar\";\r\nimport { getWidgetData } from \"../../../../../../admin/src/components/dashboard/services/getWidgetData\";\r\nimport TooltipBar from \"../../../../../../admin/src/components/dashboard/widgets/d3/TooltipBar\";\r\nconst TooltipBarComponent = TooltipBar;\r\nconst BarDiagram = ({ widget, width = 300, height = 450, margin, dataSource = [], groupMode = \"stacked\", layout = \"vertical\", colorScheme = \"regagro\", reverse = false, enableLabel = false, padding = 0.1, innerPadding = 0, borderRadius = 0, borderWidth = 0, sort = \"\", tickRotation = 0, bottomAxis = true, enableGridX = true, enableGridY = true, customColorSchemeChecker = false, customColors = [], yScaleMax, widgetID, useCustomTooltips }) => {\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [data, setData] = useState([]);\r\n    const getData = useCallback(() => __awaiter(void 0, void 0, void 0, function* () {\r\n        setIsLoading(true);\r\n        if (dataSource.length == 0) {\r\n            const charts = yield getWidgetData(widget.source, widget.filter);\r\n            if (charts.status === 200) {\r\n                let data = charts.data.data.map((item, index) => {\r\n                    return {\r\n                        [item.key]: Number(item.data),\r\n                        key: item.key,\r\n                        value: Number(item.data)\r\n                    };\r\n                });\r\n                setData(data || []);\r\n                setIsLoading(false);\r\n            }\r\n        }\r\n        else {\r\n            if (sort !== null &&\r\n                typeof sort !== \"undefined\" &&\r\n                typeof dataSource !== \"undefined\") {\r\n                switch (sort) {\r\n                    case \"value\":\r\n                        dataSource = _.sortBy(dataSource, [\"value\"]);\r\n                        break;\r\n                    case \"key\":\r\n                        dataSource = _.sortBy(dataSource, [\"key\"]);\r\n                        break;\r\n                    default:\r\n                        dataSource = dataSource;\r\n                        break;\r\n                }\r\n            }\r\n            setData(dataSource || []);\r\n            setIsLoading(false);\r\n        }\r\n    }), [widget]);\r\n    useEffect(() => {\r\n        getData();\r\n    }, [data]);\r\n    if (isLoading)\r\n        return React.createElement(Spinner, null);\r\n    if (data.length === 0)\r\n        return React.createElement(EmptyWidget, null);\r\n    return (React.createElement(React.Fragment, null,\r\n        React.createElement(\"div\", { style: { height: `${height}`, width: `${width}` } },\r\n            React.createElement(ResponsiveBar, { data: data, margin: {\r\n                    top: (margin === null || margin === void 0 ? void 0 : margin.top) || 30,\r\n                    right: (margin === null || margin === void 0 ? void 0 : margin.right) || 30,\r\n                    bottom: (margin === null || margin === void 0 ? void 0 : margin.bottom) || 30,\r\n                    left: (margin === null || margin === void 0 ? void 0 : margin.left) || 30\r\n                }, indexBy: \"key\", colors: customColorSchemeChecker && customColors.length > 0\r\n                    ? customColors\r\n                    : colorScheme === \"regagro\"\r\n                        ? regagroScheme\r\n                        : colorScheme === \"milk\"\r\n                            ? milkScheme\r\n                            : colorScheme === \"milk2\"\r\n                                ? milkScheme2\r\n                                : { scheme: colorScheme }, layout: layout, tooltip: datum => (React.createElement(TooltipBarComponent, { enable: useCustomTooltips, datum: datum, widgetID: widgetID })), enableGridX: enableGridX, enableGridY: enableGridY, enableLabel: enableLabel, reverse: reverse, groupMode: groupMode, padding: padding, innerPadding: innerPadding, borderRadius: borderRadius, borderWidth: borderWidth, axisBottom: {\r\n                    tickSize: 5,\r\n                    tickPadding: 5,\r\n                    tickRotation: tickRotation,\r\n                    legendOffset: 32\r\n                } }))));\r\n};\r\nexport default BarDiagram;\r\n//# sourceMappingURL=BarDiagram.js.map\r\n","import React, { useEffect } from \"react\";\r\nimport { changePageState } from \"../../../../../front-app/src/js/store/altrp-page-state-storage/actions\";\r\nimport { connect, useDispatch } from \"react-redux\";\r\n\r\nimport BarDiagram from \"../../../../../front-app/src/ts/build/altrp-diagrams/layout/BarDiagram\";\r\nimport DynamicPieChart from \"../../../../../admin/src/components/dashboard/widgets/DynamicPieChart\";\r\nimport DynamicLineChart from \"../../../../../admin/src/components/dashboard/widgets/DynamicLineChart\";\r\nimport DynamicTableWidget from \"../../../../../admin/src/components/dashboard/widgets/DynamicTableWidget\";\r\nimport DynamicPointChart from \"../../../../../admin/src/components/dashboard/widgets/DynamicPointChart\";\r\n\r\nimport Schemes from \"../../../../../editor/src/js/components/altrp-dashboards/settings/NivoColorSchemes\";\r\n\r\nimport {\r\n  BAR,\r\n  PIE,\r\n  LINE,\r\n  TABLE,\r\n  POINT\r\n} from \"../../../../../admin/src/components/dashboard/widgetTypes\";\r\nimport { getDataByPath } from \"../../../../../front-app/src/js/helpers\";\r\nimport { color } from \"d3\";\r\n\r\nconst {moment} = window.altrpHelpers;\r\n\r\nconst AltrpDiagram = props => {\r\n  const { settings, id } = props;\r\n  const dispatch = useDispatch();\r\n  const margin = settings?.margin;\r\n  const widgetName = settings?.widget_name || id;\r\n  const customColorSchemeChecker = settings?.isCustomColor;\r\n  const customColors = settings?.customScheme?.map(item =>\r\n    _.get(item, \"color.colorPickedHex\")\r\n  );\r\n  const yScaleMax = settings?.yScaleMax;\r\n\r\n  const axisY = settings?.axisY;\r\n  const tooltipValues = settings?.repTooltips?.map(item => ({\r\n    label: _.get(item, \"label\"),\r\n    field: _.get(item, \"value\"),\r\n    color: _.get(item, \"color\")?.colorPickedHex\r\n  }));\r\n  const useCustomTooltips = settings?.customTooltip;\r\n\r\n  const formattedYAxis =\r\n    axisY?.map(item => {\r\n      const valueFromPath = getDataByPath(item.yMarkerValue);\r\n      const value =\r\n        valueFromPath !== null\r\n          ? Number(valueFromPath)\r\n          : Number(item.yMarkerValue);\r\n      const data = {\r\n        axis: \"y\",\r\n        value: value,\r\n        lineStyle: {\r\n          stroke:\r\n            item.yMarkerColor != null\r\n              ? item.yMarkerColor.colorPickedHex\r\n              : \"#000000\",\r\n          strokeWidth: item.yMarkerWidth\r\n        },\r\n        textStyle: {\r\n          fill:\r\n            item.yMarkerLabelColor != null\r\n              ? item.yMarkerLabelColor.colorPickedHex\r\n              : \"#000000\"\r\n        },\r\n        legend: item.yMarkerLabel,\r\n        legendOrientation: item.yMarkerOrientation\r\n      };\r\n      return data;\r\n    }) || [];\r\n\r\n  const axisX = settings?.axisX;\r\n  const formattedXAxis =\r\n    axisX?.map(item => {\r\n      const valueFromPath = getDataByPath(item.xMarkerValue);\r\n\r\n      const value =\r\n        valueFromPath !== null\r\n          ? valueFromPath\r\n          : item.xMarkerIsDate\r\n          ? moment(item.xMarkerValue).format(\"DD.MM.YYYY\")\r\n          : item.xMarkerValue;\r\n\r\n      const data = {\r\n        axis: \"x\",\r\n        value: value,\r\n        lineStyle: {\r\n          stroke:\r\n            item.xMarkerColor != null\r\n              ? item.xMarkerColor.colorPickedHex\r\n              : \"#000000\",\r\n          strokeWidth: item.xMarkerWidth\r\n        },\r\n        textStyle: {\r\n          fill:\r\n            item.xMarkerLabelColor != null\r\n              ? item.xMarkerLabelColor.colorPickedHex\r\n              : \"#000000\"\r\n        },\r\n        legend: item.xMarkerLabel,\r\n        legendOrientation: item.xMarkerOrientation\r\n      };\r\n      return data;\r\n    }) || [];\r\n\r\n  let constantsAxises = [];\r\n  if (formattedXAxis.length > 0) {\r\n    constantsAxises.push(formattedXAxis);\r\n    constantsAxises = constantsAxises.flat();\r\n  }\r\n  if (formattedYAxis.length > 0) {\r\n    constantsAxises.push(formattedYAxis);\r\n    constantsAxises = constantsAxises.flat();\r\n  }\r\n\r\n  const sql = settings.query?.dataSource?.value;\r\n  const isMultiple = settings.isMultiple;\r\n  const isCustomColor = settings.isCustomColors;\r\n  const keyIsDate = settings.key_is_date;\r\n  const sort = settings?.sort;\r\n  const tickRotation = settings?.tickRotation;\r\n  const bottomAxis = settings?.bottomAxis;\r\n  const enableGridX = settings?.enableGridX;\r\n  const enableGridY = settings?.enableGridY;\r\n  //line settings\r\n  const xScaleType = settings?.xScaleType || \"point\";\r\n  const precision = settings?.precision || \"month\";\r\n  const curve = settings?.curve || \"line\";\r\n  const lineWidth = settings?.lineWidth;\r\n  const colorScheme = settings?.colorScheme;\r\n\r\n  const enableArea = settings?.enableArea;\r\n  const enablePoints = settings?.enablePoints;\r\n  const pointSize = settings?.pointSize;\r\n  const pointColor = settings?.pointColor;\r\n  //line marker Y\r\n  const yMarker = settings?.yMarker;\r\n  const yMarkerValue = settings?.yMarkerValue;\r\n  const yMarkerOrientation = settings?.yMarkerOrientation;\r\n  const yMarkerColor = settings?.yMarkerColor;\r\n  const yMarkerWidth = settings?.yMarkerWidth;\r\n  const yMarkerLabel = settings?.yMarkerLabel;\r\n  const yMarkerLabelColor = settings?.yMarkerLabelColor;\r\n  //line marker X\r\n  const xMarker = settings?.xMarker;\r\n  const xMarkerValue = keyIsDate\r\n    ? moment(settings?.xMarkerValueDate).toDate()\r\n    : settings?.xMarkerValue;\r\n  const xMarkerOrientation = settings?.xMarkerOrientation;\r\n  const xMarkerColor = settings?.xMarkerColor;\r\n  const xMarkerWidth = settings?.xMarkerWidth;\r\n  const xMarkerLabel = settings?.xMarkerLabel;\r\n  const xMarkerLabelColor = settings?.xMarkerLabelColor;\r\n  //bar\r\n  const layout = settings?.layout;\r\n  const groupMode = settings?.groupMode;\r\n  const reverse = settings?.reverse;\r\n  const borderRadius = settings?.borderRadius;\r\n  const borderWidth = settings?.borderWidth;\r\n  const enableLabel = settings?.enableLabel;\r\n  const padding = settings?.padding;\r\n  //pie\r\n  const innerRadius = settings?.innerRadius;\r\n  const enableSliceLabels = settings?.enableSliceLabels;\r\n  const padAngle = settings?.padAngle;\r\n  const cornerRadius = settings?.cornerRadius;\r\n  const sortByValue = settings?.sortByValue;\r\n  const enableRadialLabels = settings?.enableRadialLabels;\r\n  //data variable\r\n  let data = [];\r\n\r\n  //funciton for formattion data for all types\r\n  const formatData = (data, r) => {\r\n    return data.map((d, index) => {\r\n      const currentKey = _.get(d, r.key);\r\n      const keyFormatted = !moment(currentKey).isValid()\r\n        ? currentKey\r\n        : moment(currentKey).format(\"DD.MM.YYYY\");\r\n      const tooltip =\r\n        typeof tooltipValues !== \"undefined\"\r\n          ? tooltipValues?.map(item => {\r\n              return {\r\n                label: item?.label,\r\n                value: _.get(d, item.field),\r\n                color: item?.color\r\n              };\r\n            })\r\n          : [];\r\n      switch (settings.type) {\r\n        case LINE: {\r\n          return {\r\n            y: Number(_.get(d, r.data)),\r\n            x: keyIsDate ? keyFormatted : currentKey,\r\n            tooltip: tooltip\r\n          };\r\n          break;\r\n        }\r\n        case TABLE: {\r\n          return {\r\n            y: Number(_.get(d, r.data)),\r\n            x: keyIsDate ? keyFormatted : currentKey,\r\n            tooltip: tooltip\r\n          };\r\n          break;\r\n        }\r\n        case POINT: {\r\n          return {\r\n            y: Number(_.get(d, r.data)),\r\n            x: keyIsDate ? keyFormatted : currentKey,\r\n            tooltip: tooltip\r\n          };\r\n          break;\r\n        }\r\n        case BAR: {\r\n          let key = keyIsDate ? keyFormatted : currentKey;\r\n          return {\r\n            [key]: Number(_.get(d, r.data)),\r\n            key: key,\r\n            value: Number(_.get(d, r.data)),\r\n            tooltip: tooltip\r\n          };\r\n          break;\r\n        }\r\n        case PIE: {\r\n          return {\r\n            value: Number(_.get(d, r.data)),\r\n            id: keyIsDate ? keyFormatted : currentKey,\r\n            tooltip: tooltip\r\n          };\r\n          break;\r\n        }\r\n\r\n        default:\r\n          break;\r\n      }\r\n    });\r\n  };\r\n  let legend = [];\r\n  const currentColors = isCustomColor\r\n    ? customColors\r\n    : _.find(Schemes, { value: settings?.colorScheme }).colors;\r\n  const colorsCount = currentColors.length;\r\n\r\n  if (isMultiple) {\r\n    let repeater = _.cloneDeep(settings.rep, []);\r\n    data = repeater.map((r, index) => {\r\n      let innerData = getDataByPath(r.path, []);\r\n      if (innerData.length > 0) {\r\n        //Исключаем дублирование ключей, т.к. это приводит к ошибкам рендера всех диаграм\r\n        if (settings.type === LINE || settings.type === PIE) {\r\n          innerData = _.uniqBy(innerData, r.key);\r\n        }\r\n        innerData = formatData(innerData, r);\r\n      }\r\n      if (settings.type === PIE || settings.type === BAR) {\r\n        return innerData;\r\n      }\r\n      if (settings.type !== PIE) {\r\n        legend.push({\r\n          color: currentColors[index % colorsCount],\r\n          label: r.title || r.path\r\n        });\r\n      }\r\n      return {\r\n        id: r.title || r.path,\r\n        data: innerData\r\n      };\r\n    });\r\n    if (settings.type === PIE || settings.type === BAR) {\r\n      data = [].concat(...data);\r\n      legend = data?.map((item, i) => ({\r\n        color:\r\n          settings.type === BAR\r\n            ? currentColors[0]\r\n            : currentColors[i % colorsCount],\r\n        label: item.id || item.key\r\n      }));\r\n    }\r\n  } else if (settings.datasource_path != null) {\r\n    try {\r\n      data = getDataByPath(settings.datasource_path, []);\r\n      if (settings.type === LINE) {\r\n        data = _.uniqBy(data, settings.key_name);\r\n      }\r\n      const r = {\r\n        key: settings.key_name,\r\n        data: settings.data_name\r\n      };\r\n\r\n      if (settings.type === PIE || settings.type === BAR) {\r\n        data = formatData(data, r);\r\n        legend = data?.map((item, i) => ({\r\n          color:\r\n            settings.type === BAR\r\n              ? currentColors[0]\r\n              : currentColors[i % colorsCount],\r\n          label: item.id || item.key\r\n        }));\r\n      } else {\r\n        legend.push({\r\n          color: currentColors[0],\r\n          label: settings.datasource_title || settings.datasource_path\r\n        });\r\n        data = [\r\n          {\r\n            id: settings.datasource_title || settings.datasource_path,\r\n            data: formatData(data, r)\r\n          }\r\n        ];\r\n      }\r\n    } catch (error) {\r\n      console.log(\"====================================\");\r\n      console.error(error);\r\n      console.log(\"====================================\");\r\n      data = [\r\n        {\r\n          id: settings.datasource_title || settings.datasource_path,\r\n          data: []\r\n        }\r\n      ];\r\n    }\r\n  }\r\n\r\n  if (isCustomColor) {\r\n    let repeaterColor = _.cloneDeep(settings.repcolor, []);\r\n    var colorArray = repeaterColor.map(r => r.color.colorPickedHex);\r\n  }\r\n  if (!sql && data.length === 0) {\r\n    return (\r\n      <div className={`altrp-chart ${settings.legendPosition}`}>\r\n        Идет загрузка данных...\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const parseQueryParams = (qs = \"\") => {\r\n    if (!qs) return \"\";\r\n    const keyValues = qs.split(\"\\n\");\r\n    const result = keyValues.map(item => item.replace(\"|\", \"=\")).join(\"&\");\r\n    return `?${result}`;\r\n  };\r\n\r\n  const queryString = parseQueryParams(settings.query?.defaultParams);\r\n\r\n  const widget = {\r\n    source: sql + queryString,\r\n    options: {\r\n      colorScheme: settings.colorScheme,\r\n      legend: settings.legend,\r\n      animated: settings.animated,\r\n      isVertical: settings.isVertical\r\n    },\r\n    filter: {}\r\n  };\r\n\r\n  const setLegend = legend =>\r\n    dispatch(changePageState(widgetName, { legend: legend }));\r\n\r\n  useEffect(() => {\r\n    if (legend.length > 0) {\r\n      setLegend(legend);\r\n    }\r\n  }, [legend]);\r\n  console.log(\"====================================\");\r\n  console.log(data);\r\n  console.log(\"====================================\");\r\n  switch (settings.type) {\r\n    case LINE:\r\n      return (\r\n        <DynamicLineChart\r\n          widgetID={id}\r\n          margin={margin}\r\n          useCustomTooltips={useCustomTooltips}\r\n          yScaleMax={yScaleMax}\r\n          customColorSchemeChecker={customColorSchemeChecker}\r\n          customColors={customColors}\r\n          widget={widget}\r\n          dataSource={data}\r\n          keyIsDate={keyIsDate}\r\n          xScaleType={xScaleType}\r\n          precision={precision}\r\n          curve={curve}\r\n          colorScheme={colorScheme}\r\n          enableArea={enableArea}\r\n          enablePoints={enablePoints}\r\n          lineWidth={lineWidth}\r\n          pointColor={pointColor}\r\n          pointSize={pointSize}\r\n          yMarker={yMarker}\r\n          width={`${settings.width?.size}${settings.width?.unit}`}\r\n          height={`${settings.height?.size}${settings.height?.unit}`}\r\n          yMarkerValue={yMarkerValue}\r\n          yMarkerOrientation={yMarkerOrientation}\r\n          yMarkerColor={yMarkerColor}\r\n          yMarkerWidth={yMarkerWidth}\r\n          yMarkerLabel={yMarkerLabel}\r\n          xMarker={xMarker}\r\n          xMarkerValue={xMarkerValue}\r\n          xMarkerOrientation={xMarkerOrientation}\r\n          xMarkerColor={xMarkerColor}\r\n          xMarkerWidth={xMarkerWidth}\r\n          xMarkerLabel={xMarkerLabel}\r\n          yMarkerLabelColor={yMarkerLabelColor}\r\n          xMarkerLabelColor={xMarkerLabelColor}\r\n          constantsAxises={constantsAxises}\r\n          sort={sort}\r\n          tickRotation={tickRotation}\r\n          bottomAxis={bottomAxis}\r\n          enableGridX={enableGridX}\r\n          enableGridY={enableGridY}\r\n        />\r\n      );\r\n    case POINT:\r\n      return (\r\n        <DynamicPointChart\r\n          widgetID={id}\r\n          margin={margin}\r\n          useCustomTooltips={useCustomTooltips}\r\n          yScaleMax={yScaleMax}\r\n          customColorSchemeChecker={customColorSchemeChecker}\r\n          customColors={customColors}\r\n          dataSource={data}\r\n          constantsAxises={constantsAxises}\r\n          colorScheme={colorScheme}\r\n          width={`${settings.width?.size}${settings.width?.unit}`}\r\n          height={`${settings.height?.size}${settings.height?.unit}`}\r\n          widget={widget}\r\n          nodeSize={pointSize}\r\n          xScaleType={xScaleType}\r\n          precision={precision}\r\n          sort={sort}\r\n          tickRotation={tickRotation}\r\n          bottomAxis={bottomAxis}\r\n          enableGridX={enableGridX}\r\n          enableGridY={enableGridY}\r\n        />\r\n      );\r\n    case BAR:\r\n      return (\r\n        <BarDiagram\r\n          widgetID={id}\r\n          margin={margin}\r\n          useCustomTooltips={useCustomTooltips}\r\n          yScaleMax={yScaleMax}\r\n          customColorSchemeChecker={customColorSchemeChecker}\r\n          customColors={customColors}\r\n          isMultiple={isMultiple}\r\n          colorScheme={colorScheme}\r\n          dataSource={data}\r\n          widget={widget}\r\n          enableLabel={enableLabel}\r\n          width={`${settings.width?.size}${settings.width?.unit}`}\r\n          height={`${settings.height?.size}${settings.height?.unit}`}\r\n          layout={layout}\r\n          groupMode={groupMode}\r\n          reverse={reverse}\r\n          borderRadius={borderRadius}\r\n          borderWidth={borderWidth}\r\n          padding={padding}\r\n          sort={sort}\r\n          tickRotation={tickRotation}\r\n          bottomAxis={bottomAxis}\r\n          enableGridX={enableGridX}\r\n          enableGridY={enableGridY}\r\n        />\r\n      );\r\n    case PIE:\r\n      return (\r\n        <DynamicPieChart\r\n          widgetID={id}\r\n          margin={margin}\r\n          useCustomTooltips={useCustomTooltips}\r\n          yScaleMax={yScaleMax}\r\n          customColorSchemeChecker={customColorSchemeChecker}\r\n          customColors={customColors}\r\n          isMultiple={isMultiple}\r\n          dataSource={data}\r\n          colorScheme={colorScheme}\r\n          widget={widget}\r\n          width={`${settings.width?.size}${settings.width?.unit}`}\r\n          height={`${settings.height?.size}${settings.height?.unit}`}\r\n          innerRadius={innerRadius}\r\n          enableSliceLabels={enableSliceLabels}\r\n          padAngle={padAngle}\r\n          cornerRadius={cornerRadius}\r\n          sortByValue={sortByValue}\r\n          enableRadialLabels={enableRadialLabels}\r\n          sort={sort}\r\n          tickRotation={tickRotation}\r\n          bottomAxis={bottomAxis}\r\n          enableGridX={enableGridX}\r\n          enableGridY={enableGridY}\r\n        />\r\n      );\r\n    case TABLE:\r\n      return (\r\n        <DynamicTableWidget\r\n          widgetID={id}\r\n          useCustomTooltips={useCustomTooltips}\r\n          isCustomColor={isCustomColor}\r\n          colorArray={colorArray}\r\n          isMultiple={isMultiple}\r\n          dataSource={data}\r\n          widget={widget}\r\n          width={settings.width?.size}\r\n          sort={sort}\r\n          tickRotation={tickRotation}\r\n          bottomAxis={bottomAxis}\r\n          enableGridX={enableGridX}\r\n          enableGridY={enableGridY}\r\n        />\r\n      );\r\n\r\n    default:\r\n      return <></>;\r\n  }\r\n};\r\nconst mapStateToProps = state => ({\r\n  currentDataStorage: state.currentDataStorage\r\n});\r\nexport default connect(mapStateToProps)(AltrpDiagram);\r\n"],"sourceRoot":""}