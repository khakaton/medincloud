(self.webpackChunk=self.webpackChunk||[]).push([[9741],{99822:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return O}});var r,s=n(96156),a=n(92137),i=n(6610),o=n(5991),p=n(10379),c=n(46070),u=n(77608),l=n(87757),g=n.n(l),m=n(67294),d=n(47746),f=n(81352),h=n(85009),v=n(71743),b=n(11914),P=n(32543),y=n(32465),E=n(71893).ZP.div(r||(r=(0,y.Z)(["{\n  grid-template-columns: repeat(",", 1fr);\n  display: grid;    \n  ","\n"])),(function(e){return e.columnsCount}),(function(e){var t=e.posts_columns_gap,n=e.posts_rows_gap,r="";return t&&!Number(t)?r+="grid-column-gap:".concat(t,";"):Number(t)&&(r+="grid-column-gap:".concat(t,"px;")),n&&!Number(n)?r+="grid-row-gap:".concat(n,";"):Number(n)&&(r+="grid-row-gap:".concat(n,"px;")),r})),x=n(49825);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.e(350).then(n.bind(n,90350)),n.e(8102).then(n.bind(n,48102));var N=function(e){(0,p.Z)(d,e);var t,n,r,s,l=(r=d,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=(0,u.Z)(r);if(s){var n=(0,u.Z)(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return(0,c.Z)(this,e)});function d(e){var t;return(0,i.Z)(this,d),(t=l.call(this,e)).renderPost=function(e){var n=_.get(t.props.settings,"posts_card_hover_template",null),r=_.get(t.props.settings,"posts_transition_type",null),s=_.cloneDeep(t.props.data[e]||t.props.data),a=s.component||"";if(t.state.simpleTemplate){var i=h.default.cloneElement(t.state.simpleTemplate);i.setCardModel(new v.Z(s),e),a=m.createElement(i.componentClass,{element:i,ElementWrapper:b.default,children:i.children})}return m.createElement(m.Fragment,{key:(s.id||s.altrpIndex)+Math.random()},m.createElement("div",{className:"altrp-post"},a,n&&m.createElement("div",{className:"altrp-post altrp-post--hover altrp-post--hover--".concat(r)},a)))},t.state={simpleTemplate:"",simpleTemplateId:null,currentPage:1},t}return(0,o.Z)(d,[{key:"componentDidMount",value:(n=(0,a.Z)(g().mark((function e(){var t,n,r=this;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props.settings,!(n=_.get(t,"posts_card_template"))){e.next=6;break}if(n){e.next=5;break}return e.abrupt("return");case 5:this.setState((function(e){return w(w({},e),{},{simpleTemplateId:n})}),(0,a.Z)(g().mark((function e(){var t;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.default.loadParsedTemplate(n);case 2:t=e.sent,r.setState((function(e){return w(w({},e),{},{simpleTemplate:t})}));case 4:case"end":return e.stop()}}),e)}))));case 6:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"shouldComponentUpdate",value:function(e,t){return!((0,P.isEditor)()&&this.props.settings===e.settings&&_.isEqual(this.state.simpleTemplate,t.simpleTemplate)&&_.isEqual(this.state.simpleTemplateId,t.simpleTemplateId)&&_.isEqual(this.props.data,e.data)&&this.state.currentPage===t.currentPage)}},{key:"componentDidUpdate",value:(t=(0,a.Z)(g().mark((function e(t){var n,r,s,i=this;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.props.settings,r=this.state.simpleTemplateId,s=_.get(n,"posts_card_template",r),_.isEqual(t.data,this.props.data)||this.setState((function(e){return w(w({},e),{},{posts:i.props.data})})),s===r){e.next=8;break}if(s){e.next=7;break}return e.abrupt("return");case 7:this.setState((function(e){return w(w({},e),{},{simpleTemplateId:s})}),(0,a.Z)(g().mark((function e(){var t;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.default.loadParsedTemplate(s);case 2:t=e.sent,i.setState((function(e){return w(w({},e),{},{simpleTemplate:t})}));case 4:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"getPageCount",value:function(){var e=this.props.data,t=Number((0,P.getResponsiveSetting)(this.props.settings,"posts_per_page"))||12;return t&&_.get(e,"length")?Math.ceil(e.length/t):1}},{key:"setPage",value:function(e){(e=Number(e))||(e=1),e<0&&(e=0),e>this.getPageCount()&&(e=this.getPageCount()),this.state.currentPage!==e&&this.setState((function(t){return w(w({},t),{},{currentPage:e})}))}},{key:"renderPagination",value:function(){var e=this,t=w({},this.props.settings);if(!this.props.data.length&&!(0,P.isEditor)())return null;var n=(0,P.getResponsiveSetting)(this.props.settings,"posts_pagination_type")||"";if(n){var r=this.state.currentPage,s=this.getPageCount();if("pages"===n){t.hide_pagination_select=!0,t.hide_page_input=!0;var a={settings:t,pageCount:s,pageIndex:this.state.currentPage-1,nextPage:function(){e.setPage(e.state.currentPage+1)},previousPage:function(){e.setPage(e.state.currentPage-1)},gotoPage:function(t){e.setPage(t+1)},pageSize:this.props.element.getResponsiveSetting("posts_per_page"),widgetId:this.props.element.getId()};return m.createElement(x.Z,a)}return"prev_next"===n?m.createElement("div",{className:"altrp-pagination-pages"},m.createElement("button",{className:"altrp-pagination__previous "+(r<=1?"state-disabled":""),disabled:r<=1,onClick:function(){e.setPage(r-1)}},m.createElement("span",null,t.posts_prev_text||""),(0,P.renderAssetIcon)(t.prev_icon)),m.createElement("button",{className:"altrp-pagination__next "+(r===s?"state-disabled":""),disabled:r===s,onClick:function(){e.setPage(r+1)}},m.createElement("span",null,t.posts_next_text||""),(0,P.renderAssetIcon)(t.next_icon))):m.createElement("div",{className:"altrp-pagination"},!t.hide_pre_page_button&&m.createElement("button",{className:"altrp-pagination__previous",onClick:function(){return e.setPage(r-1)},disabled:r<=1},m.createElement("span",{dangerouslySetInnerHTML:{__html:t.prev_text||"Previous Page"}}),(0,P.renderAssetIcon)(t.prev_icon)),!t.hide_pages_buttons_button&&m.createElement("div",{className:"altrp-pagination__count"},t.pageText),!t.hide_next_page_button&&m.createElement("button",{className:"altrp-pagination__next",onClick:function(){return e.setPage(r+1)},disabled:r===s},m.createElement("span",{dangerouslySetInnerHTML:{__html:t.next_text||"Next Page"}}),(0,P.renderAssetIcon)(t.next_icon)))}return null}},{key:"render",value:function(){var e=this,t=this.state.currentPage,n=Number((0,P.getResponsiveSetting)(this.props.settings,"posts_per_page"))||12,r=this.props.data;!_.isArray(r)&&_.isObject(r)&&(r=[r]),_.isArray(r)||(r=[]);var s=0;n&&Number(n)&&(t>1&&(s=(t-1)*n),r=r.slice(s,s+n));var a=Number((0,P.getResponsiveSetting)(this.props.settings,"posts_columns"))||1,i=(0,P.getResponsiveSetting)(this.props.settings,"posts_columns_gap")||"",o=(0,P.getResponsiveSetting)(this.props.settings,"posts_rows_gap")||"";return m.createElement(m.Fragment,null,m.createElement(E,{columnsCount:a,posts_columns_gap:i,posts_rows_gap:o,className:"altrp-posts"},r.map((function(t,n){return e.renderPost(s+n)}))),this.renderPagination())}}]),d}(m.Component),O=function(e){return"datasource"===e.settings.choose_datasource?((0,P.isEditor)()&&((e=w({},e)).settings=w({},e.settings),e.data=Array.from({length:100},(function(){return{}})),(0,P.setAltrpIndex)(e.data)),m.createElement(N,e)):m.createElement(d.Z,e,m.createElement(N,null))}}}]);
//# sourceMappingURL=9741.editor.js.map