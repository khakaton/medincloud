{"version":3,"sources":["webpack:///./resources/modules/admin/src/svgs/left.svg","webpack:///./resources/modules/admin/src/svgs/bars.svg","webpack:///./resources/modules/admin/src/svgs/assets.svg","webpack:///./resources/modules/admin/src/svgs/dashboard.svg","webpack:///./resources/modules/admin/src/svgs/pages.svg","webpack:///./resources/modules/admin/src/svgs/plugins.svg","webpack:///./resources/modules/admin/src/svgs/reports.svg","webpack:///./resources/modules/admin/src/svgs/settings.svg","webpack:///./resources/modules/admin/src/svgs/tables.svg","webpack:///./resources/modules/admin/src/svgs/templates.svg","webpack:///./resources/modules/admin/src/svgs/users.svg","webpack:///./resources/modules/admin/src/svgs/admin__logo.svg","webpack:///./resources/modules/admin/src/components/AdminLogo.js","webpack:///./resources/modules/admin/src/svgs/vector.svg","webpack:///./resources/modules/admin/src/components/AdminTableComponents/SortableHeader.js","webpack:///./resources/modules/admin/src/components/AdminTableRow.js","webpack:///./resources/modules/admin/src/components/AdminTable.js","webpack:///./resources/modules/admin/src/svgs/right.svg","webpack:///./resources/modules/admin/src/components/Pagination.js","webpack:///./resources/modules/admin/src/js/helpers.js","webpack:///./resources/modules/admin/src/components/AllPages.js","webpack:///./resources/modules/admin/src/components/Updates.js","webpack:///./resources/modules/editor/src/js/components/altrp-image/Skeleton.js","webpack:///./resources/modules/admin/src/components/AutoUpdateInput.js","webpack:///./resources/modules/admin/src/components/StylesSettings.js","webpack:///./resources/modules/admin/src/components/settings/Import.js","webpack:///./resources/modules/admin/src/components/settings/Export.js","webpack:///./resources/modules/admin/src/components/settings/integrations/Websockets.js","webpack:///./resources/modules/admin/src/components/settings/integrations/Telegram.js","webpack:///./resources/modules/admin/src/components/AdminSettings.js","webpack:///./resources/modules/admin/src/svgs/user.svg","webpack:///./resources/modules/admin/src/components/users/Users.js","webpack:///./resources/modules/admin/src/components/users/Notifications/Notifications.js","webpack:///./resources/modules/admin/src/components/altrp-select/AltrpSelect.js","webpack:///./resources/modules/admin/src/components/users/Notifications/Compare.js","webpack:///./resources/modules/admin/src/components/users/Notifications/ConditionsTab.js","webpack:///./resources/modules/admin/src/components/users/Notifications/DataTab.js","webpack:///./resources/modules/admin/src/components/users/Notifications/SendToTab.js","webpack:///./resources/modules/admin/src/components/users/Notifications/EditNotification.js","webpack:///./resources/modules/admin/src/components/users/UserForm.js","webpack:///./resources/modules/admin/src/components/users/AddUserPage.js","webpack:///./resources/modules/admin/src/components/users/EditUserPage.js","webpack:///./resources/modules/admin/src/components/users/UserPage.js","webpack:///./resources/modules/admin/src/components/users/UsersTools.js","webpack:///./resources/modules/admin/src/components/AutoSaveDocumentDetail.js","webpack:///./resources/modules/admin/src/components/ImageDetail.js","webpack:///./resources/modules/admin/src/components/FontsDetail.js","webpack:///./resources/modules/admin/src/components/Assets.js","webpack:///./resources/modules/admin/src/components/dashboard/widgetTypes.js","webpack:///./resources/modules/admin/src/components/dashboard/widgets/Spinner.js","webpack:///./resources/modules/admin/src/components/dashboard/widgets/EmptyWidget.js","webpack:///./resources/modules/editor/src/js/components/altrp-dashboards/settings/NivoColorSchemes.js","webpack:///./resources/modules/admin/src/components/dashboard/services/getWidgetData.js","webpack:///./resources/modules/admin/src/components/dashboard/widgets/d3/TooltipBar.js","webpack:///./resources/modules/admin/src/components/dashboard/widgets/DynamicBarChart.js","webpack:///./resources/modules/admin/src/components/dashboard/widgets/d3/TooltipPie.js","webpack:///./resources/modules/admin/src/components/dashboard/widgets/DynamicPieChart.js","webpack:///./resources/modules/admin/src/components/dashboard/widgets/d3/Tooltip.js","webpack:///./resources/modules/admin/src/components/dashboard/widgets/DynamicLineChart.js","webpack:///./resources/modules/admin/src/components/dashboard/widgets/DynamicTableWidget.js","webpack:///./resources/modules/admin/src/components/dashboard/widgets/d3/TooltipScatter.js","webpack:///./resources/modules/admin/src/components/dashboard/widgets/DynamicPointChart.js","webpack:///./resources/modules/admin/src/components/dashboard/WidgetDiagram.js","webpack:///./resources/modules/admin/src/components/dashboard/dataSources.js","webpack:///./resources/modules/admin/src/components/dashboard/EditWidget.js","webpack:///./resources/modules/admin/src/components/dashboard/AddWidget.js","webpack:///./resources/modules/admin/src/components/Dashboard.js","webpack:///./resources/modules/admin/src/components/Plugins.js","webpack:///./resources/modules/admin/src/components/Reports.js","webpack:///./resources/modules/admin/src/components/Tables.js","webpack:///./resources/modules/admin/src/components/Templates.js","webpack:///./resources/modules/admin/src/components/Robots.js","webpack:///./resources/modules/admin/src/svgs/times.svg","webpack:///./resources/modules/admin/src/components/AdminModal.js","webpack:///./resources/modules/admin/src/components/AdminModal2.js","webpack:///./resources/modules/admin/src/components/pages/ParamItem.js","webpack:///./resources/modules/admin/src/components/pages/PageDataSourceParams.js","webpack:///./resources/modules/admin/src/components/pages/PageDataSourceForm.js","webpack:///./resources/modules/admin/src/components/icon-select/IconSelect.js","webpack:///./resources/modules/admin/src/components/AddPage.js","webpack:///./resources/modules/admin/src/components/AddReport.js","webpack:///./resources/modules/admin/src/svgs/bell.svg","webpack:///./resources/modules/admin/src/svgs/logout.svg","webpack:///./resources/modules/admin/src/components/UserTopPanel.js","webpack:///./resources/modules/admin/src/components/Models.js","webpack:///./resources/modules/admin/src/components/models/EditModelForm.js","webpack:///./resources/modules/admin/src/components/models/ValidationSection/ValidatedFieldForm.js","webpack:///./resources/modules/admin/src/components/models/ValidationSection/RuleForm.js","webpack:///./resources/modules/admin/src/components/models/ValidationSection/ValidationTableRow.js","webpack:///./resources/modules/admin/src/components/models/ValidationSection/ValidationTable.js","webpack:///./resources/modules/admin/src/components/models/RemoteFieldForms/ModelsRemoteFieldForm.js","webpack:///./resources/modules/admin/src/components/models/EditModel.js","webpack:///./resources/modules/admin/src/components/models/FieldCalculationLogic.js","webpack:///./resources/modules/admin/src/components/models/AddFieldForm.js","webpack:///./resources/modules/admin/src/components/models/EditField.js","webpack:///./resources/modules/admin/src/components/models/AddRelationForm.js","webpack:///./resources/modules/admin/src/components/models/AddRelation.js","webpack:///./resources/modules/admin/src/components/models/AddAccessorForm.js","webpack:///./resources/modules/admin/src/components/models/AddAccessor.js","webpack:///./resources/modules/admin/src/components/models/HeaderComponent.js","webpack:///./resources/modules/admin/src/components/models/AddDataSourceForm.js","webpack:///./resources/modules/admin/src/components/models/AddDataSource.js","webpack:///./resources/modules/admin/src/components/sql-builder/AggregateComponent.js","webpack:///./resources/modules/admin/src/components/sql-builder/JoinComponent.js","webpack:///./resources/modules/admin/src/components/sql-builder/helpers.js","webpack:///./resources/modules/admin/src/components/sql-builder/ConditionComponent.js","webpack:///./resources/modules/admin/src/components/sql-builder/OrderByComponent.js","webpack:///./resources/modules/admin/src/components/sql-builder/SQLBuilderForm.js","webpack:///./resources/modules/admin/src/components/SQLBuilder.js","webpack:///./resources/modules/admin/src/components/models/RemoteFieldForms/SQLsRemoteFieldForm.js","webpack:///./resources/modules/admin/src/components/models/SqlEditor.js","webpack:///./resources/modules/admin/src/components/AccessOptions.js","webpack:///./resources/modules/admin/src/components/access/RoleForm.js","webpack:///./resources/modules/admin/src/components/access/RolePage.js","webpack:///./resources/modules/admin/src/components/access/PermissionForm.js","webpack:///./resources/modules/admin/src/components/access/PermissionPage.js","webpack:///./resources/modules/admin/src/components/tables/TableForm.js","webpack:///./resources/modules/admin/src/components/tables/AddTable.js","webpack:///./resources/modules/admin/src/components/tables/EditTable.js","webpack:///./resources/modules/admin/src/components/tables/MigrationsTable.js","webpack:///./resources/modules/admin/src/components/tables/AddModelPage.js","webpack:///./resources/modules/admin/src/components/tables/AccessorsPage.js","webpack:///./resources/modules/admin/src/components/tables/AddControllerPage.js","webpack:///./resources/modules/admin/src/components/tables/SettingTable.js","webpack:///./resources/modules/admin/src/components/tables/AddMigrationPage.js","webpack:///./resources/modules/admin/src/components/AdminVersion.js","webpack:///./resources/modules/admin/src/components/SQLEditors.js","webpack:///./resources/modules/admin/src/components/dashboard/ColorSchemes.js","webpack:///./resources/modules/admin/src/components/models/ModelItemForm.js","webpack:///./resources/modules/admin/src/components/models/ModelPage.js","webpack:///./resources/modules/admin/src/components/AdminAssetsDropList.js","webpack:///./resources/modules/editor/src/js/classes/AltrpMeta.js","webpack:///./resources/modules/admin/src/components/CustomFonts.js","webpack:///./resources/modules/admin/src/components/EditFontElementPublish.js","webpack:///./resources/modules/admin/src/components/EditFont.js","webpack:///./resources/modules/admin/src/components/AddNewFont.js","webpack:///./resources/modules/editor/src/js/classes/modules/AssetsBrowser.js","webpack:///./resources/modules/editor/src/js/helpers/to-data-url.js","webpack:///./resources/modules/admin/src/js/store/current-user/actions.js","webpack:///./resources/modules/admin/src/components/areas/Areas.js","webpack:///./resources/modules/admin/src/components/areas/AreaForm.js","webpack:///./resources/modules/admin/src/components/areas/AreaAdd.js","webpack:///./resources/modules/admin/src/components/areas/AreaEdit.js","webpack:///./resources/modules/admin/src/components/menu-builder/MenuItem.js","webpack:///./resources/modules/admin/src/components/menu-builder/MenuBuilder.js","webpack:///./resources/modules/admin/src/components/menu-builder/MenuPage.js","webpack:///./resources/modules/admin/src/components/menu-builder/MenusList.js","webpack:///./resources/modules/admin/src/Admin.js","webpack:///./resources/modules/admin/src/components/altrp-editor/AltrpCodeEditor.js","webpack:///./resources/modules/admin/src/components/users/Notifications/admin-notifications.scss","webpack:///./resources/modules/admin/src/sass/admin-style.scss","webpack:///./resources/modules/admin/src/sass/components/admin-pagination.scss","webpack:///./resources/modules/editor/src/sass/assets-browser.scss","webpack:///./node_modules/moment/locale|sync|/^/.*$","webpack:///./resources/modules/admin/src/components/users/Notifications/admin-notifications.scss?6583","webpack:///./resources/modules/admin/src/sass/admin-style.scss?30a0","webpack:///./resources/modules/admin/src/sass/components/admin-pagination.scss?17bb","webpack:///./resources/modules/editor/src/sass/assets-browser.scss?8b5a"],"names":["styles","props","width","height","fill","xmlns","d","stroke","strokeWidth","viewBox","id","className","cx","cy","r","AdminLogo","href","target","this","adminLogo","assetType","renderAsset","Component","connect","state","order","clickHandler","setState","sortingHandler","column","name","sortingField","onClick","title","AdminTableRow","row","key","type","columns","map","index","tag","text","_","get","default","children","url","editUrl","Link","to","pathname","data","is_button","button","function","is_boolean","toString","React","quickActions","quickAction","item","replace","route","confirm","resource","Resource","isFunction","method","response","after","callBack","filterByKeyboard","e","value","search","onChange","changeHandler","rows","currentPage","num","parseInt","changePage","pageCount","setCurrentPage","altrp_version","itemsCount","redirect","window","location","assign","generateId","Math","random","substr","iconsManager","IconsManager","logout","post","pageReload","document","reload","a","transliterate","str","split","char","isUndefined","join","titleToName","toLowerCase","titleToPath","buildPagesTree","pages","tree","roots","filter","parent_page_id","length","treeRecursion","parentId","level","forEach","page","repeat","push","root","filterUsers","users","roleFilter","user","roles","some","role","AllPages","getPages","s","undefined","getQueried","res","pagesSearch","changeSearchHandler","itemsPerPage","slice","ceil","Updates","needUpdate","updateAltrp","bind","store","setAdminDisable","result","setNeedUpdate","setAdminEnable","setTimeout","updateMessage","testEnable","adminState","installTestAltrp","defaultBaseColor","SkeletonSpan","styled","duration","delay","keyframes","floor","color","highlightColor","disabled","changeValue","onKeyDown","prevProps","prevState","console","log","resourceid","keyCode","newValue","changevalue","onBlur","put","column_value","inputProps","iconFile","uploaderClasses","itemDeleteClasses","imageLazyLoading","updateImageLazyLoading","onDrop","persist","preventDefault","stopPropagation","dataTransfer","files","onDragOver","onDragLeave","submitHandler","postFile","then","alert","skeletonHighlightColorChange","skeletonHighlightColor","isString","rgb","g","b","skeletonColorChange","skeletonColor","altrp_image_lazy","altrp_skeleton_color","altrp_skeleton_highlight_color","UploadIcon","getIconComponent","htmlFor","presetColors","style","padding","boxShadow","onSubmit","accept","postFiles","inputFile","current","success","message","onCustomSubmit","custom_resource","inputCustomFile","createRef","_token","ref","required","toggleLine","open","listPages","items","uri","field","elements","resourceOut","submitData","element","getAll","i","filename","el","line","indexOf","fetch","headers","body","JSON","stringify","resp","blob","URL","createObjectURL","createElement","display","download","appendChild","click","revokeObjectURL","catch","Style","dt","borderBottom","dd","temp","template","changeMainItem","checked","changeItem","enabled","setWebsocketsEnabled","toggle","websocketStore","reset","switcherClasses","onReset","AdvancedSettings","lazy","MailForm","AdminSettings","toggleSSREnabled","SSREnabled","setSSRPort","SSRPort","setSSRSettingsAlias","SSRAlias","generateConfig","error","restartSSR","clearProjectCache","switchTab","SSRConf","activeTab","hash","altrp_ssr_disabled","ssr_port","ssr_settings_alias","file","selectedIndex","onSelect","placeholder","Suspense","fallback","attr","Users","getUsers","users_result","getUsersEmail","getAuthorList","users_result_email","email","includes","sorting","label","sortedUsers","sort","reverse","sortUsers","idx","userId","full_name","last_login_at","currentUser","Notifications","getNotices","notificationsAll","noticeSettingsData","notices","noticesSortingHandler","order_by","searchNotice","getArrayForRows","noticed_id","user_id","match","params","noticeSearch","generateNoticeJSON","pagination","objectDeepCleaning","parse","area","activeresponseArea","notice_name","downloadJSONFile","withRouter","renderScrollbar","autoHeight","loadOptions","searchString","callback","options","optionsResource","optionsRoute","selectRef","customStyles","control","base","borderColor","isFocused","menuPortal","zIndex","selectProps","noOptionsMessage","menuPortalTarget","menuPlacement","menuPosition","components","MenusList","captureMenuScroll","isDisabled","isArray","_i","isNumber","isObject","option","find","o","Compare","changeInput","compareType","compareId","activeCompare","changeInputCompare","changeSelect","changeSelectCompare","isCompareOpened","onSave","onAction","onActive","onDisable","onExport","onDelete","compares","onSaveCompare","onActionCompare","operator","OptionsCompare","CONDITIONS_OPTIONS","ConditionsTab","conditionId","activeCondition","changeInputCondition","changeSelectCondition","isConditionOpened","condition","conditions","onSaveCondition","component","onActionCondition","OptionsCondition","t","DataTab","changeInputData","onSaveData","SendToTab","send","front","changeBox","telegram","onSaveSend","EditNotification","notice_settings","Array","arForDelete","compare","sources","notice_id","sourcesOptions","resourceEdit","dataSources","getSourceArray","serverUpdate","getNewValue","dataSourcesAll","history","conArray","comArray","saveNoticeSetting","isMulti","source","changeRolesHandler","usermeta","_roles","changePermissionsHandler","permissions","permission","_permissions","errors","redirectAfterSave","redirectAfterError","redirect_error_url","rolesOptions","permissionsOptions","isPasswordChange","saveUser","user_data","usermeta_data","password","password_confirmation","usermeta_resource","redirect_url","minlength","first_name","second_name","telegram_user_id","patronymic","closeMenuOnSelect","p","AddUserPage","EditUserPage","UserPage","UsersTools","action","defaultChecked","AutoSave","save","promise","values","difference","diff","Object","keys","submitting","updateAsset","nextProps","timeout","clearTimeout","debounce","subscription","GlobalStyle","createGlobalStyle","sleep","ms","Promise","resolve","ImageDetail","author","authorName","imageId","getAsset","deleteAsset","created_at","media_type","closeImageDetail","havePreviousImage","prevImageDetail","ArrowBackIos","fontSize","haveNextImage","nextImageDetail","ArrowForwardIos","Close","src","draggable","alt","initialValues","handleSubmit","CopyToClipboard","FontsDetail","fontId","closeFontDetail","prevFontDetail","nextFontDetail","Assets","assetId","delete","newAssets","assets","Number","indexNextImageInArray","findIndex","checkingFirstOrLastDocument","indexPrevImageInArray","indexNextFontInArray","indexPrevFontInArray","haveNextFont","havePreviousFont","deleteClick","isActiveLink","changeUrlForTab","acceptInput","activeLink","typesFiles","images","svgs","fonts","archives","documents","medias","others","currentTarget","dataset","assetid","filterAssets","updateAssets","linkName","arrayPathname","path","pop","indexCurrentDocumentInArray","CloseIcon","multiple","activeClassName","isActive","onFilterAssets","asset","openImageDetail","typeIcon","IconFile","openDocumentDetail","BAR","PIE","LINE","TABLE","POINT","widgetTypes","colors","queryString","obj","reduce","encodeURIComponent","getWidgetData","axios","status","indexValue","datum","enable","settings","isEqual","widgetID","tooltip","whiteSpace","alignItems","background","marginRight","customTooltip","borderRadius","PureComponent","regagroScheme","Schemes","milkScheme","milkScheme2","widget","dataSource","groupMode","layout","colorScheme","enableLabel","innerPadding","borderWidth","tickRotation","bottomAxis","enableGridX","enableGridY","customColorSchemeChecker","customColors","yScaleMax","useCustomTooltips","useState","isLoading","setIsLoading","setData","getData","useCallback","charts","sortBy","useEffect","margin","top","right","bottom","left","indexBy","scheme","colorBy","axisBottom","tickSize","tickPadding","legend","legendOffset","enableSliceLabels","innerRadius","padAngle","cornerRadius","sortByValue","enableRadialLabels","keyIsDate","isDashboard","newData","currentKey","keyFormatted","moment","isValid","format","enablebar","point","containerSettings","settenableings","borderStyle","backgroundColor","flexDirection","xFormatted","x","y","Fragment","yFormatted","lineWidth","pointSize","xScaleType","precision","curve","enableArea","enablePoints","pointColor","yMarker","yMarkerValue","yMarkerOrientation","yMarkerColor","yMarkerLabel","yMarkerWidth","xMarker","xMarkerValue","xMarkerOrientation","xMarkerColor","xMarkerLabel","xMarkerWidth","yMarkerLabelColor","xMarkerLabelColor","constantsAxises","uniq","xFormat","yScale","max","xScale","markers","useMesh","colorPickedHex","from","modifiers","summary","useMemo","acc","object","maxHeight","textAlign","colSpan","node","formattedX","formattedY","nodeSize","DynamicPointChart","diagram","show","setShow","setWidget","Modal","onHide","animation","size","centered","closeButton","Row","Col","Form","controlId","as","custom","schemes","isVertical","Button","variant","diagrams","setDiagrams","showEditForm","setShowEditForm","showAddForm","setShowAddForm","selectedWidget","setSelectedWidget","addDiagram","req","getDiagrams","showSettingsModal","itemIndex","AddWidget","Plugins","plugins","event","pluginName","image","maxWidth","class","updateChange","for","Reports","Tables","modules","setModules","urlModules","Templates","updateTemplates","activeTemplateArea","pageSize","templateSearch","templates","toggleImportForm","showImportForm","importTemplate","f","fr","FileReader","onload","importedTemplateData","isImported","areaExists","templateAreas","ta","newLink","setAttribute","readAsText","searchTemplates","allTemplates","templateTypesResource","changeActiveArea","generateTemplateJSON","areaId","setActiveArea","__exported_metas__","Blob","modalSettings","submitButton","submit","formData","fields","getAreasOptions","defaultValue","active","setModalSettings","tabClasses","Robots","robots","model_id","addNew","fetchData","redirect_route","power","fillRule","clipRule","AdminModal","toggleModal","storeSubscribe","valid","errorMessage","modalClasses","closeHandler","ReactDOM","createPortal","param","paramValue","changeName","paramName","changeRequired","addItem","parameters","mbParseJSON","altrpRandomId","_parameters","splice","PageDataSourceForm","source_id","alias","priority","dataSourceOptions","autoload","isExtendedSettings","isJSON","page_id","updateHandler","toggleParamsSettings","parseParamsFromString","data_sources","server_side","IconSelectWrapper","openAssetsBrowser","assetsSettings","tabs","onChoose","icon","returnType","assetsShow","updateValue","dangerouslySetInnerHTML","__html","renderIcon","AddPage","getDataSources","dataSourceResource","isModalOpened","editingDataSource","editHandler","parentChangeHandler","endsWith","models","pagesOptions","currentTab","pagesOptionsResource","model_resource","templateResource","savePage","getOptions","models_res","pageData","newState","cloneDeep","changeCurrentTab","model","defaultOptions","is_cached","not_found","mutate","seo_title","seo_keywords","seo_description","Boolean","AddReport","UserTopPanel","userName","columnsModel","columnsDataSource","Models","dataSourcesResource","dataSourcesCurrentPage","preset","dataSourcesSearch","dataSourcesSorting","dataSourcesPageCount","getModels","modelsResource","modelsCurrentPage","modelsSearch","modelsSorting","modelsPageCount","modelsSortingHandler","dataSourcesSortingHandler","searchModel","searchDataSources","modelsCount","dataSourcesCount","deleteHandler","titleChangeHandler","updated_at","parent_model_id","description","table_id","soft_deletes","time_stamps","submitText","edit","ValidatedFieldForm","column_id","column_name","is_created","is_updated","validationsResource","updateValidations","fieldsOptions","data_source_options","RuleForm","rule","editingRule","validation_field_id","ValidationTableRow","isRowExpanded","isRuleModalOpened","isFieldModalOpened","submitRuleHandler","deleteRuleHandler","deleteFieldHandler","editFieldHandler","rules","validations","ModelsRemoteFieldForm","remote_find_column","remote_need_column","as_object","single_source_id","list_source_id","remoteFieldsResource","updateRemoteFields","remoteFieldsColumns","EditModel","updateFields","fieldsResource","updateRelations","relationsResource","relations","updateQueries","queriesResource","queries","updateAccessors","accessorsResource","accessors","remoteFields","isFieldRemoteModalOpened","editingRemoteField","modelName","json","taken","bounded_model","data_source_optionsResource","sql_editors","relation","accessor","query","rightType","is1stString","is2ndString","string","fieldId","string_1","fieldId_1","string_2","fieldId_2","rightTypeHandler","rightChangeHandler","setRight","_state","deleteItemHandler","operatorChangeHandler","AltrpCodeEditor","mode","fieldTypeOptions","attributeOptions","inputTipeOptions","AddFieldForm","isAlways","is_label","is_title","is_auth","length_value","attribute","input_type","null","indexed","editable","calculation","calculation_logic","itemChangeHandler","addItemHandler","filedsResource","modelId","fieldsOptionsResource","substring","isNaN","default_","_null","isNeedToCheckName","fieldName","readOnly","EditField","modelTitle","relationTypeOptions","deleteUpdateOptions","AddRelationForm","modelsOptions","add_belong_to","always_with","local_key","foreign_key","onUpdate","selfFieldsOptions","foreignFieldsOptions","relationName","updateForeignFieldOptions","target_model_id","changeTargetModel","_relationTypeOptions","hideAddBelongTo","renderLocalKey","renderForeignKey","toUpperCase","AddRelation","AddAccessorForm","constructor","AddAccessor","AddDataSourceForm","typeIsDisabled","request_type","api_url","auth","access","bodies","changeRoles","changePermission","headerDeleteHandler","headerChangeHandler","headerAddHandler","bodyDeleteHandler","bodyChangeHandler","bodyAddHandler","fromEntries","goBack","entries","HeaderComponent","AddDataSource","typeOptions","columnsOptions","tablesOptions","tableId","targetColumnOptions","target_table","source_column","target_column","sourceColumnOptions","getDatePickerFormat","getMomentFormat","conditionTypeOptions","dateTypesOptions","isDateVar","dateValueFormatChange","Date","isFirst","condition_type","or","not","first_column","second_column","selected","_d","showTimeSelect","showYearPicker","showTimeSelectOnly","showMonthYearPicker","dateFormat","SQLBuilderForm","changeGroupBy","group_by","_group_by","changeColumns","_columns","c","changeRelations","_relations","valueChangeHandler","aggregateToggle","isAggregateRaw","aggregates","conditionAddHandler","offsetDeleteHandler","offset","limitDeleteHandler","limit","setRelations","setColumns","joins","relationsOptions","selfFields","counter","selfFieldsResource","sqlResource","multipleSelectChangeHandler","aggregateChangeHandler","aggregateAddHandler","aggregateDeleteHandler","joinChangeHandler","joinAddHandler","joinDeleteHandler","conditionChangeHandler","orderByChangeHandler","orderByAddHandler","orderByDeleteHandler","Error","trim","array","conditionDeleteHandler","SQLBuilder","SQLsRemoteFieldForm","SqlEditor","aceEditorObserver","storeState","AceEditor","aceEditorReducer","sql","sqlEditorResource","onTest","testParams","sqlEditorTest","testResponse","paged","is_object","AceEditorResponse","editor","test","arr","theme","setOptions","showPrintMargin","enableLiveAutocompletion","wrapEnabled","rolesResource","permissionsResource","initPaginationProps","count","AccessOptions","rolesPagination","rolesFilter","rolesSorting","permissionsPagination","permissionsFilter","permissionsSorting","getRoles","rolesSortingHandler","getPermissions","permissionsSortingHandler","searchRoles","searchPermissions","RoleForm","display_name","isEditing","RolePage","PermissionForm","PermissionPage","saveTable","AddTable","EditTable","setting_url","MigrationsTable","migrations","table","table_columns","migrations_resource","table_resource","table_res","AddModelPage","relationship_types","addModalShow","onDeleteClick","default_relationship","model_class","accessors_table_columns","addAccessorModalShow","onDeleteAccessorClick","default_accessor","formula","modal_toogle","actual_columns","fillable_columns","user_cols","fillable_cols","relationships","pk","selected_relationship","relationship","selected_accessor","save_model_resource","accessors_resource","addFillableColumn","deleteFillableColumn","addUserColsColumn","deleteUserColsColumn","onChangeRelationship","saveModel","addRelationship","getModalClasses","columns_res","model_data","setCols","accessors_data","accsessors","cols","update","$push","$splice","field_name","getTime","$set","AccessorsPage","addAccessor","AddControllerPage","prefix","namespace","controller_resource","save_controller_resource","saveController","addRelation","deleteRelation","controller_res","setRelation","SettingTable","AddMigrationPage","column_types","default_column","places","unique","default_key","source_table_id","key_actions","addModalColumnShow","onDeleteColumnClick","table_keys","addModalKeyShow","onDeleteKeyClick","column_modal_toggle","key_modal_toggle","rename_columns","selected_column","selected_key","migration_resource","onChangeColumn","onChangeKey","addColumn","addKey","saveMigration","isShowField","keys_res","modal_toggle","val","charAt","name_value","main_url","SQLEditors","getSqlEditors","sql_editorsResource","sqlEditorSearch","searchSqlEditors","sql_editorsPagination","sql_editor","ModelItemForm","pick","ModelPage","editingItem","getModelData","searchModelData","propsSearch","AdminAssetsDropList","pathmanHaveAsssets","WithRouterAdminAssetsDropList","AltrpMeta","metaName","metaValue","_default","getProperty","setProperty","getMetaName","getMetaValue","meta_value","reject","pendingCallbacks","statuses","meta","AltrpModel","CustomFonts","deleteFont","currentFontId","indexCurrentFont","setMetaValue","getCustomFonts","fontsCount","onMouseEnter","onMouseLeave","fontFamily","variations","compose","EditFontElementPublish","changePublishSizeMin","KeyboardArrowUp","changePublishSizeMax","KeyboardArrowDown","pathName","fontWeightOptions","fontStyleOptions","EditFont","fontWeight","fontStyle","woffFile","woff2File","ttfFile","svgFile","eotFile","fontsLibrary","editFont","publishMaxSize","postFont","restProps","addFontVariation","fontVariation","currentFont","findIndexCurrentFont","setNewMetaValue","deleteFontVariation","indexCurrentFontVariation","editFontOn","editFontOff","initialFontName","fontVariations","v","Edit","Delete","AddNewFont","fontSavedSuccessfully","addNewFont","newFont","idCurrentFont","configNewFont","idCurrentFontForRedirect","AssetsBrowser","insertRaw","xhr","selectedAsset","getAsText","rawSVG","dispatch","assetsToggle","dataUrl","XMLHttpRequest","reader","onloadend","readAsDataURL","responseType","tabClick","toggleBrowser","selectAsset","chooseAsset","svgAssets","getAssets","mediaAssets","videoAssets","mediaResource","svgResource","videoResource","nextContext","tab","setActiveTab","resSvg","resMedia","addEventListener","assetname","rawEnable","classes","buttonClasses","AssetContent","assetProps","iconComponent","video","assetsManagerSettings","setUsersOnline","members","updateAreas","areas","CONSTANTS","submitForm","inputValue","valueName","set","area_type","sidebar_type","sidebar_location","sidebar_width","custom_css","sidebar_checked","sidebar_fixed","AreaAdd","AreaEdit","showContent","onDoubleClick","indexes","deleteItem","group","setList","newList","updateChildren","list","MenuItem","toggle_icon","Wrapper","newItem","new","menuId","afterSave","afterDelete","menu","fetchError","handle","thisValue","MenuPage","updateMenus","menus","Admin","assetsActive","isAssetsActive","adminEnable","pagesMenuShow","toggleMenu","updateAdminState","getConnect","changeCurrentUser","pusherKey","websocketsPort","websocketsHost","pusher_app_key","websockets_port","pusher_host","Pusher","require","Echo","broadcaster","wsHost","wsPort","forceTLS","disableStats","setWebsocketsKey","setWebsocketsPort","private","notification","presenceChannel","activeUsers","here","joining","leaving","getPusherConnect","connector","pusher","connection","adminClasses","autoHide","autoHideTimeout","autoHideDuration","exact","customFonts","setUserData","userData","prepareIncomingValue","editorProps","prepareOutgoingValue","module","exports","escape","webpackContext","webpackContextResolve","__webpack_require__","code","content","transform","locals"],"mappings":"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C,UAAW,UAAW,UAAW,UAAW,UAAW,YAElE,CACExQ,MAAO,aACPnP,MAAO,aACP2f,OAAQ,CACN,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAGJ,CACExQ,MAAO,SACPnP,MAAO,SACP2f,OAAQ,CACN,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAGJ,CACExQ,MAAO,QACPnP,MAAO,QACP2f,OAAQ,CACN,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAGJ,CACExQ,MAAO,SACPnP,MAAO,SACP2f,OAAQ,CACN,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAGJ,CACExQ,MAAO,UACPnP,MAAO,UACP2f,OAAQ,CACN,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAGJ,CACExQ,MAAO,UACPnP,MAAO,UACP2f,OAAQ,CACN,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAGJ,CACExQ,MAAO,OACPnP,MAAO,OACP2f,OAAQ,CACN,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAGJ,CACExQ,MAAO,OACPnP,MAAO,OACP2f,OAAQ,CACN,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAGJ,CACExQ,MAAO,OACPnP,MAAO,OACP2f,OAAQ,CACN,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAGJ,CACExQ,MAAO,kBACPnP,MAAO,kBACP2f,OAAQ,CACN,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAGJ,CACExQ,MAAO,kBACPnP,MAAO,kBACP2f,OAAQ,CACN,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAGJ,CACExQ,MAAO,mBACPnP,MAAO,mBACP2f,OAAQ,CACN,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAGJ,CACExQ,MAAO,gBACPnP,MAAO,gBACP2f,OAAQ,CACN,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAGJ,CACExQ,MAAO,WACPnP,MAAO,WACP2f,OAAQ,CACN,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAGJ,CACExQ,MAAO,UACPnP,MAAO,WACP2f,OAAQ,CACN,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAGJ,CACExQ,MAAO,kBACPnP,MAAO,kBACP2f,OAAQ,CACN,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAGJ,CACExQ,MAAO,mBACPnP,MAAO,mBACP2f,OAAQ,CACN,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAGJ,CACExQ,MAAO,WACPnP,MAAO,WACP2f,OAAQ,CACN,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAGJ,CACExQ,MAAO,QACPnP,MAAO,QACP2f,OAAQ,CACN,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAGJ,CACExQ,MAAO,SACPnP,MAAO,SACP2f,OAAQ,CACN,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAGJ,CACExQ,MAAO,QACPnP,MAAO,QACP2f,OAAQ,CACN,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAGJ,CACExQ,MAAO,UACPnP,MAAO,UACP2f,OAAQ,CACN,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAGJ,CACExQ,MAAO,UACPnP,MAAO,UACP2f,OAAQ,CACN,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAGJ,CACExQ,MAAO,OACPnP,MAAO,OACP2f,OAAQ,CACN,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAGJ,CACExQ,MAAO,aACPnP,MAAO,aACP2f,OAAQ,CACN,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAGJ,CACExQ,MAAO,cACPnP,MAAO,cACP2f,OAAQ,CACN,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAGJ,CACExQ,MAAO,aACPnP,MAAO,aACP2f,OAAQ,CACN,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAGJ,CACExQ,MAAO,aACPnP,MAAO,aACP2f,OAAQ,CACN,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAGJ,CACExQ,MAAO,oBACPnP,MAAO,oBACP2f,OAAQ,CACN,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAGJ,CACExQ,MAAO,cACPnP,MAAO,cACP2f,OAAQ,CACN,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAGJ,CACExQ,MAAO,aACPnP,MAAO,aACP2f,OAAQ,CACN,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAGJ,CACExQ,MAAO,aACPnP,MAAO,aACP2f,OAAQ,CACN,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAGJ,CACExQ,MAAO,oBACPnP,MAAO,oBACP2f,OAAQ,CACN,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAGJ,CACExQ,MAAO,eACPnP,MAAO,eACP2f,OAAQ,CACN,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAGJ,CACExQ,MAAO,sBACPnP,MAAO,sBACP2f,OAAQ,CACN,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAGJ,CACExQ,MAAO,oBACPnP,MAAO,oBACP2f,OAAQ,CACN,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAGH,CACCxQ,MAAO,OACPnP,MAAO,OACP2f,OAAQ,CACN,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAGJ,CACExQ,MAAO,QACPnP,MAAO,QACP2f,OAAQ,CAAC,UAAW,UAAW,UAAW,a,YCxlBjCC,GAAc,WAAc,IAAbC,EAAa,uDAAP,GAC5BnhB,EAAOib,OAAOC,KAAKiG,GAAKC,QAAO,SAAChe,EAAKpE,EAAK+M,GAK5C,MAAO,CAAC3I,EAHU,IAAN2I,EAAU,IAAM,IAC5B/M,EAAMqiB,mBAAmBriB,GAEI,IADvBqiB,mBAAmBF,EAAIniB,KACU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","file":"545.admin.js","sourcesContent":["import React from \"react\";\nexport default (({\n  styles = {},\n  ...props\n}) => <svg width=\"7\" height=\"10\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" {...props}><path d=\"M6 1.5L2 5l4 4\" stroke=\"#8E94AA\" strokeWidth=\"1.5\" /></svg>);","import React from \"react\";\nexport default (({\n  styles = {},\n  ...props\n}) => <svg width=\"19\" height=\"14\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" {...props}><path fill=\"#fff\" d=\"M0 0h19v2H0zM0 6h19v2H0V6zM0 12h19v2H0z\" /></svg>);","import React from \"react\";\nexport default (({\n  styles = {},\n  ...props\n}) => <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\" {...props}><defs /><g id=\"Слой_2\" data-name=\"Слой 2\"><g id=\"Слой_1-2\" data-name=\"Слой 1\"><path className={styles[\"cls-1\"] || \"cls-1\"} d=\"M15.63 1.79h-1v12.48a.36.36 0 01-.36.36H1.79v1a.37.37 0 00.37.37h13.47a.36.36 0 00.37-.37V2.16a.37.37 0 00-.37-.37z\" /><path className={styles[\"cls-1\"] || \"cls-1\"} d=\"M13.79 13.42V.37a.37.37 0 00-.37-.37H.37A.36.36 0 000 .37v13.05a.37.37 0 00.37.37h13.05a.38.38 0 00.37-.37zM10 2.71a1.4 1.4 0 11-1.4 1.4 1.4 1.4 0 011.4-1.4zm-8.8 9.91C1.27 11 2.1 8 3.3 6.83s2-.13 2.72.9a27.9 27.9 0 001.73 2.32c.81.81 1.49-.41 2.34-.81 1.23-.59 2.24 2.46 2.5 3.39z\" /></g></g></svg>);","import React from \"react\";\nexport default (({\n  styles = {},\n  ...props\n}) => <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 17.73 10.85\" {...props}><g data-name=\"Слой 2\"><path d=\"M8.87 0A8.88 8.88 0 000 8.87a9.67 9.67 0 00.16 1.69.37.37 0 00.36.29h16.69a.36.36 0 00.36-.29A8.88 8.88 0 008.87 0zm0 1a.93.93 0 11-.66 1.58A.93.93 0 018.87 1zM2 9.79a.93.93 0 11.92-.92.93.93 0 01-.92.92zm2.63-5.16a.88.88 0 01-.63.28.94.94 0 01-.95-.91.92.92 0 01.95-.95.94.94 0 01.91.95.88.88 0 01-.28.63zm5.78 5.09a2.33 2.33 0 11-3-3.58c1-.83 6.74-2.57 6.74-2.57S11.4 8.9 10.41 9.72zm5.37.07a.93.93 0 11.92-.92.93.93 0 01-.92.92z\" fill=\"#fff\" data-name=\"Слой 1\" /></g></svg>);","import React from \"react\";\nexport default (({\n  styles = {},\n  ...props\n}) => <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 13 17.35\" {...props}><defs /><g id=\"Слой_2\" data-name=\"Слой 2\"><g id=\"Слой_1-2\" data-name=\"Слой 1\"><path className={styles[\"cls-1\"] || \"cls-1\"} d=\"M10.33 15.72H1.6V2.64H.47a.47.47 0 00-.47.47v13.77a.47.47 0 00.47.47h9.39a.47.47 0 00.47-.47z\" /><path className={styles[\"cls-1\"] || \"cls-1\"} d=\"M13 .47a.47.47 0 00-.47-.47H3.14a.47.47 0 00-.47.47v13.77a.47.47 0 00.47.46h9.39a.44.44 0 00.33-.14.43.43 0 00.14-.32z\" /></g></g></svg>);","import React from \"react\";\nexport default (({\n  styles = {},\n  ...props\n}) => <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 17 16.96\" {...props}><defs /><g id=\"Слой_2\" data-name=\"Слой 2\"><g id=\"Слой_1-2\" data-name=\"Слой 1\"><path className={styles[\"cls-1\"] || \"cls-1\"} d=\"M4.31 2.67A.43.43 0 004 2.54a.41.41 0 00-.31.14c-2.54 2.8-1.16 8.86-1 9.46L.12 14.7A.41.41 0 000 15a.42.42 0 00.12.3l1.54 1.53a.41.41 0 00.6 0l2.55-2.55a17.77 17.77 0 004.19.51c1.65 0 3.91-.26 5.3-1.52a.5.5 0 00.14-.31.46.46 0 00-.13-.31zM8 5.19a.44.44 0 00.3.12.42.42 0 00.3-.12L11.76 2a1.17 1.17 0 00.34-.83 1.18 1.18 0 00-.34-.84 1.16 1.16 0 00-.84-.33 1.15 1.15 0 00-.84.35L6.92 3.51a.42.42 0 000 .6zM16.65 5.24a1.2 1.2 0 00-1.67 0l-3.17 3.17a.44.44 0 000 .6l1.08 1.07a.41.41 0 00.6 0l3.16-3.16a1.18 1.18 0 000-1.68z\" /></g></g></svg>);","import React from \"react\";\nexport default (({\n  styles = {},\n  ...props\n}) => <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 18 18\" {...props}><defs /><g id=\"Слой_2\" data-name=\"Слой 2\"><g id=\"Слой_1-2\" data-name=\"Слой 1\"><path className={styles[\"cls-1\"] || \"cls-1\"} d=\"M16.14 10H8.06L8 6V1.5c0-.5-.29-.39-.48-.37a8.46 8.46 0 109.31 9.64.69.69 0 00-.69-.79z\" /><path className={styles[\"cls-1\"] || \"cls-1\"} d=\"M10.38 0a.37.37 0 00-.27.09.36.36 0 00-.11.25V8h7.65a.36.36 0 00.25-.11.32.32 0 00.1-.25A8 8 0 0010.38 0z\" /></g></g></svg>);","import React from \"react\";\nexport default (({\n  styles = {},\n  ...props\n}) => <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 17 16.6\" {...props}><g data-name=\"Слой 2\"><path d=\"M16.66 8.49l-1.5-.34a6.68 6.68 0 00-.55-2.49l1.16-1a.42.42 0 00.06-.61l-1.59-2A.41.41 0 0014 2a.46.46 0 00-.32.09L12.5 3a6.72 6.72 0 00-2.3-1.11V.43A.44.44 0 009.76 0H7.23a.43.43 0 00-.43.43v1.45A6.77 6.77 0 004.45 3l-1.14-.88A.46.46 0 003 2a.41.41 0 00-.29.16l-1.58 2a.44.44 0 00.07.61l1.18.93a6.56 6.56 0 00-.53 2.5l-1.5.35a.38.38 0 00-.27.19.43.43 0 00-.08.34l.57 2.46a.43.43 0 00.52.33l1.55-.36a6.66 6.66 0 001.57 1.93l-.69 1.45a.42.42 0 000 .33.45.45 0 00.22.25L6 16.56a.43.43 0 00.19 0h.15a.45.45 0 00.24-.23l.71-1.47a6.78 6.78 0 002.46 0l.71 1.47a.45.45 0 00.58.2l2.27-1.11a.39.39 0 00.22-.25.42.42 0 000-.33l-.7-1.45a6.67 6.67 0 001.56-1.94l1.54.34a.43.43 0 00.52-.33L17 9a.44.44 0 00-.34-.51zm-5.3-.16A2.86 2.86 0 118.5 5.47a2.86 2.86 0 012.86 2.86z\" fill=\"#fff\" data-name=\"Слой 1\" /></g></svg>);","import React from \"react\";\nexport default (({\n  styles = {},\n  ...props\n}) => <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15 15\" {...props}><defs /><g id=\"Слой_2\" data-name=\"Слой 2\"><g id=\"Слой_1-2\" data-name=\"Слой 1\"><path className={styles[\"cls-1\"] || \"cls-1\"} d=\"M0 .2A.2.2 0 01.2 0h3.6a.2.2 0 01.2.2v3.6a.2.2 0 01-.2.2H.2a.2.2 0 01-.2-.2zM6 .2a.2.2 0 01.2-.2h8.6a.2.2 0 01.2.2v3.6a.2.2 0 01-.2.2H6.2a.2.2 0 01-.2-.2zM0 6.2A.2.2 0 01.2 6h3.6a.2.2 0 01.2.2v8.6a.2.2 0 01-.2.2H.2a.2.2 0 01-.2-.2zM6 6.2a.2.2 0 01.2-.2h8.6a.2.2 0 01.2.2v8.6a.2.2 0 01-.2.2H6.2a.2.2 0 01-.2-.2z\" /></g></g></svg>);","import React from \"react\";\nexport default (({\n  styles = {},\n  ...props\n}) => <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15 15\" {...props}><defs /><g id=\"Слой_2\" data-name=\"Слой 2\"><g id=\"Слой_1-2\" data-name=\"Слой 1\"><path className={styles[\"cls-1\"] || \"cls-1\"} d=\"M14.67 0H.33A.31.31 0 000 .28v3.09a.31.31 0 00.33.28h14.34a.31.31 0 00.33-.28V.28a.31.31 0 00-.33-.28zM9 5H6a.32.32 0 00-.33.32v2.22a.32.32 0 00.33.32h3a.32.32 0 00.33-.32V5.28A.32.32 0 009 5zM9 9.15H6a.32.32 0 00-.33.32v5.21A.32.32 0 006 15h3a.32.32 0 00.33-.32V9.47A.32.32 0 009 9.15zM14.67 5h-3a.32.32 0 00-.33.32V10a.32.32 0 00.33.32h3A.32.32 0 0015 10V5.28a.32.32 0 00-.33-.28zM3.37 5h-3a.32.32 0 00-.37.28V10a.32.32 0 00.33.32h3A.32.32 0 003.7 10V5.28A.32.32 0 003.37 5zM3.37 11.55h-3a.33.33 0 00-.33.32v2.81a.32.32 0 00.29.32h3a.32.32 0 00.33-.32v-2.81a.33.33 0 00-.29-.32zM14.67 11.55h-3a.33.33 0 00-.33.32v2.81a.32.32 0 00.33.32h3a.32.32 0 00.33-.32v-2.81a.33.33 0 00-.33-.32z\" /></g></g></svg>);","import React from \"react\";\nexport default (({\n  styles = {},\n  ...props\n}) => <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 18.51 15.26\" {...props}><defs /><g id=\"Слой_2\" data-name=\"Слой 2\"><g id=\"Слой_1-2\" data-name=\"Слой 1\"><path className={styles[\"cls-1\"] || \"cls-1\"} d=\"M13.52 14.52a9.31 9.31 0 01-4 .74A15.11 15.11 0 015 14.52h-.09v-2.68a3.23 3.23 0 013.22-3.22h2.26a3.23 3.23 0 013.22 3.22v2.64zM6.16 7.63a4.56 4.56 0 00-2.7 3.81v.85A15.49 15.49 0 010 11.61s0-.14 0 0V8.9a3.08 3.08 0 013.08-3.1h2.34a3.92 3.92 0 00.74 1.83zM11.6 5.29a2.39 2.39 0 01-2.34 2.43 2.39 2.39 0 01-2.34-2.43 2.39 2.39 0 012.34-2.44 2.39 2.39 0 012.34 2.44zM5.57 4.46a2.35 2.35 0 01-1.2.33 2.38 2.38 0 112.38-2.38 3.33 3.33 0 00-1.18 2.05zM13.09 5.77h2.34a3.09 3.09 0 013.07 3.1v2.71c0-.14 0 0 0 0a15.57 15.57 0 01-3.43.68v-.85a4.56 4.56 0 00-2.7-3.81 3.92 3.92 0 00.72-1.83zM11.75 2.43v-.05a2.39 2.39 0 112.39 2.38 2.32 2.32 0 01-1.2-.33 3.39 3.39 0 00-1.19-2z\" /></g></g></svg>);","import React from \"react\";\nexport default (({\n  styles = {},\n  ...props\n}) => <svg width=\"100\" height=\"24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" {...props}><path d=\"M50.004 7.797l-2.407 5.525c0 1.333.306 2.36.927 3.065.204.238.519.46.952.667l-.697 1.962a3.67 3.67 0 01-1.616-1.089 6.62 6.62 0 01-.808-1.187c-.544.82-1.156 1.387-1.854 1.686-.527.237-1.173.352-1.947.352-1.557 0-2.858-.498-3.887-1.502C37.553 16.211 37 14.77 37 12.946c0-.636.042-1.21.128-1.708.085-.498.238-.973.45-1.418.451-.904 1.055-1.594 1.829-2.069.774-.475 1.667-.713 2.687-.713.944 0 1.76.17 2.45.499.97.46 1.684 1.21 2.126 2.252l1.42-2.804 1.914.812zM45.403 13.3a1 1 0 00.025-.268v-.169a.317.317 0 00-.025-.122c0-.973-.306-1.84-.91-2.598-.613-.759-1.285-1.134-2.025-1.134-.875 0-1.59.337-2.126 1.019-.587.736-.876 1.763-.876 3.088 0 1.21.298 2.138.902 2.774.536.567 1.216.858 2.032.858.57 0 1.038-.153 1.387-.46.578-.52 1.122-1.509 1.616-2.988zM61.97 18.617h-2.517l-2.62-6.445-.62-1.77-.647 1.816-2.543 6.399h-2.688l4.627-11.05a39.743 39.743 0 01-.485-1.165 3.354 3.354 0 00-.255-.52c-.323-.46-.842-.69-1.548-.69-.246 0-.723.069-1.437.206l.28-2.13c.358-.1.647-.168.868-.207.221-.038.442-.061.663-.061 1.327 0 2.365.62 3.105 1.854.28.43.663 1.257 1.156 2.483l4.66 11.28zM72.363 9.238h-3.59v6.107c0 .444.018.728.043.858.034.123.12.238.28.338.154.068.358.107.605.107.187 0 .544-.039 1.088-.107l.374 2.022c-.28.054-.663.108-1.156.146a16.56 16.56 0 01-1.02.061c-.775 0-1.378-.107-1.82-.322a1.994 1.994 0 01-.962-.95c-.093-.207-.161-.482-.204-.835-.042-.345-.068-.82-.068-1.418V9.238l-1.667-.023c-.357 0-.689.145-.995.437-.093.1-.212.252-.374.46l-1.616-1.48c.306-.375.57-.65.79-.835.681-.56 1.413-.835 2.204-.835l8.096.023v2.253h-.008zM84.26 9.674c.417.904.622 1.947.622 3.127 0 1.226-.222 2.283-.672 3.172a5.093 5.093 0 01-1.965 2.107 5.39 5.39 0 01-2.798.774c-.604 0-1.08-.053-1.437-.168-.494-.154-.995-.453-1.506-.897V23h-2.798l.026-10.696c0-2.154.808-3.702 2.432-4.629 1.004-.567 2.144-.858 3.428-.858 1.063 0 1.998.245 2.815.743.8.49 1.42 1.196 1.854 2.115zm-2.797-.046c-.579-.636-1.267-.958-2.084-.958-.8 0-1.514.337-2.126 1.02-.29.337-.519.804-.68 1.41a7.628 7.628 0 00-.247 1.969c0 1.333.289 2.314.876 2.942.587.629 1.284.935 2.084.935.833 0 1.547-.322 2.151-.958.29-.337.519-.781.68-1.356a6.845 6.845 0 00.247-1.877c0-.682-.076-1.288-.22-1.817a3.324 3.324 0 00-.681-1.31zM99.306 9.192l-1.387-.023-.025 9.448h-2.62v-9.44h-4.303v9.448h-2.568V9.199c-.154 0-.34.054-.57.154a3.502 3.502 0 00-.774.551l-1.71-1.54c.63-.56 1.191-.92 1.667-1.096.477-.176 1.02-.26 1.616-.26h10.674v2.184z\" fill=\"#fff\" /><circle cx=\"12\" cy=\"12\" r=\"12\" fill=\"#D9FF8D\" /><path d=\"M17.603 7.85l-1.926 4.42c0 1.067.245 1.888.742 2.452.163.19.415.368.762.533l-.558 1.57a2.936 2.936 0 01-1.293-.87 5.287 5.287 0 01-.646-.951c-.435.656-.925 1.11-1.483 1.349-.422.19-.939.282-1.558.282-1.245 0-2.286-.399-3.11-1.202-.89-.852-1.333-2.005-1.333-3.463 0-.51.034-.969.102-1.368.068-.398.19-.778.36-1.134.361-.723.844-1.275 1.463-1.655.62-.38 1.334-.57 2.15-.57.756 0 1.409.135 1.96.399.776.367 1.347.968 1.7 1.802L16.073 7.2l1.53.65zm-3.68 4.402a.8.8 0 00.02-.215v-.135a.254.254 0 00-.02-.098c0-.779-.246-1.471-.729-2.078-.49-.607-1.027-.907-1.62-.907-.7 0-1.271.27-1.7.815-.47.588-.701 1.41-.701 2.47 0 .969.238 1.71.721 2.22.429.453.973.686 1.626.686.456 0 .83-.122 1.11-.368.462-.416.897-1.207 1.292-2.39z\" fill=\"#343B4C\" /></svg>);","import React, {Component} from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport DefaultLogo from '../svgs/admin__logo.svg'\r\nimport {renderAsset} from \"../../../front-app/src/js/helpers\";\r\n\r\nclass AdminLogo extends Component {\r\n  constructor(props){\r\n    super(props);\r\n  }\r\n  render(){\r\n    return <a href='/' target=\"_blank\" className=\"admin__logo\">{this.props.adminLogo.assetType\r\n        ? renderAsset(this.props.adminLogo)\r\n        : <DefaultLogo />}\r\n    </a>;\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    adminLogo: state.adminLogo\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps)(AdminLogo);","import React from \"react\";\nexport default (({\n  styles = {},\n  ...props\n}) => <svg height=\"40\" viewBox=\"0 0 1792 1792\" width=\"40\" xmlns=\"http://www.w3.org/2000/svg\" {...props}><path d=\"M1395 736q0 13-10 23l-466 466q-10 10-23 10t-23-10L407 759q-10-10-10-23t10-23l50-50q10-10 23-10t23 10l393 393 393-393q10-10 23-10t23 10l50 50q10 10 10 23z\" /></svg>);","import React, { Component } from \"react\";\nimport VectorSvg from '../../svgs/vector.svg';\n\nclass SortableHeader extends Component {\n  state = {\n    order: 'ASC'\n  }\n\n  clickHandler = () => {\n    this.setState(\n      { order: this.state.order === 'ASC' ? 'DESC' : 'ASC' },\n      () => this.props.sortingHandler(this.props.column.name, this.state.order)\n    )\n  }\n\n  render() {\n    const { column, sortingField } = this.props;\n    const { order } = this.state;\n\n\n    return <td onClick={this.clickHandler} className=\"admin-table__td \" title={column.name}>\n      {column.title}\n      <VectorSvg className={`vector-svg ${order === 'DESC' ? 'role-svg' : ''} ${sortingField === column.name ? 'vector-svg--active' : ''}`} />\n    </td>\n  }\n};\n\nexport default SortableHeader;\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Resource from \"../../../editor/src/js/classes/Resource\";\r\n\r\nexport default class AdminTableRow extends Component {\r\n\r\n  render() {\r\n    const { row } = this.props;\r\n    return (\r\n      <tr className=\"admin-table-row\" key={row.id} title={row.id}>\r\n        <td\r\n          className=\"admin-table__td admin-table__td_check\"\r\n          key={\"choose\" + row.id}\r\n          title={\"choose\" + row.id}\r\n        >\r\n          <input type=\"checkbox\" />\r\n        </td>\r\n        {this.props.columns.map((column, index) => {\r\n          let tag = \"span\";\r\n          let text = _.get(row, column.name, '')\r\n          if(column.default && ! text){\r\n            text = column.default\r\n          }\r\n          let props = {\r\n            className: \"td__content\",\r\n            // children: [row[column.name]],\r\n            children: text\r\n          };\r\n          if (column.url && row.url) {\r\n            tag = \"a\";\r\n            props.href = row.url;\r\n            if (column.target) {\r\n              props.target = column.target;\r\n            }\r\n          }\r\n          if (column.editUrl && row.editUrl) {\r\n            tag = column.tag === \"Link\" ? Link : \"a\";\r\n            props.href = row.editUrl;\r\n            if (column.tag === \"Link\") {\r\n              props.to = {\r\n                pathname: row.editUrl,\r\n                data: row\r\n              };\r\n            }\r\n            if (column.target) {\r\n              props.target = column.target;\r\n            }\r\n          }\r\n          if (column.is_button) {\r\n            tag = \"button\";\r\n            props.title = column.button.title;\r\n            props.children = column.button.title;\r\n            props.onClick = () => {\r\n              column.button.function(row);\r\n            };\r\n          }\r\n          if (column.is_boolean) {\r\n            props.children = [\r\n              _.get(row, column.name, false).toString()\r\n            ];\r\n          }\r\n\r\n          return (\r\n            <td\r\n              className=\"admin-table__td td\"\r\n              key={column.name + row.id}\r\n              title={column.name + row.id}\r\n            >\r\n              {React.createElement(tag, props)}\r\n              {index === 0 && (\r\n                <span className=\"quick-action-menu\">\r\n                          {this.props.quickActions &&\r\n                          this.props.quickActions.map(\r\n                            (quickAction, index) => {\r\n                              let item = \"\";\r\n                              switch (quickAction.tag) {\r\n                                case \"a\":\r\n                                {\r\n                                  let href = quickAction.props.href.replace(\r\n                                    \":id\",\r\n                                    row.id\r\n                                  );\r\n\r\n                                  item = (\r\n                                    <a\r\n                                      className={\r\n                                        \"quick-action-menu__item \" +\r\n                                        (quickAction.className || \"\")\r\n                                      }\r\n                                      {...(quickAction.props || {})}\r\n                                      href={href}\r\n                                    >\r\n                                      {quickAction.title}\r\n                                    </a>\r\n                                  );\r\n                                }\r\n                                  break;\r\n                                case \"Link\":\r\n                                {\r\n                                  let href = quickAction.props.href.replace(\r\n                                    \":id\",\r\n                                    row.id\r\n                                  );\r\n\r\n                                  item = (\r\n                                    <Link\r\n                                      className={\r\n                                        \"quick-action-menu__item \" +\r\n                                        (quickAction.className || \"\")\r\n                                      }\r\n                                      {...(quickAction.props || {})}\r\n                                      to={href}\r\n                                    >\r\n                                      {quickAction.title}\r\n                                    </Link>\r\n                                  );\r\n                                }\r\n                                  break;\r\n                                case \"button\":\r\n                                  let route = quickAction.route.replace(\r\n                                    \":id\",\r\n                                    row.id\r\n                                  );\r\n                                  item = (\r\n                                    <button\r\n                                      className={\r\n                                        \"quick-action-menu__item \" +\r\n                                        (quickAction.className || \"\")\r\n                                      }\r\n                                      {...(quickAction.props || {})}\r\n                                      onClick={async () => {\r\n                                        if (quickAction.confirm) {\r\n                                          if (\r\n                                            !(await confirm(\r\n                                              quickAction.confirm\r\n                                            ))\r\n                                          ) {\r\n                                            return;\r\n                                          }\r\n                                        }\r\n                                        const resource = new Resource({\r\n                                          route\r\n                                        });\r\n                                        if (\r\n                                          _.isFunction(\r\n                                            resource[quickAction.method]\r\n                                          )\r\n                                        ) {\r\n                                          let response;\r\n                                          switch (quickAction.method) {\r\n                                            case \"get\":\r\n                                              response = await resource[\r\n                                                quickAction.method\r\n                                                ](row.id);\r\n                                              break;\r\n                                            case \"put\":\r\n                                              response = await resource[\r\n                                                quickAction.method\r\n                                                ](row.id, quickAction.data);\r\n                                              break;\r\n\r\n                                            default:\r\n                                              response = await resource[\r\n                                                quickAction.method\r\n                                                ]();\r\n                                              break;\r\n                                          }\r\n                                          _.isFunction(quickAction.after)\r\n                                            ? quickAction.after(response)\r\n                                            : \"\";\r\n                                        }\r\n                                      }}\r\n                                    >\r\n                                      {quickAction.title}\r\n                                    </button>\r\n                                  );\r\n                                  break;\r\n                                // case 'button': {\r\n                                //   let route = quickAction.route.replace(':id', row.id);\r\n                                //   item = <button\r\n                                //       className={'quick-action-menu__item ' + (quickAction.className || '')}\r\n                                //       {...quickAction.props || {}}\r\n                                //       onClick={async () => {\r\n                                //         if (quickAction.confirm) {\r\n                                //           if (!await confirm(quickAction.confirm)) {\r\n                                //             return;\r\n                                //           }\r\n                                //         }\r\n                                //         let resource = new Resource({route: route});\r\n                                //         if (_.isFunction(resource[quickAction.method])) {\r\n                                //           await resource[quickAction.method]();\r\n                                //           _.isFunction(quickAction.after) ? quickAction.after() : ''\r\n                                //         }\r\n                                //       }}\r\n                                //   >{quickAction.title}</button>;\r\n                                // }\r\n                                // break;\r\n\r\n                                default:\r\n                                  break;\r\n                              }\r\n                              if (quickAction.callBack) {\r\n                                item = (\r\n                                  <button\r\n                                    className={\r\n                                      \"quick-action-menu__item \" +\r\n                                      (quickAction.className || \"\")\r\n                                    }\r\n                                    onClick={() => quickAction.callBack(row)}\r\n                                  >\r\n                                    {quickAction.title}\r\n                                  </button>\r\n                                );\r\n                              }\r\n                              return (\r\n                                <span\r\n                                  className=\"quick-action-menu__item_wrapper\"\r\n                                  key={index + row.id}\r\n                                >\r\n                                    {item}\r\n                                  </span>\r\n                              );\r\n                            }\r\n                          )}\r\n                        </span>\r\n              )}\r\n            </td>\r\n          );\r\n        })}\r\n      </tr>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport SortableHeader from \"./AdminTableComponents/SortableHeader\";\r\nimport AdminTableRow from \"./AdminTableRow\";\r\nclass AdminTable extends Component {\r\n  /**\r\n   * Фильтр по введенной строке\r\n   * @param {{}} e\r\n   */\r\n\r\n  filterByKeyboard = e => {\r\n    if (_.isFunction(this.props.filterByKeyboard)) {\r\n      this.props.filterByKeyboard(e.target.value);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { search, sortingHandler, sortingField } = this.props;\r\n    return (\r\n      <div className=\"admin-table\">\r\n        {search && (\r\n          <div className=\"admin-table\">\r\n            <input\r\n              value={search.value}\r\n              onChange={search.changeHandler}\r\n              type=\"text\"\r\n              className=\"form-group\"\r\n            />\r\n          </div>\r\n        )}\r\n        <table>\r\n          <thead className=\"admin-table-head\">\r\n            <tr className=\"admin-table-row\">\r\n              <td className=\"admin-table__td admin-table__td_check\">\r\n                <input type=\"checkbox\" />\r\n              </td>\r\n              {this.props.columns.map(column =>\r\n                sortingHandler ? (\r\n                  <SortableHeader\r\n                    key={column.name}\r\n                    column={column}\r\n                    sortingHandler={sortingHandler}\r\n                    sortingField={sortingField}\r\n                  />\r\n                ) : (\r\n                  <td\r\n                    className=\"admin-table__td \"\r\n                    key={column.name}\r\n                    title={column.name}\r\n                  >\r\n                    {column.title}\r\n                  </td>\r\n                )\r\n              )}\r\n            </tr>\r\n          </thead>\r\n          <tbody className=\"admin-table-body\">\r\n            {this.props.rows.map(row => (\r\n              <AdminTableRow key={row.id} row={row} {...this.props} />\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AdminTable;\r\n","import React from \"react\";\nexport default (({\n  styles = {},\n  ...props\n}) => <svg width=\"7\" height=\"10\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" {...props}><path d=\"M1 8.5L5 5 1 1\" stroke=\"#343B4C\" strokeWidth=\"1.5\" /></svg>);","import React, { Component } from \"react\";\r\nimport Left from \"../svgs/left.svg\";\r\nimport Right from \"../svgs/right.svg\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport \"../sass/components/admin-pagination.scss\";\r\n\r\nclass Pagination extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      currentPage: 1\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Задает текущую страницу\r\n   * @param num\r\n   */\r\n  setCurrentPage(num) {\r\n    num = parseInt(num) || 1;\r\n    if (num <= 1) {\r\n      this.setState({ currentPage: 1 });\r\n      this.props.changePage(1);\r\n      return;\r\n    }\r\n    if (num >= this.props.pageCount) {\r\n      this.setState({ currentPage: this.props.pageCount });\r\n      this.props.changePage(this.props.pageCount);\r\n      return;\r\n    }\r\n    this.setState({ currentPage: num });\r\n    this.props.changePage(num);\r\n  }\r\n\r\n  /**\r\n   * надо проверить, чтобы при обновлении props.pageCount state.currentPage было меньше\r\n   */\r\n  componentDidUpdate() {\r\n    if (this.state.currentPage > this.props.pageCount) {\r\n      this.setCurrentPage(this.props.currentPage || this.props.pageCount);\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"pagination\">\r\n        <div className=\"version\">\r\n          <p className=\"pagination__version\">\r\n            {/*App creating*/}\r\n            {/*with*/}\r\n            {/*<a className=\"pagination__link\"*/}\r\n            {/*target=\"_blank\"*/}\r\n            {/*href=\"https://altrp.com/\">Altrp</a>*/}\r\n            {/*/*/}\r\n            Version {altrp_version}{\" \"}\r\n          </p>\r\n        </div>\r\n        <div className=\"pagination__buttons\">\r\n          <p className=\"pagination__text\">{this.props.itemsCount} Items</p>\r\n          <div\r\n            className={\r\n              this.state.currentPage <= 1\r\n                ? \" pagination__disabled pagination__toStart pagination__move\"\r\n                : \"pagination__move pagination__toStart\"\r\n            }\r\n            onClick={() => this.setCurrentPage(1)}\r\n          >\r\n            <Right className=\"right__arrow\" />\r\n            <Right className=\"right__arrow\" />\r\n          </div>\r\n          <div\r\n            className={\r\n              this.state.currentPage <= 1\r\n                ? \"pagination__disabled pagination__prev pagination__move\"\r\n                : \"pagination__move pagination__prev\"\r\n            }\r\n            onClick={() => this.setCurrentPage(--this.state.currentPage)}\r\n          >\r\n            <Right className=\"right__arrow\" />{\" \"}\r\n          </div>\r\n          <input\r\n            type=\"text\"\r\n            className=\"pagination__indicator\"\r\n            value={this.state.currentPage || 1}\r\n            onChange={e =>\r\n              this.setCurrentPage(e.target.value.replace(/[^0-9]/g, \"\") || 1)\r\n            }\r\n          />\r\n          <div className=\"pagination__map\">of {this.props.pageCount}</div>\r\n          <div\r\n            className={\r\n              this.state.currentPage >= this.props.pageCount\r\n                ? \"pagination__disabled pagination__next pagination__move\"\r\n                : \"pagination__move pagination__next\"\r\n            }\r\n            onClick={() => {\r\n              this.setCurrentPage(++this.state.currentPage);\r\n            }}\r\n          >\r\n            {\" \"}\r\n            <Right />{\" \"}\r\n          </div>\r\n          <div\r\n            className={\r\n              this.state.currentPage >= this.props.pageCount\r\n                ? \"pagination__disabled pagination__move\"\r\n                : \"pagination__move\"\r\n            }\r\n            onClick={() => this.setCurrentPage(this.props.pageCount)}\r\n          >\r\n            <Right /> <Right />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Pagination;\r\n","import IconsManager from \"../../../editor/src/js/classes/modules/IconsManager\";\r\nimport Resource from \"../../../editor/src/js/classes/Resource\";\r\nimport { isEmpty } from \"lodash\";\r\n\r\nexport function redirect(url) {\r\n  url = url || '/';\r\n  window.location.assign(url);\r\n}\r\nexport function generateId() {\r\n  return '_' + Math.random().toString(36).substr(2, 9);\r\n}\r\n/**\r\n * @return {IconsManager}\r\n* */\r\nexport function iconsManager() {\r\n  if (!window.iconsManager) {\r\n    window.iconsManager = new IconsManager();\r\n  }\r\n  return window.iconsManager;\r\n}\r\n\r\nexport async function logout() {\r\n  let res = await (new Resource({ route: '/logout' })).post();\r\n  redirect(res.location)\r\n}\r\n\r\nexport function pageReload() {\r\n  document.location.reload(true);\r\n}\r\n\r\nconst a = { \"Ё\": \"Yo\", \"Й\": \"I\", \"Ц\": \"Ts\", \"У\": \"U\", \"К\": \"K\", \"Е\": \"E\", \"Н\": \"N\", \"Г\": \"G\", \"Ш\": \"Sh\", \"Щ\": \"Sch\", \"З\": \"Z\", \"Х\": \"H\", \"Ъ\": \"\", \"ё\": \"yo\", \"й\": \"i\", \"ц\": \"ts\", \"у\": \"u\", \"к\": \"k\", \"е\": \"e\", \"н\": \"n\", \"г\": \"g\", \"ш\": \"sh\", \"щ\": \"sch\", \"з\": \"z\", \"х\": \"h\", \"ъ\": \"\", \"Ф\": \"F\", \"Ы\": \"I\", \"В\": \"V\", \"А\": \"a\", \"П\": \"P\", \"Р\": \"R\", \"О\": \"O\", \"Л\": \"L\", \"Д\": \"D\", \"Ж\": \"ZH\", \"Э\": \"E\", \"ф\": \"f\", \"ы\": \"i\", \"в\": \"v\", \"а\": \"a\", \"п\": \"p\", \"р\": \"r\", \"о\": \"o\", \"л\": \"l\", \"д\": \"d\", \"ж\": \"zh\", \"э\": \"e\", \"Я\": \"Ya\", \"Ч\": \"CH\", \"С\": \"S\", \"М\": \"M\", \"И\": \"I\", \"Т\": \"T\", \"Ь\": \"\", \"Б\": \"B\", \"Ю\": \"YU\", \"я\": \"ya\", \"ч\": \"ch\", \"с\": \"s\", \"м\": \"m\", \"и\": \"i\", \"т\": \"t\", \"ь\": \"\", \"б\": \"b\", \"ю\": \"yu\" };\r\n\r\n/**\r\n * Транслитерация\r\n * @param {string}str\r\n * @return {string}\r\n */\r\nexport function transliterate(str) {\r\n  if (!str) {\r\n    return \"\";\r\n  }\r\n  return str.split('').map(function (char) {\r\n    return _.isUndefined(a[char]) ? char : a[char];\r\n  }).join(\"\");\r\n}\r\n\r\n/**\r\n * Парсит строку в name для БД\r\n * @param {string}str\r\n * @return {string}\r\n */\r\nexport function titleToName(str) {\r\n  str = transliterate(str);\r\n  return str.toLowerCase().replace(/^\\d+/, '').replace(/[^\\d\\w]/g, '_');\r\n\r\n}\r\n\r\nexport function titleToPath(str) {\r\n  str = transliterate(str);\r\n  return str.toLowerCase().replace(/^\\d+/, '').replace(/[^\\d\\w]/g, '-');\r\n\r\n}\r\n/** @function objectDeepCleaning\r\n  * Удаляет все свойства id, и чистит settings (пока нет) todo: нужна оптимизация\r\n  * @param {object} collection\r\n  * @return {object} Объект после удаления всех свойств id, и чистки settings\r\n */\r\nexport function objectDeepCleaning(collection) {\r\n  return collection;\r\n  if (typeof collection !== \"object\" || collection === null) return collection;\r\n  if (collection.id) delete collection.id;\r\n\r\n  if (Array.isArray(collection)) {\r\n    for (let index = 0; index < collection.length; index++) {\r\n      const element = collection[index];\r\n      objectDeepCleaning(element);\r\n    }\r\n  } else {\r\n    if (collection.hasOwnProperty(\"settings\")) deleteEmptyPropsDeep(collection.settings);\r\n    if (isEmpty(collection.settings)) delete collection.settings; // удаляем settings, если оно - пустой объект\r\n    for (const key in collection) {\r\n      if (collection.hasOwnProperty(key)) {\r\n        const element = collection[key];\r\n        objectDeepCleaning(element);\r\n      }\r\n    }\r\n  }\r\n  return collection;\r\n}\r\n/** @function deleteEmptyPropsDeep\r\n  * Удаляет в объекте все свойства, значения которых - null, или \"\", или {}\r\n  * @param {object} collection\r\n */\r\nexport function deleteEmptyPropsDeep(collection) {\r\n  const deleteProps = [];\r\n  for (const key in collection) {\r\n    if (collection[key] === null || collection[key] === \"\") {\r\n      deleteProps.push(key);\r\n    }\r\n    deleteProps.forEach(key => delete collection[key]);\r\n\r\n    if (typeof collection[key] === \"object\") {\r\n      deleteEmptyPropsDeep(collection[key]);\r\n      if (isEmpty(collection[key])) delete collection[key];\r\n    }\r\n  }\r\n}\r\n\r\n\r\nexport function buildPagesTree(pages) {\r\n  const level = 0;\r\n  const tree = [];\r\n  const roots = pages.filter(({ parent_page_id }) => parent_page_id === null);\r\n\r\n  if (!roots.length) return pages;\r\n\r\n  roots.forEach(root => {\r\n    tree.push(root);\r\n    treeRecursion(root.id, level + 1);\r\n  });\r\n\r\n  function treeRecursion(parentId, level) {\r\n    const children = pages.filter(({ parent_page_id }) => parent_page_id === parentId);\r\n    children.forEach(page => {\r\n      page.title = \"—\".repeat(level) + page.title;\r\n      tree.push(page);\r\n      treeRecursion(page.id, level + 1);\r\n    });\r\n  }\r\n\r\n  return tree;\r\n}\r\n\r\nexport function filterUsers(users, roleFilter) {\r\n  return users.filter(user => user.roles.some(role => role.id === roleFilter));\r\n}\r\n\r\n\r\nexport function sortUsers(users, sortingField, order) {\r\n  const sortedUsers = users.sort((a, b) => {\r\n    if (a[sortingField] < b[sortingField]) {\r\n      return -1;\r\n    }\r\n    if (a[sortingField] > b[sortingField]) {\r\n      return 1;\r\n    }\r\n    return 0;\r\n  });\r\n\r\n  return order === 'ASC' ? sortedUsers : sortedUsers.reverse();\r\n}","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Resource from \"../../../editor/src/js/classes/Resource\";\r\nimport AdminTable from \"./AdminTable\";\r\nimport Pagination from \"./Pagination\";\r\nimport { buildPagesTree } from \"../js/helpers\";\r\n\r\nexport default class AllPages extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      pages: [],\r\n      currentPage: 1,\r\n      pagesSearch: \"\"\r\n    };\r\n    this.resource = new Resource({ route: \"/admin/ajax/pages\" });\r\n    this.itemsPerPage = 20;\r\n  }\r\n\r\n  getPages = async s => {\r\n    if (typeof s === 'object') {\r\n      s = undefined;\r\n    }\r\n    let res = await this.resource.getQueried({ s });\r\n    this.setState(state => {\r\n      return { ...state, pages: res, pagesSearch: s };\r\n    });\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.getPages();\r\n  }\r\n\r\n  changeSearchHandler = e => {\r\n    this.getPages(e.target.value);\r\n  };\r\n\r\n  render() {\r\n    const { currentPage, pages, pagesSearch } = this.state;\r\n    return (\r\n      <div className=\"admin-pages admin-page\">\r\n        <div className=\"admin-heading\">\r\n          <div className=\"admin-breadcrumbs\">\r\n            <a className=\"admin-breadcrumbs__link\" href=\"#\">\r\n              Pages\r\n            </a>\r\n            <span className=\"admin-breadcrumbs__separator\">/</span>\r\n            <span className=\"admin-breadcrumbs__current\">All Pages</span>\r\n          </div>\r\n          <Link className=\"btn\" to=\"/admin/pages/add\">\r\n            Add New\r\n          </Link>\r\n          <div className=\"admin-filters\">\r\n            <span className=\"admin-filters__current\">\r\n              All ({this.state.pages.length || \"0\"})\r\n            </span>\r\n          </div>\r\n        </div>\r\n        <div className=\"admin-content\">\r\n          <AdminTable\r\n            columns={[\r\n              {\r\n                name: \"title\",\r\n                title: \"Title\",\r\n                editUrl: true,\r\n                tag: \"Link\"\r\n              },\r\n              {\r\n                name: \"author\",\r\n                title: \"Author\"\r\n              },\r\n              {\r\n                name: \"path\",\r\n                title: \"Path\",\r\n                url: true,\r\n                target: \"_blank\"\r\n              }\r\n            ]}\r\n            quickActions={[\r\n              {\r\n                tag: \"button\",\r\n                route: `/admin/ajax/pages/:id`,\r\n                method: \"delete\",\r\n                confirm: \"Are You Sure?\",\r\n                after: this.getPages,\r\n                className: \"quick-action-menu__item_danger\",\r\n                title: \"Trash\"\r\n              }\r\n            ]}\r\n            rows={buildPagesTree(pages).slice(\r\n              currentPage * this.itemsPerPage - this.itemsPerPage,\r\n              currentPage * this.itemsPerPage\r\n            )}\r\n            search={{\r\n              value: pagesSearch || \"\",\r\n              changeHandler: this.changeSearchHandler\r\n            }}\r\n            getPages={this.getPages}\r\n          />\r\n          <Pagination\r\n            pageCount={Math.ceil(pages.length / this.itemsPerPage) || 1}\r\n            currentPage={currentPage}\r\n            changePage={page => {\r\n              if (currentPage !== page) {\r\n                this.setState({ currentPage: page });\r\n              }\r\n            }}\r\n            itemsCount={pages.length}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, {Component} from \"react\";\r\nimport Resource from \"../../../editor/src/js/classes/Resource\";\r\nimport {setAdminDisable, setAdminEnable} from \"../js/store/admin-state/actions\";\r\nimport store from '../js/store/store';\r\nimport {connect} from \"react-redux\";\r\nimport {pageReload} from \"../js/helpers\";\r\n\r\n/**\r\n * Компонент вкладки обновления админки\r\n * @class\r\n */\r\nclass Updates extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      needUpdate: false,\r\n    };\r\n    this.updateAltrp = this.updateAltrp.bind(this);\r\n  }\r\n  async componentDidMount(){\r\n    store.dispatch(setAdminDisable());\r\n    let res = await (new Resource({route:'/admin/ajax/check_update'})).post( {});\r\n    if(res.result){\r\n      this.setNeedUpdate();\r\n    }\r\n    store.dispatch(setAdminEnable());\r\n  }\r\n\r\n  /**\r\n   * Вызывается, если нужно обновление\r\n   */\r\n  setNeedUpdate() {\r\n    this.setState(state => {\r\n      return {...state, needUpdate: true};\r\n    })\r\n  }\r\n\r\n  /**\r\n   * Вызывается, если не нужно обновление\r\n   */\r\n  setDontNeedUpdate() {\r\n    this.setState(state => {\r\n      return {...state, needUpdate: false};\r\n    })\r\n  }\r\n  async installTestAltrp(){\r\n\r\n    store.dispatch(setAdminDisable());\r\n    try{\r\n      let res = await (new Resource({route:'/admin/ajax/install_test_altrp'})).post( {});\r\n      setTimeout(()=>{\r\n            res.result ? pageReload() : this.setNeedUpdate();\r\n          }\r\n          ,1300);\r\n    } catch(error){\r\n      store.dispatch(setAdminEnable());\r\n    }\r\n  }\r\n  /**\r\n   * Отправляет запрос на обноление приложения\r\n   */\r\n  async updateAltrp(){\r\n    store.dispatch(setAdminDisable());\r\n    try{\r\n      let res = await (new Resource({route:'/admin/ajax/update_altrp'})).post( {});\r\n    setTimeout(()=>{\r\n          res.result ? pageReload() : this.setNeedUpdate();\r\n        }\r\n    ,1300);\r\n    } catch(error) {\r\n      store.dispatch(setAdminEnable());\r\n    }\r\n  }\r\n\r\n  render() {\r\n    let data = {\r\n      updateMessage: 'You have the latest version of Altrp.',\r\n    };\r\n    if (this.state.needUpdate) {\r\n      data.updateMessage = 'A fresh version of Altrp is available for updating.';\r\n    }\r\n    const {testEnable} = this.props.adminState;\r\n    return <div className=\"admin-updates p-4\">\r\n      <div className=\"admin-caption mt-1\">\r\n        {data.updateMessage}\r\n      </div>\r\n      {\r\n        this.state.needUpdate ?\r\n          <button className=\"btn_success btn\" onClick={this.updateAltrp}>Update</button>\r\n          :  <button className=\"btn\"  onClick={this.updateAltrp}>Re-install Now</button>}\r\n      {testEnable && <React.Fragment>\r\n\r\n        <div className=\"admin-caption mt-1\">\r\n          Install Test Version of Altrp\r\n        </div>\r\n        <button className=\"btn_success btn\" onClick={this.installTestAltrp}>Install Test</button>\r\n\r\n      </React.Fragment>}\r\n    </div>\r\n\r\n  }\r\n}\r\nfunction mapStateToProps(state) {\r\n  return{adminState: state.adminState}\r\n}\r\nexport default connect(mapStateToProps)(Updates);","import styled, { keyframes} from 'styled-components';\r\n\r\nexport const defaultBaseColor = \"#eee\";\r\n\r\nexport const defaultHighlightColor = \"#f5f5f5\";\r\n\r\nexport const skeletonKeyframes = (duration, delay) => keyframes`\r\n  0% {\r\n    background-position: -200px 0;\r\n  }\r\n  ${\r\n  delay > 0\r\n    ? `${Math.floor((1 / (duration + delay)) * duration * 100)}% {\r\n    background-position: calc(200px + 100%) 0;\r\n  }`\r\n    : undefined\r\n}\r\n  100% {\r\n    background-position: calc(200px + 100%) 0;\r\n  }\r\n`;\r\nconst SkeletonSpan = styled.span`\r\n  animation: ${skeletonKeyframes} 1.2s ease-in-out infinite;\r\n  background-color: ${({color})=>`${color || defaultBaseColor}`};\r\n  background-size: 200px 100%;\r\n  background-repeat: no-repeat;\r\n  background-image: linear-gradient(90deg, ${({highlightColor, color})=>{\r\n    return `${color || defaultBaseColor}, ${highlightColor || defaultHighlightColor}, ${color || defaultBaseColor}`;\r\n  }});\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  height: 100%;\r\n`;\r\nconst Skeleton = (props) => <div className={props.className}><SkeletonSpan {...props} className=\"altrp-skeleton__span\"/></div>\r\nexport default Skeleton;\r\n","import React, {Component} from \"react\";\r\nimport Resource from \"../../../editor/src/js/classes/Resource\";\r\n\r\nclass AutoUpdateInput extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.resource = new Resource({\r\n      route: this.props.route,\r\n    });\r\n\r\n    this.state = {\r\n      value: this.props.value || '',\r\n      disabled: ! this.props.value,\r\n    };\r\n    this.changeValue = this.changeValue.bind(this);\r\n    this.onChange = this.onChange.bind(this);\r\n    this.onKeyDown = this.onKeyDown.bind(this);\r\n  }\r\n\r\n  /**\r\n   * Обновление роута или значения через пропсы\r\n   * @param {{}} prevProps\r\n   * @param {{}} prevState\r\n   */\r\n  componentDidUpdate(prevProps, prevState){\r\n    if(prevProps.route !== this.props.route){\r\n      this.resource = new Resource({\r\n        route: this.props.route,\r\n      });\r\n      console.log(this.resource);\r\n    }\r\n    if(prevProps.value !== this.props.value && this.props.value !== this.state.value){\r\n      // console.log(this.props.value);\r\n      this.setState(state =>({...state, value: this.props.value}));\r\n    }\r\n  }\r\n\r\n  async componentDidMount(){\r\n    if(this.props.value !== undefined || ! this.props.resourceid){\r\n      return;\r\n    }\r\n    let res = await this.resource.get(this.props.resourceid);\r\n    this.setState(state=>{\r\n      return{...state,\r\n        value: res[this.props.resourceid] || '',\r\n        disabled: false,\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * При нажатии на enter тоже обновим данные\r\n   * @param e\r\n   */\r\n  onKeyDown(e){\r\n    if(e.keyCode === 13){\r\n      this.changeValue(e);\r\n    }\r\n  }\r\n\r\n  onChange(e){\r\n    let newValue = e.target.value;\r\n    this.setState(state=>{\r\n      return{...state,\r\n        value: newValue,\r\n      }\r\n    });\r\n    if(_.isFunction(this.props.changevalue)){\r\n      this.props.changevalue(newValue);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Запрос на именение поля\r\n   * @param e\r\n   * @return {Promise<void>}\r\n   */\r\n  async changeValue(e){\r\n    let newValue = e.target.value;\r\n    this.setState(state=>{\r\n      return{...state,\r\n        disabled: true,\r\n      }\r\n    });\r\n    if(_.isFunction(this.props.onBlur)){\r\n      this.props.onBlur(newValue);\r\n    }\r\n    let res = await this.resource.put(this.props.resourceid, {value: newValue, column_value: newValue});\r\n\r\n    this.setState(state=>{\r\n      return{...state,\r\n        disabled: false,\r\n      }\r\n    });\r\n  }\r\n  render(){\r\n    let {className} = this.props;\r\n    if(this.state.disabled){\r\n      className += ' pointer-event-none';\r\n    }\r\n    const inputProps = {...this.props};\r\n    delete inputProps.changevalue;\r\n    return<input{...inputProps} className={className}\r\n                onBlur={this.changeValue}\r\n                onKeyDown={this.onKeyDown}\r\n                onChange={this.onChange}\r\n                value={this.state.value}/>\r\n  }\r\n}\r\n\r\nexport default AutoUpdateInput","import Skeleton from '../../../editor/src/js/components/altrp-image/Skeleton';\r\nimport React, {Component} from \"react\";\r\nimport AutoUpdateInput from \"./AutoUpdateInput\";\r\nimport {iconsManager} from \"../js/helpers\";\r\nimport Resource from \"../../../editor/src/js/classes/Resource\";\r\nimport {SketchPicker} from \"react-color\"\r\n\r\nclass StylesSettings extends Component {\r\n  state = {\r\n    iconFile: null,\r\n    uploaderClasses: \"admin-assets__uploader uploader\",\r\n    itemDeleteClasses: \"item__delete\",\r\n    imageLazyLoading: 'none',\r\n  };\r\n\r\n  async componentDidMount() {\r\n    const imageLazyLoading = (await new Resource({route: '/admin/ajax/settings'}).get('altrp_image_lazy')).altrp_image_lazy;\r\n    const skeletonColor = (await new Resource({route: '/admin/ajax/settings'}).get('altrp_skeleton_color')).altrp_skeleton_color;\r\n    const skeletonHighlightColor = (await new Resource({route: '/admin/ajax/settings'}).get('altrp_skeleton_highlight_color')).altrp_skeleton_highlight_color;\r\n\r\n    this.setState(state => ({\r\n      ...state,\r\n      imageLazyLoading,\r\n      skeletonColor,\r\n      skeletonHighlightColor,\r\n    }));\r\n  }\r\n\r\n  /**\r\n   * Изменить ленивую загрузку\r\n   * @param e\r\n   * @return {Promise<void>}\r\n   */\r\n\r\n  updateImageLazyLoading = async (e) => {\r\n    let value = e.target.value;\r\n    await new Resource({route: '/admin/ajax/settings'}).put('altrp_image_lazy', {value});\r\n    this.setState(state => ({\r\n      ...state,\r\n      imageLazyLoading: value,\r\n    }))\r\n  };\r\n\r\n  onDrop = e => {\r\n    e.persist();\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    this.setState(state => {\r\n      return {\r\n        ...state,\r\n        uploaderClasses: \"admin-assets__uploader uploader\",\r\n        iconFile: e.dataTransfer.files[0]\r\n      };\r\n    });\r\n  };\r\n\r\n  onDragOver = e => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    this.setState(state => {\r\n      return {\r\n        ...state,\r\n        uploaderClasses: \"admin-assets__uploader uploader uploader_drag-over\"\r\n      };\r\n    });\r\n  };\r\n\r\n  onDragLeave = e => {\r\n    this.setState(state => {\r\n      return {...state, uploaderClasses: \"admin-assets__uploader uploader\"};\r\n    });\r\n  };\r\n\r\n  submitHandler = e => {\r\n    e.preventDefault();\r\n    new Resource({route: \"/admin/ajax/favicon\"})\r\n        .postFile(this.state.iconFile)\r\n        .then(() => alert(\"Icon successfully  uploaded.\"));\r\n  };\r\n  /**\r\n   * Меняем цвет мерцания скелетона картинок\r\n   */\r\n  skeletonHighlightColorChange = async (value) => {\r\n    let skeletonHighlightColor = _.isString(value) ? value : `rgba(${value.rgb.r}, ${value.rgb.g}, ${value.rgb.b}, ${value.rgb.a})`;\r\n    await new Resource({route: '/admin/ajax/settings'}).put('altrp_skeleton_highlight_color', {value:skeletonHighlightColor});\r\n    this.setState(state =>({...state, skeletonHighlightColor}));\r\n  };\r\n  /**\r\n   * Меняем основной цвет скелетона картинок\r\n   */\r\n  skeletonColorChange = async (value) => {\r\n    let skeletonColor = _.isString(value) ? value : `rgba(${value.rgb.r}, ${value.rgb.g}, ${value.rgb.b}, ${value.rgb.a})`;\r\n    await new Resource({route: '/admin/ajax/settings'}).put('altrp_skeleton_color', {value:skeletonColor});\r\n    this.setState(state =>({...state, skeletonColor}));\r\n  };\r\n\r\n  render() {\r\n    let UploadIcon = iconsManager().getIconComponent(\"upload\");\r\n    const {\r\n      iconFile,\r\n      imageLazyLoading,\r\n    } = this.state;\r\n    let {\r\n      skeletonColor = '#ccc',\r\n      skeletonHighlightColor = '#d0d0d0',\r\n    } = this.state;\r\n    skeletonColor = skeletonColor || '#ccc';\r\n    skeletonHighlightColor = skeletonHighlightColor || '#d0d0d0';\r\n    return (\r\n        <div className=\"admin-styles-settings\">\r\n          <table>\r\n            <tbody className=\"admin-settings-table-row\">\r\n            <tr className=\"admin-settings-table-row\">\r\n              <td className=\"admin-settings-table__td row-text\" width=\"10%\">\r\n                <label htmlFor=\"settings-container-width\">\r\n                  Container Width:\r\n                </label>\r\n              </td>\r\n              <td className=\"admin-settings-table__td\">\r\n                <AutoUpdateInput\r\n                    type=\"number\"\r\n                    route=\"/admin/ajax/settings\"\r\n                    resourceid=\"container_width\"\r\n                    id=\"settings-container-width\"\r\n                    className=\"form__input w-25\"\r\n                />\r\n              </td>\r\n            </tr>\r\n\r\n            <tr className=\"admin-settings-table-row\">\r\n              <td className=\"admin-settings-table__td row-text\" width=\"10%\">\r\n                Image Lazy Loading:\r\n              </td>\r\n              <td className=\"admin-settings-table__td\">\r\n                <div className=\"form-group w-25\">\r\n                  <select className=\"form-control\" value={imageLazyLoading} onChange={this.updateImageLazyLoading}>\r\n                    <option value=\"none\">None</option>\r\n                    <option value=\"color\">Color</option>\r\n                    <option value=\"skeleton\">Skeleton</option>\r\n                  </select></div>\r\n              </td>\r\n            </tr>\r\n            {imageLazyLoading === 'skeleton' &&\r\n            <tr className=\"admin-settings-table-row\">\r\n              <td className=\"admin-settings-table__td row-text\" width=\"10%\">\r\n                Skeleton Colors:\r\n              </td>\r\n              <td className=\"admin-settings-table__td admin-skeleton-settings\">\r\n                <div className=\"row\">\r\n                  <div className=\"control-color-colorPicker pr-5\">\r\n                    <SketchPicker presetColors={[]}\r\n                                  color={skeletonColor}\r\n                                  onChange={this.skeletonColorChange}\r\n                                  style={{\r\n                                    padding: 0,\r\n                                    boxShadow: 'none',\r\n                                  }}\r\n                                  name=\"colorPicker\"\r\n                                  className=\"sketchPicker\">\r\n                    </SketchPicker>\r\n                  </div>\r\n                  <div className=\"control-color-colorPicker pr-5\">\r\n                    <SketchPicker presetColors={[]}\r\n                                  color={skeletonHighlightColor}\r\n                                  onChange={this.skeletonHighlightColorChange}\r\n                                  style={{\r\n                                    padding: 0,\r\n                                    boxShadow: 'none',\r\n                                  }}\r\n                                  name=\"colorPicker\"\r\n                                  className=\"sketchPicker\">\r\n                    </SketchPicker>\r\n                  </div>\r\n                  <div className=\"admin-skeleton pr-5 position-relative\">\r\n                      <Skeleton className=\"altrp-skeleton\"\r\n                                color={skeletonColor}\r\n                                highlightColor={skeletonHighlightColor}/>\r\n                  </div>\r\n                  <button className=\"admin-media-input__button btn btn_success align-self-end\" onClick={async()=>{\r\n                    await this.skeletonHighlightColorChange('#d0d0d0');\r\n                    await this.skeletonColorChange('#ccc');\r\n                  }}>\r\n                    Reset Colors\r\n                  </button>\r\n                </div>\r\n              </td>\r\n            </tr>}\r\n            </tbody>\r\n          </table>\r\n          <form onSubmit={this.submitHandler}>\r\n            <legend>Add Favicon:</legend>\r\n            <div\r\n                className={this.state.uploaderClasses}\r\n                onDragLeave={this.onDragLeave}\r\n                onDrop={this.onDrop}\r\n                onDragOver={this.onDragOver}\r\n            >\r\n              <label className=\"uploader__label d-flex flex-column align-items-center\">\r\n                <UploadIcon width={100} height={100} className=\"icon\"/>\r\n                <input\r\n                    type=\"file\"\r\n                    accept=\"image/*\"\r\n                    onChange={e => this.setState({iconFile: e.target.files[0]})}\r\n                    className=\"uploader__input\"\r\n                />\r\n                <span className=\"uploader__text text text_bold\">\r\n                Drag or Choose File\r\n              </span>\r\n              </label>\r\n            </div>\r\n            {iconFile && (\r\n                <div className=\"centred mt-2\">\r\n                  <button\r\n                      className=\"admin-settings-button btn btn-sm\"\r\n                      type=\"submit\"\r\n                  >\r\n                    Upload icon\r\n                  </button>\r\n                </div>\r\n            )}\r\n          </form>\r\n          {/* <table>\r\n          <tbody className=\"admin-settings-table-row\">\r\n            <tr className=\"admin-settings-table-row\">\r\n              <td\r\n                className=\"admin-settings-table__td row-text pb-0\"\r\n                width=\"10%\"\r\n              >\r\n                <label htmlFor=\"settings-container-width\">\r\n                  Color Scheme Pallet\r\n                </label>\r\n              </td>\r\n            </tr>\r\n            <tr className=\"admin-settings-table-row\">\r\n              <td className=\"admin-settings-table__td row-text\" width=\"10%\">\r\n                <ColorSchemeSettings />\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table> */}\r\n        </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default StylesSettings;\r\n","import Resource from \"../../../../editor/src/js/classes/Resource\";\r\n\r\nclass Import extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.inputFile = React.createRef();\r\n    this.inputCustomFile = React.createRef();\r\n    this.resource = new Resource({route:'/admin/ajax/import/settings'});\r\n    this.custom_resource = new Resource({route:'/admin/ajax/import/custom_settings'});\r\n  }\r\n\r\n  /**\r\n   * Отправка формы\r\n   */\r\n  onSubmit  = async e => {\r\n    e.preventDefault();\r\n    let res = await this.resource.postFiles(this.inputFile.current.files, 'application/zip,application/x-zip,application/x-zip-compressed');\r\n    if( res.success ){\r\n      await alert('Success');\r\n      window.location.href = '/admin/dashboard';\r\n    } else {\r\n      alert('Error ' + res.message)\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Отправка формы\r\n   */\r\n  onCustomSubmit  = async e => {\r\n    e.preventDefault();\r\n    let res = await this.custom_resource.postFiles(this.inputCustomFile.current.files, 'application/zip,application/x-zip,application/x-zip-compressed');\r\n    if( res.success ){\r\n      await alert('Success');\r\n      window.location.href = '/admin/dashboard';\r\n    } else {\r\n      alert('Error ' + res.message)\r\n    }\r\n  };\r\n  /**\r\n   * Отрисовываем вкладку импорта админки\r\n   */\r\n  render() {\r\n\r\n    return <div><form\r\n                 onSubmit={this.onSubmit}\r\n                 method=\"post\"\r\n                 className=\"admin-updates p-4\">\r\n      <div className=\"admin-caption mt-1\">\r\n        Export All App Settings in Archive\r\n      </div>\r\n      <input type=\"hidden\"\r\n             name=\"_token\"\r\n             value={_token}/>\r\n      <input type=\"file\"\r\n             ref={this.inputFile}\r\n             accept={'.zip,application/zip,application/x-zip,application/x-zip-compressed'}\r\n             name=\"file\"\r\n             required/>\r\n      <button className=\"btn_success btn\">Import ZIP Archive</button>\r\n    </form>\r\n\r\n    <form\r\n      onSubmit={this.onCustomSubmit}\r\n      method=\"post\"\r\n      className=\"admin-updates p-4\">\r\n      <div className=\"admin-caption mt-1\">\r\n        Export All App Settings in Archive\r\n      </div>\r\n      <input type=\"hidden\"\r\n             name=\"_token\"\r\n             value={_token}/>\r\n      <input type=\"file\"\r\n             ref={this.inputCustomFile}\r\n             accept={'.zip,application/zip,application/x-zip,application/x-zip-compressed'}\r\n             name=\"file\"\r\n             required/>\r\n      <button className=\"btn_success btn\">Import ZIP Archive (JSON)</button>\r\n    </form></div>\r\n  }\r\n}\r\n\r\nexport default Import\r\n","\r\n/*import React, { useEffect, useState, useRef, useCallback } from \"react\"\r\nimport styled from 'styled-components'\r\nimport { useTable, useRowSelect } from 'react-table'\r\n\r\n//import makeData from './makeData'\r\n\r\nconst Styles = styled.div`\r\n  padding: 1rem;\r\n\r\n  table {\r\n    border-spacing: 0;\r\n    border: 1px solid black;\r\n\r\n    tr {\r\n      :last-child {\r\n        td {\r\n          border-bottom: 0;\r\n        }\r\n      }\r\n    }\r\n\r\n    th,\r\n    td {\r\n      margin: 0;\r\n      padding: 0.5rem;\r\n      border-bottom: 1px solid black;\r\n      border-right: 1px solid black;\r\n\r\n      :last-child {\r\n        border-right: 0;\r\n      }\r\n    }\r\n  }\r\n`\r\n\r\n\r\n\r\nconst IndeterminateCheckbox = React.forwardRef(\r\n  ({ indeterminate, ...rest }, ref) => {\r\n    const defaultRef = React.useRef()\r\n    const resolvedRef = ref || defaultRef\r\n\r\n    React.useEffect(() => {\r\n      resolvedRef.current.indeterminate = indeterminate\r\n    }, [resolvedRef, indeterminate])\r\n\r\n    return (\r\n      <>\r\n        <input type=\"checkbox\" ref={resolvedRef} {...rest} />\r\n      </>\r\n    )\r\n  }\r\n)\r\n\r\nfunction Table({ columns, data }) {\r\n  // Use the state and functions returned from useTable to build your UI\r\n\r\n\r\n  const {\r\n    getTableProps,\r\n    getTableBodyProps,\r\n    headerGroups,\r\n    rows,\r\n    prepareRow,\r\n    selectedFlatRows,\r\n    state: { selectedRowIds },\r\n  } = useTable(\r\n    {\r\n      columns,\r\n      data,\r\n    },\r\n    useRowSelect,\r\n    hooks => {\r\n      hooks.visibleColumns.push(columns => [\r\n        // Let's make a column for selection\r\n        {\r\n          id: 'selection',\r\n          // The header can use the table's getToggleAllRowsSelectedProps method\r\n          // to render a checkbox\r\n          Header: ({ getToggleAllRowsSelectedProps }) => (\r\n            <div>\r\n              <IndeterminateCheckbox {...getToggleAllRowsSelectedProps()} />\r\n            </div>\r\n          ),\r\n          // The cell can use the individual row's getToggleRowSelectedProps method\r\n          // to the render a checkbox\r\n          Cell: ({ row }) => (\r\n            <div>\r\n              <IndeterminateCheckbox {...row.getToggleRowSelectedProps()} />\r\n            </div>\r\n          ),\r\n        },\r\n        ...columns,\r\n      ])\r\n    }\r\n  )\r\n\r\n  // Render the UI for your table\r\n  return (\r\n    <>\r\n      <table {...getTableProps()}>\r\n        <thead>\r\n        {headerGroups.map(headerGroup => (\r\n          <tr {...headerGroup.getHeaderGroupProps()}>\r\n            {headerGroup.headers.map(column => (\r\n              <th {...column.getHeaderProps()}>{column.render('Header')}</th>\r\n            ))}\r\n          </tr>\r\n        ))}\r\n        </thead>\r\n        <tbody {...getTableBodyProps()}>\r\n        {rows.slice(0, 10).map((row, i) => {\r\n          prepareRow(row)\r\n          return (\r\n            <tr {...row.getRowProps()}>\r\n              {row.cells.map(cell => {\r\n                return <td {...cell.getCellProps()}>{cell.render('Cell')}</td>\r\n              })}\r\n            </tr>\r\n          )\r\n        })}\r\n        </tbody>\r\n      </table>\r\n      <p>Selected Rows: {Object.keys(selectedRowIds).length}</p>\r\n      <pre>\r\n        <code>\r\n          {JSON.stringify(\r\n            {\r\n              selectedRowIds: selectedRowIds,\r\n              'selectedFlatRows[].original': selectedFlatRows.map(\r\n                d => d.original\r\n              ),\r\n            },\r\n            null,\r\n            2\r\n          )}\r\n        </code>\r\n      </pre>\r\n    </>\r\n  )\r\n}\r\n\r\nfunction App() {\r\n\r\n  const {exportData, setExportData} = useState([\r\n    {name: 'Pages', value: 'exportPages', uri: '/admin/ajax/pages'},\r\n    //{name: 'Page Roles', value: 'exportPageRoles'},\r\n    //{name: 'Page DataSources', value: 'exportPageDatasources'},\r\n    //{name: 'Page Templates', value:'exportPageTemplates'},\r\n    //{name: 'Templates', value: 'exportTemplates', uri: '/admin/ajax/templates', field: 'templates'},\r\n    //{name: 'Template Settings', value: 'exportTemplateSettings'},\r\n\r\n    //{name: 'Media', value: 'exportMedia', uri: '/admin/ajax/media'},\r\n    //{name: 'Settings', value: 'exportSettings', uri: '/admin/ajax/settings'},\r\n    //{name: 'Diagrams', value: 'exportDiagrams', uri: '/admin/ajax/diagrams'},\r\n    //{name: 'Dashboards', value: 'exportDashboards', uri: '/admin/ajax/dashboards'},\r\n    //{name: 'Reports', value: 'exportReports', uri: '/admin/ajax/reports'},\r\n    //{name: 'Tables', value: 'exportTables', uri: '/admin/ajax/tables'},\r\n    //{name: 'Models', value: 'exportModels', uri: '/admin/ajax/models', field: 'models'},\r\n    //{name: 'Columns', value: 'exportColumns', uri: '/admin/ajax/columns'},\r\n    //{name: 'Accessors', value: 'exportAccessors', uri: '/admin/ajax/accessors'},\r\n    //{name: 'SQL Editors', value: 'exportSQLEditors', uri: '/admin/ajax/sql_editors', field: 'sql_editors'},\r\n    //{name: 'Relationships', value: 'exportRelationships', uri: '/admin/ajax/relationships'},\r\n    //{name: 'Queries', value: 'exportQueries', uri: '/admin/ajax/queries'},\r\n    //{name: 'Roles', value: 'exportRoles', uri: '/admin/ajax/roles'},\r\n    //{name: 'Permission Roles', value: 'exportPermissionRoles', uri: '/admin/ajax/permissionroles'},\r\n    //{name: 'Remote Data', value: 'exportRemoteData', uri: '/admin/ajax/remotedata'},\r\n    //{name: 'Remote DataSources', value: 'exportRemoteDataSources', uri: '/admin/ajax/remotedatasources'},\r\n    //{name: 'Remote DataSources Roles', value: 'exportDataSourcesRoles'},\r\n    //{name: 'Remote DataSources Permissions', value: 'exportDataSourcesPremissions'},\r\n    //{name: 'Validation Fields', value: 'exportValidationFields', uri: '/admin/ajax/validationfields'},\r\n    //{name: 'Validation Rules', value: 'exportValidationRules', uri: '/admin/ajax/validationrules'},\r\n  ]);\r\n\r\n  async function getData(){\r\n    let resource = [];\r\n    let elements = [];\r\n    let open = {};\r\n    for (let item of this.items) {\r\n      if (item.uri) {\r\n        open[item.value] = false;\r\n        elements[item.value] = [];\r\n        resource[item.value] = new Resource({route: item.uri});\r\n        elements[item.value]['name'] = '';\r\n        elements[item.value]['name'] = item.name;\r\n        elements[item.value]['items'] = [];\r\n        elements[item.value]['items'] = await resource[item.value].getAll();\r\n        if (item.value == 'exportMedia') {\r\n          for(let j in elements[item.value]['items']) {\r\n            elements[item.value]['items'][j].title = elements[item.value]['items'][j].filename;\r\n          }\r\n        }\r\n        if (item.field) {\r\n          elements[item.value]['items'] = elements[item.value]['items'][item.field];\r\n        }\r\n      }\r\n    }\r\n    console.log(elements);\r\n    setExportData(elements);\r\n\r\n\r\n  }\r\n\r\n  useEffect(() => {\r\n    getData();\r\n  },[exportData]);\r\n\r\n\r\n  const columns = React.useMemo(\r\n    () => [\r\n      {\r\n        //Header: 'Info',\r\n        columns: [\r\n          {\r\n            Header: 'Name',\r\n            accessor: 'title',\r\n          },\r\n        ],\r\n      }\r\n    ],\r\n    []\r\n  )\r\n\r\n  const data = React.useMemo(() => exportData, [])\r\n\r\n  return (\r\n    <Styles>\r\n      <Table columns={columns} data={data} />\r\n    </Styles>\r\n  )\r\n}\r\n\r\nexport default App\r\n\r\n\r\n\r\n*/\r\nimport React, { Component } from \"react\";\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\n\r\n\r\nclass Export extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.open = {};\r\n    this.listPages = [];\r\n    //this.props = {};\r\n    this.items = [\r\n      {name: 'Pages', value: 'exportPages', uri: '/admin/ajax/pages'},\r\n      //{name: 'Page Roles', value: 'exportPageRoles'},\r\n      //{name: 'Page DataSources', value: 'exportPageDatasources'},\r\n      //{name: 'Page Templates', value:'exportPageTemplates'},\r\n      {name: 'Templates', value: 'exportTemplates', uri: '/admin/ajax/templates', field: 'templates'},\r\n      //{name: 'Template Settings', value: 'exportTemplateSettings'},\r\n\r\n      {name: 'Media', value: 'exportMedia', uri: '/admin/ajax/media'},\r\n      {name: 'Settings', value: 'exportSettings', uri: false},\r\n      {name: 'Diagrams', value: 'exportDiagrams', uri: '/admin/ajax/diagrams'},\r\n      //{name: 'Dashboards', value: 'exportDashboards', uri: '/admin/ajax/dashboards'},\r\n      {name: 'Reports', value: 'exportReports', uri: '/admin/ajax/reports'},\r\n      {name: 'Tables', value: 'exportTables', uri: '/admin/ajax/tables'},\r\n      {name: 'Models', value: 'exportModels', uri: '/admin/ajax/models', field: 'models'},\r\n      //{name: 'Columns', value: 'exportColumns', uri: '/admin/ajax/columns'},\r\n      //{name: 'Accessors', value: 'exportAccessors', uri: '/admin/ajax/accessors'},\r\n      {name: 'SQL Editors', value: 'exportSQLEditors', uri: '/admin/ajax/sql_editors', field: 'sql_editors'},\r\n      //{name: 'Relationships', value: 'exportRelationships', uri: '/admin/ajax/relationships'},\r\n      //{name: 'Queries', value: 'exportQueries', uri: '/admin/ajax/queries'},\r\n      //{name: 'Roles', value: 'exportRoles', uri: '/admin/ajax/roles'},\r\n      //{name: 'Permission Roles', value: 'exportPermissionRoles', uri: '/admin/ajax/permissionroles'},\r\n      //{name: 'Remote Data', value: 'exportRemoteData', uri: '/admin/ajax/remotedata'},\r\n      {name: 'Remote DataSources', value: 'exportRemoteDataSources', uri: '/admin/ajax/ajax/data_sources'},\r\n      //{name: 'Remote DataSources Roles', value: 'exportDataSourcesRoles'},\r\n      //{name: 'Remote DataSources Permissions', value: 'exportDataSourcesPremissions'},\r\n      //{name: 'Validation Fields', value: 'exportValidationFields', uri: '/admin/ajax/validationfields'},\r\n      //{name: 'Validation Rules', value: 'exportValidationRules', uri: '/admin/ajax/validationrules'},\r\n    ];\r\n\r\n    this.state = {\r\n      elements: [],\r\n      open: {},\r\n      props: {},\r\n      value: {},\r\n    };\r\n    this.resourceOut = new Resource({route: '/admin/ajax/downloads/filtered_settings'});\r\n    //this.toggleMainItem = this.toggleMainItem.bind(this);\r\n    this.submitData = this.submitData.bind(this);\r\n  }\r\n\r\n  toggleLine = (name)=>{\r\n    const open = {...this.state.open};\r\n    open[name] = ! open[name];\r\n    this.setState(state => ({...state, open}));\r\n  }\r\n\r\n  async componentDidMount(){\r\n    let resource = [];\r\n    let elements = [];\r\n    let open = {};\r\n    for (let item of this.items) {\r\n      let element = {};\r\n      if (item.uri) {\r\n        open[item.value] = false;\r\n        // elements[item.value] = [];\r\n        if (item.uri)\r\n          resource[item.value] = new Resource({route: item.uri});\r\n        else\r\n          resource[item.value] = [];\r\n            // elements[item.value]['name'] = '';\r\n        // elements[item.value]['name'] = item.name;\r\n        // elements[item.value]['items'] = [];\r\n        // elements[item.value]['items'] = await resource[item.value].getAll();\r\n        element = {\r\n          value: item.value,\r\n          name: item.name || '',\r\n        };\r\n        try{\r\n          element.items = await resource[item.value].getAll();\r\n          if (item.field && element.items[item.field]){\r\n            element.items = element.items[item.field]\r\n          }\r\n        } catch (e) {\r\n          element.items = [];\r\n        }\r\n        if (item.value === 'exportMedia') {\r\n          element.items = element.items.map(i => {\r\n            return {...i, title: i.filename}\r\n          })\r\n        }\r\n\r\n        // if (item.value == 'exportMedia') {\r\n        //   for(let j in elements[item.value]['items']) {\r\n        //     elements[item.value]['items'][j].title = elements[item.value]['items'][j].filename;\r\n        //   }\r\n        // }\r\n        // if (item.field) {\r\n        //   elements[item.value]['items'] = elements[item.value]['items'][item.field];\r\n        // }\r\n      } else {\r\n        element = {\r\n          value: item.value,\r\n          name: item.name || '',\r\n        };\r\n        element.items = [];\r\n        if (item.value == 'exportSettings') {\r\n          element.items = [{id: 'admin_logo', title: 'admin_logo'}, {id: 'container_width', title: 'container_width'}];\r\n        }\r\n      }\r\n      elements.push(element);\r\n    }\r\n\r\n\r\n    let newValue = {};\r\n    elements.forEach(el=>{\r\n      newValue[el.value] = el.items.map(i=>i.id)\r\n    })\r\n    this.setState(state => ({\r\n      ...state,\r\n      elements,\r\n      open,\r\n      value: newValue,\r\n    }));\r\n  }\r\n/*\r\n  toggleMainItem = param => e => {\r\n    let open = {};\r\n    this.open[param] = !this.open[param];\r\n    open[param] = this.open[param];\r\n    this.setState(state => ({\r\n      ...state,\r\n      open\r\n    }));\r\n\r\n  }\r\n*/\r\n  changeMainItem(id, line) {\r\n    console.log(id, line, this);\r\n    let newValue = {...this.state.value};\r\n    const props = {...this.state.props};\r\n    props[line] = ! props[line];\r\n    console.log(props);\r\n    if (props[line]) {\r\n      newValue[line] = [];\r\n    } else {\r\n      newValue[line] = newValue[line];\r\n    }\r\n    this.setState(state =>({...state, props, value: newValue}));\r\n    /*\r\n    if (newValue.length == 0) {\r\n      for(let item of newValue) {\r\n\r\n      }\r\n    }\r\n\r\n     */\r\n  }\r\n\r\n  changeItem(id, line) {\r\n    console.log(id, line);\r\n    let newValue = {...this.state.value};\r\n    if(newValue[line].indexOf(id) === -1){\r\n      newValue[line].push(id);\r\n    } else {\r\n      newValue[line] = newValue[line].filter(item => item !== id);\r\n    }\r\n    console.log(newValue);\r\n    this.setState(state =>({...state, value: newValue}));\r\n  }\r\n\r\n  async submitData() {\r\n    //const data = '?exportPages=' + JSON.stringify([1, 2]) + '&exportTemplates=' + JSON.stringify([13, 15]);\r\n    const data = this.state.value;\r\n    let url = '/admin/ajax/downloads/filtered_settings';\r\n    //let res = await this.resourceOut.post(data);\r\n\r\n    await fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json;charset=utf-8',\r\n        //'Content-Type': 'application/zip',\r\n        'X-CSRF-TOKEN': _token\r\n      },\r\n      body: JSON.stringify(data)\r\n    }).then(resp => resp.blob())\r\n      .then(blob => {\r\n        const url = window.URL.createObjectURL(blob);\r\n        const a = document.createElement('a');\r\n        a.style.display = 'none';\r\n        a.href = url;\r\n        // the filename you want\r\n        a.download = 'altrp.zip';\r\n        document.body.appendChild(a);\r\n        a.click();\r\n        window.URL.revokeObjectURL(url);\r\n        alert('Export File Downloaded!'); // or you know, something with better UX...\r\n      })\r\n      .catch((e) => alert('Error! '+ e.message));\r\n\r\n  }\r\n\r\n\r\n\r\n  render() {\r\n\r\n    const { elements, open } =  this.state;\r\n\r\n    const Style = {\r\n      dt: {\r\n        width: '100%',\r\n        borderBottom: '1px solid #000000',\r\n      },\r\n      dd: {\r\n        width: '100%',\r\n        borderBottom: '1px solid #cccccc',\r\n      }\r\n    };\r\n\r\n    let temp = [];\r\n    let i = 0;\r\n    for(let key in elements) {\r\n      //this.props[key] = true;\r\n      const template = <React.Fragment key={i}>\r\n        <dl >\r\n          <dt style={Style.dt}>\r\n            <input\r\n              type=\"checkbox\"\r\n              className=\"form-check-input mr-1 ml-0 mt-0 position-static\"\r\n              id={key}\r\n              onChange={e=>this.changeMainItem(key, elements[key].value)}\r\n              checked={this.state.value[elements[key].value]?.length === elements[key]?.items?.length}\r\n            />\r\n            <a onClick={()=>{ this.toggleLine(elements[key].name)}}>{elements[key].name}</a>\r\n          </dt>\r\n          {this.state.open[elements[key].name] && elements[key]?.items?.map((item, index) =>\r\n            <dd style={Style.dd}\r\n              className={(open[key] === false) ? \"d-none\" : null}\r\n              key={index}>\r\n              <input\r\n                type=\"checkbox\"\r\n                className=\"form-check-input mr-1 ml-0 mt-0 position-static\"\r\n                onChange={e=>this.changeItem(item.id, elements[key].value)}\r\n                checked={this.state.value[elements[key].value] && this.state.value[elements[key].value].indexOf(item.id) !== -1}/>{item.title}\r\n\r\n            </dd>\r\n          )}\r\n        </dl>\r\n      </React.Fragment>\r\n      temp.push(template);\r\n      i++;\r\n    }\r\n\r\n    return <div className=\"admin-updates p-4\">\r\n      <div className=\"admin-caption mt-1\">\r\n        Export All App Settings in Archive\r\n      </div>\r\n      <div className=\"mt-1\">\r\n        {temp}\r\n      </div>\r\n      <div>\r\n        <button className=\"btn_success btn\" onClick={this.submitData}>Download Filtered ZIP Archive (JSON)</button>\r\n      </div>\r\n      <div className=\"mt-1\">\r\n        <a className=\"btn_success btn\"\r\n           href=\"/admin/ajax/downloads/settings\"\r\n        >Download ZIP Archive (JSON)</a>\r\n        <a className=\"btn_success btn ml-3\"\r\n           href=\"/admin/ajax/downloads/stream_settings\"\r\n\r\n        >Download ZIP Archive (JSON Stream)</a>\r\n\r\n      </div>\r\n    </div>\r\n  }\r\n}\r\n\r\nexport default Export\r\n\r\n","import Resource from \"../../../../../editor/src/js/classes/Resource\";\r\nimport store from \"../../../js/store/store\";\r\nimport AutoUpdateInput from \"../../AutoUpdateInput\";\r\nimport {setWebsocketsEnabled} from \"../../../js/store/websockets-storage/actions\";\r\n\r\nclass Websockets extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.toggle = this.toggle.bind(this);\r\n  }\r\n\r\n  // Изменение положения переключателя\r\n  toggle() {\r\n    let checked = store.getState().websocketStore?.enabled ? 0 : 1 ;\r\n    this.submitHandler(checked);\r\n  }\r\n\r\n  // Отправка на сервер положения переключателя и запись в store\r\n  submitHandler = async checked => {\r\n    const resource = new Resource({ route: `/admin/ajax/websockets` });\r\n    let res = await resource.getQueried({enabled:checked});\r\n    if(res.success){\r\n      alert(res.message || 'success');\r\n    }\r\n    store.dispatch(setWebsocketsEnabled(checked));\r\n  };\r\n\r\n  async onReset() {\r\n    const resource = new Resource({ route: `/admin/ajax/websockets` });\r\n    let res = await resource.getQueried({reset:true});\r\n    if(res.success){\r\n      alert(res.message || 'success');\r\n      store.dispatch(setWebsocketsEnabled(false));\r\n      window.location.reload();  \r\n    }\r\n  };\r\n\r\n  render() {\r\n    let value = store.getState().websocketStore?.enabled ?? false;\r\n    let switcherClasses = `control-switcher control-switcher_${value ? 'on' : 'off'}`;\r\n    return <div className=\"admin_settings_websockets\">\r\n      <div className=\"admin_settings_websockets_box\">\r\n        <div className=\"admin_switcher\">\r\n          <div className=\"admin_switcher__label\">\r\n          Websocket Server\r\n          </div>\r\n          <div className={switcherClasses} onClick={this.toggle}>\r\n            <div className=\"control-switcher__on-text\">ON</div>\r\n            <div className=\"control-switcher__caret\" />\r\n            <div className=\"control-switcher__off-text\">OFF</div>\r\n          </div>\r\n        </div>\r\n        <div className=\"admin_input__label\" width=\"10%\">\r\n              <label htmlFor=\"websockets-port\">\r\n                Port:\r\n              </label>\r\n        </div>\r\n        <div className=\"admin_input\">\r\n        <AutoUpdateInput type=\"number\"\r\n            route=\"/admin/ajax/settings\"\r\n            resourceid=\"websockets_port\"\r\n            id=\"websockets-port\"\r\n            className=\"admin_input_port\" />\r\n        </div>\r\n        <div className=\"admin_input__label\" width=\"10%\">\r\n              <label htmlFor=\"websockets-key\">\r\n                Key:\r\n              </label>\r\n        </div>\r\n        <div className=\"admin_input\">\r\n          <AutoUpdateInput type=\"number\"\r\n            route=\"/admin/ajax/settings\"\r\n            resourceid=\"pusher_app_key\"\r\n            id=\"websockets-key\"\r\n            className=\"admin_input_key\" />\r\n        </div>\r\n\r\n        <div className=\"admin_input__label\" width=\"10%\">\r\n              <label htmlFor=\"websockets-key\">\r\n                Host:\r\n              </label>\r\n        </div>\r\n        <div className=\"admin_input\">\r\n          <AutoUpdateInput type=\"text\"\r\n            route=\"/admin/ajax/settings\"\r\n            resourceid=\"pusher_host\"\r\n            id=\"websockets-host\"\r\n            className=\"admin_input_host\" />\r\n        </div>\r\n\r\n        <div>\r\n          <button className=\"btn btn_save\" onClick={() => this.onReset()}>\r\n            Reset\r\n          </button>          \r\n        </div>\r\n      </div>\r\n    </div>\r\n  }\r\n}\r\n\r\nexport default Websockets","import Resource from \"../../../../../editor/src/js/classes/Resource\";\r\nimport store from \"../../../js/store/store\";\r\nimport AutoUpdateInput from \"../../AutoUpdateInput\";\r\n\r\nclass Telegram extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.toggle = this.toggle.bind(this);\r\n  }\r\n\r\n  // Изменение положения переключателя\r\n  // ComponentDidM() {\r\n  //   let websocketsPort = await new Resource({ route: \"/admin/ajax/settings\" }).get(\"websockets_port\");\r\n  // }\r\n\r\n  // Изменение положения переключателя\r\n  toggle() {\r\n    let checked = store.getState().websocketStore?.enabled ? 0 : 1 ;\r\n    this.submitHandler(checked);\r\n  }\r\n\r\n  // Отправка на сервер положения переключателя и запись в store\r\n  submitHandler = async checked => {\r\n    const resource = new Resource({ route: `/admin/ajax/websockets` });\r\n    let res = await resource.getQueried({enabled:checked});\r\n    if(res.success){\r\n      alert(res.message || 'success');\r\n    }\r\n    store.dispatch(setWebsocketsEnabled(checked));\r\n  };\r\n\r\n  async onReset() {\r\n    const resource = new Resource({ route: `/admin/ajax/websockets` });\r\n    let res = await resource.getQueried({reset:true});\r\n    if(res.success){\r\n      alert(res.message || 'success');\r\n      store.dispatch(setWebsocketsEnabled(false));\r\n      window.location.reload();  \r\n    }\r\n  };\r\n\r\n  render() {\r\n    return <div className=\"admin_settings_telegram\">\r\n        <div className=\"admin_input__label\" width=\"10%\">\r\n              <label htmlFor=\"telegram_bot_token\">\r\n                Telegram bot key:\r\n              </label>\r\n        </div>\r\n        <div className=\"admin_input\">\r\n          <AutoUpdateInput type=\"text\"\r\n            route=\"/admin/ajax/settings\"\r\n            resourceid=\"telegram_bot_token\"\r\n            id=\"telegram_bot_token\"\r\n            className=\"admin_input_key\" />\r\n        </div>\r\n        <div>\r\n        </div>\r\n    </div>\r\n  }\r\n}\r\n\r\nexport default Telegram","import { Tab, TabList, TabPanel, Tabs } from \"react-tabs\";\r\nimport \"react-tabs/style/react-tabs.scss\";\r\nimport Updates from \"./Updates\";\r\nimport StylesSettings from \"./StylesSettings\";\r\nimport Import from \"./settings/Import\";\r\nimport Export from \"./settings/Export\";\r\nimport Websockets from \"./settings/integrations/Websockets\";\r\nimport Telegram from \"./settings/integrations/Telegram\";\r\nimport Resource from \"../../../editor/src/js/classes/Resource\";\r\nconst AdvancedSettings = React.lazy(() => import(\"./AdvancedSettings\"));\r\nconst MailForm = React.lazy(() => import(\"./settings/MailForm\"));\r\n\r\nexport default class AdminSettings extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.switchTab = this.switchTab.bind(this);\r\n    this.state = {\r\n      SSREnabled: false,\r\n      SSRPort: \"\",\r\n      SSRAlias: \"\",\r\n      SSRConf: false,\r\n      activeTab: parseInt(window.location.hash[1]) || 0\r\n    };\r\n  }\r\n\r\n  toggleSSREnabled = async e => {\r\n    let value = e.target.checked;\r\n    await new Resource({\r\n      route: \"/admin/ajax/settings\"\r\n    }).put(\"altrp_ssr_disabled\", { value });\r\n    this.setState(state => ({\r\n      ...state,\r\n      SSREnabled: value\r\n    }));\r\n  };\r\n  setSSRPort = async e => {\r\n    let value = e.target.value;\r\n    new Resource({ route: \"/admin/ajax/settings\" }).put(\"ssr_port\", { value });\r\n    this.setState(state => ({\r\n      ...state,\r\n      SSRPort: value\r\n    }));\r\n  };\r\n\r\n  setSSRPort = async e => {\r\n    let value = e.target.value;\r\n    new Resource({ route: \"/admin/ajax/settings\" }).put(\"ssr_port\", { value });\r\n    this.setState(state => ({\r\n      ...state,\r\n      SSRPort: value\r\n    }));\r\n  };\r\n\r\n  setSSRSettingsAlias = async e => {\r\n    let value = e.target.value;\r\n    new Resource({ route: \"/admin/ajax/settings\" }).put(\"ssr_settings_alias\", {\r\n      value\r\n    });\r\n    this.setState(state => ({\r\n      ...state,\r\n      SSRAlias: value\r\n    }));\r\n  };\r\n\r\n  generateConfig = async e => {\r\n    new Resource({ route: \"/admin/ajax/ssr/make\" }).post().then(\r\n      success => {\r\n        alert(success.message);\r\n      },\r\n      error => {\r\n        alert(error);\r\n      }\r\n    );\r\n  };\r\n  restartSSR = async e => {\r\n    new Resource({ route: \"/admin/ajax/ssr/restart\" }).post().then(\r\n      success => {\r\n        alert(success.message);\r\n      },\r\n      error => {\r\n        alert(error);\r\n      }\r\n    );\r\n  };\r\n\r\n  clearProjectCache = async e => {\r\n    new Resource({ route: \"/admin/ajax/cache/clear\" }).post().then(\r\n      success => {\r\n        alert(success.message);\r\n      },\r\n      error => {\r\n        alert(error);\r\n      }\r\n    );\r\n  };\r\n\r\n  async componentDidMount() {\r\n    let SSREnabled = !!(\r\n      await new Resource({ route: \"/admin/ajax/settings\" }).get(\r\n        \"altrp_ssr_disabled\"\r\n      )\r\n    ).altrp_ssr_disabled;\r\n    let SSRPort = (\r\n      await new Resource({ route: \"/admin/ajax/settings\" }).get(\"ssr_port\")\r\n    ).ssr_port;\r\n    let SSRAlias = (\r\n      await new Resource({ route: \"/admin/ajax/settings\" }).get(\r\n        \"ssr_settings_alias\"\r\n      )\r\n    ).ssr_settings_alias;\r\n    let SSRConf = (\r\n      await new Resource({ route: \"/admin/ajax/ssr/check\" }).get(\"\")\r\n    ).file;\r\n    console.log(SSRConf);\r\n    this.setState(state => ({\r\n      ...state,\r\n      SSREnabled,\r\n      SSRPort,\r\n      SSRAlias,\r\n      SSRConf\r\n    }));\r\n  }\r\n  switchTab(activeTab) {\r\n    window.location.hash = activeTab + \"\";\r\n    this.setState(state => {\r\n      return { ...state, activeTab };\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { SSRPort, SSRAlias, SSRConf } = this.state;\r\n    return (\r\n      <div className=\"admin-settings admin-page\">\r\n        <div className=\"admin-heading\">\r\n          <div className=\"admin-breadcrumbs\">\r\n            <a className=\"admin-breadcrumbs__link\" href=\"#\">\r\n              Settings\r\n            </a>\r\n            <span className=\"admin-breadcrumbs__separator\">/</span>\r\n            <span className=\"admin-breadcrumbs__current\">Builder</span>\r\n          </div>\r\n        </div>\r\n        <div className=\"admin-content\">\r\n          <Tabs selectedIndex={this.state.activeTab} onSelect={this.switchTab}>\r\n            <TabList className=\"nav nav-pills admin-pills\">\r\n              <Tab>GENERAL</Tab>\r\n              <Tab>STYLE</Tab>\r\n              <Tab>INTEGRATIONS</Tab>\r\n              <Tab>ADVANCED</Tab>\r\n              <Tab>UPDATES</Tab>\r\n              <Tab>EXPORT</Tab>\r\n              <Tab>IMPORT</Tab>\r\n              <Tab>MAIL</Tab>\r\n            </TabList>\r\n            <TabPanel>\r\n              <table>\r\n                <tbody className=\"admin-table-body\">\r\n                  <tr className=\"admin-settings-table-row\">\r\n                    <td className=\"admin-settings-table__td row-text\">SSR</td>\r\n                    <td className=\"admin-settings-table__td \">\r\n                      <input\r\n                        className=\"admin-table__td_check\"\r\n                        checked={this.state.SSREnabled}\r\n                        onChange={this.toggleSSREnabled}\r\n                        type=\"checkbox\"\r\n                      />\r\n                      Hide Server Side Content\r\n                    </td>\r\n                  </tr>\r\n                  <tr className=\"admin-settings-table-row\">\r\n                    <td className=\"admin-settings-table__td row-text\">\r\n                      SSR Port\r\n                    </td>\r\n                    <td className=\"admin-settings-table__td \">\r\n                      <input\r\n                        className=\"admin-table__td_check\"\r\n                        type=\"text\"\r\n                        placeholder=\"9000\"\r\n                        value={SSRPort}\r\n                        onChange={this.setSSRPort}\r\n                      />\r\n                    </td>\r\n                  </tr>\r\n                  <tr className=\"admin-settings-table-row\">\r\n                    <td className=\"admin-settings-table__td row-text\">\r\n                      SSR Settings Alias\r\n                    </td>\r\n                    <td className=\"admin-settings-table__td \">\r\n                      <input\r\n                        className=\"admin-table__td_check\"\r\n                        type=\"text\"\r\n                        placeholder=\"For ex. yourproject..\"\r\n                        value={SSRAlias}\r\n                        onChange={this.setSSRSettingsAlias}\r\n                      />\r\n                    </td>\r\n                  </tr>\r\n                  {SSRAlias?.length > 0 && (\r\n                    <tr className=\"admin-settings-table-row\">\r\n                      <td className=\"admin-settings-table__td row-text\">\r\n                        Make SSR conf\r\n                      </td>\r\n                      <td className=\"admin-settings-table__td \">\r\n                        <button\r\n                          className=\"btn btn_success\"\r\n                          onClick={this.generateConfig}\r\n                        >\r\n                          Generate\r\n                        </button>\r\n                      </td>\r\n                    </tr>\r\n                  )}\r\n                  {SSRConf && (\r\n                    <tr className=\"admin-settings-table-row\">\r\n                      <td className=\"admin-settings-table__td row-text\">\r\n                        Restart SSR\r\n                      </td>\r\n                      <td className=\"admin-settings-table__td \">\r\n                        <button\r\n                          className=\"btn btn_success\"\r\n                          onClick={this.restartSSR}\r\n                        >\r\n                          Restart\r\n                        </button>\r\n                      </td>\r\n                    </tr>\r\n                  )}\r\n\r\n                  <tr className=\"admin-settings-table-row\">\r\n                    <td className=\"admin-settings-table__td row-text\">\r\n                      Clear project cache\r\n                    </td>\r\n                    <td className=\"admin-settings-table__td \">\r\n                      <button\r\n                        className=\"btn btn_success\"\r\n                        onClick={this.clearProjectCache}\r\n                      >\r\n                        Clear\r\n                      </button>\r\n                    </td>\r\n                  </tr>\r\n                  <tr className=\"admin-settings-table-row\">\r\n                    <td className=\"admin-settings-table__td row-text\">\r\n                      Disable Default Fonts\r\n                    </td>\r\n                    <td className=\"admin-settings-table__td \">\r\n                      <input\r\n                        className=\"admin-table__td_check\"\r\n                        type=\"checkbox\"\r\n                      />\r\n                      Checking this box will disable Builder’s Default Fonts,\r\n                      and make Builder inherit the fonts from your CSS file\r\n                    </td>\r\n                  </tr>\r\n                  <tr className=\"admin-settings-table-row\">\r\n                    <td className=\"admin-settings-table__td header-text\">\r\n                      Improve builder\r\n                    </td>\r\n                  </tr>\r\n                  <tr className=\"admin-settings-table-row\">\r\n                    <td className=\"admin-settings-table__td row-text\">\r\n                      Usage Data Sharing\r\n                    </td>\r\n                    <td className=\"admin-settings-table__td \">\r\n                      <input\r\n                        className=\"admin-table__td_check\"\r\n                        type=\"checkbox\"\r\n                      />\r\n                      Become a super contributor by opting in to share\r\n                      non-sensitive plugin data and to get our updates. Learn\r\n                      more\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </TabPanel>\r\n            <TabPanel>\r\n              <StylesSettings />\r\n            </TabPanel>\r\n            <TabPanel>\r\n              <Websockets />\r\n              <Telegram />\r\n            </TabPanel>\r\n            <TabPanel>\r\n              <React.Suspense fallback={\"Loading\"}>\r\n                <AdvancedSettings />\r\n              </React.Suspense>\r\n            </TabPanel>\r\n            <TabPanel>\r\n              <Updates attr={\"attr\"} />\r\n            </TabPanel>\r\n            <TabPanel>\r\n              <Export />\r\n            </TabPanel>\r\n            <TabPanel>\r\n              <Import />\r\n            </TabPanel>\r\n            <TabPanel>\r\n              <React.Suspense fallback={\"Loading\"}>\r\n                <MailForm />\r\n              </React.Suspense>\r\n            </TabPanel>\r\n          </Tabs>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\nexport default (({\n  styles = {},\n  ...props\n}) => <svg width=\"31\" height=\"31\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" {...props}><path d=\"M11.124 24.386l-4.415 2.492c-.26.146-.492.325-.709.521C8.574 29.645 11.897 31 15.528 31c3.603 0 6.905-1.335 9.472-3.55a3.911 3.911 0 00-.778-.54l-4.728-2.445a1.873 1.873 0 01-.997-1.67v-1.919a7.36 7.36 0 00.447-.595 11.42 11.42 0 001.47-3.064 1.53 1.53 0 001.053-1.462v-2.049c0-.45-.194-.853-.495-1.135V9.609S21.56 5 15.528 5s-5.444 4.609-5.444 4.609v2.962a1.55 1.55 0 00-.495 1.135v2.049c0 .54.274 1.015.685 1.289.495 2.229 1.79 3.832 1.79 3.832v1.873c0 .681-.361 1.31-.94 1.637z\" fill=\"#F7F8F9\" /><path d=\"M15.765.002C7.207-.144.15 6.676.002 15.236c-.083 4.853 2.08 9.215 5.524 12.115.226-.196.467-.377.736-.523l4.625-2.523a1.89 1.89 0 00.984-1.658v-1.895s-1.357-1.624-1.875-3.88a1.555 1.555 0 01-.717-1.305v-2.074c0-.456.203-.864.518-1.15V9.346S9.18 4.68 15.5 4.68s5.703 4.666 5.703 4.666v2.999c.316.285.518.693.518 1.15v2.073c0 .698-.468 1.284-1.103 1.48a11.397 11.397 0 01-1.54 3.103c-.17.24-.329.444-.468.602v1.943c0 .715.404 1.37 1.044 1.69l4.953 2.475c.297.149.565.337.813.546a15.46 15.46 0 005.578-11.64C31.145 7.205 24.325.148 15.765.002z\" fill=\"#8E94AA\" /></svg>);","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport PluginSvg from \"../../svgs/plugins.svg\";\r\nimport VectorSvg from '../../svgs/vector.svg';\r\nimport UserSvg from '../../svgs/user.svg';\r\nimport { Link } from \"react-router-dom\";\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\nimport Pagination from \"../Pagination\";\r\nimport { filterUsers, sortUsers } from \"../../js/helpers\";\r\n\r\nclass Users extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      data: [],\r\n      roleFilter: null,\r\n      search: \"\",\r\n      currentPage: 1,\r\n      roles: [],\r\n      sorting: { sortingField: null, order: 'ASC' }\r\n    };\r\n\r\n    this.resource = new Resource({ route: '/admin/ajax/users' });\r\n    this.itemsPerPage = 10;\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getUsers();\r\n    new Resource({ route: '/admin/ajax/role_options' }).getAll()\r\n      .then(roles => this.setState({ roles }));\r\n  }\r\n\r\n  getUsers = async () => {\r\n    let users_result = await this.resource.getQueried({ s: this.state.search });\r\n    this.setState(state => {\r\n      return { ...state, data: users_result };\r\n    });\r\n  }\r\n\r\n  getUsersEmail = async () => {\r\n    let users_result = await this.resource.getAuthorList();\r\n    let users_result_email = [];\r\n    for (let i = 0; i < users_result.length; i++) {\r\n      if (users_result[i].email.includes(this.state.search)) {\r\n        users_result_email.push(users_result[i])\r\n      }\r\n    }\r\n    this.setState(state => {\r\n      return { ...state, data: users_result_email };\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { currentPage, data, search, roles, roleFilter } = this.state;\r\n    const { sortingField, order } = this.state.sorting;\r\n    const users = roleFilter ? filterUsers(data, roleFilter) : data;\r\n\r\n    return <div className=\"admin-users\">\r\n      <div className=\"wrapper\">\r\n        <div className=\"admin-heading-users\">\r\n          <div className=\"admin-breadcrumbs\">\r\n            <a className=\"admin-breadcrumbs__link\" href=\"#\">Users</a>\r\n            <span className=\"admin-breadcrumbs__separator\">/</span>\r\n            <span className=\"admin-breadcrumbs__current\">All Users</span>\r\n          </div>\r\n\r\n          <Link className=\"btn\" to={\"/admin/users/new/\"}>Add New</Link>\r\n\r\n          <div className=\"admin-filters\">\r\n            <span className=\"admin-filters__current\" onClick={() => this.setState({ roleFilter: null })}>\r\n              <a className=\"admin-filters__link\">All ({data.length})</a>\r\n            </span>\r\n            {roles.map(role => {\r\n              const itemsCount = filterUsers(data, role.value).length;\r\n\r\n              return itemsCount ? <React.Fragment key={role.value}>\r\n                <span className=\"admin-filters__separator\">|</span>\r\n                <a className=\"admin-filters__link\" onClick={() => this.setState({ roleFilter: role.value })}>\r\n                  {role.label} ({itemsCount})\r\n                </a>\r\n              </React.Fragment> : null\r\n            })}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"admin-panel\">\r\n          <form className=\"admin-users-form form-bulk-left\">\r\n            <select className=\"form-control input-sm\">\r\n              <option value=\"1\">Bulk Actions</option>\r\n            </select>\r\n            <button className=\"btn btn_bare admin-users-button\">Apply</button>\r\n          </form>\r\n\r\n          <form className=\"admin-users-form form-bulk-right\" >\r\n            <select className=\"form-control input\">\r\n              <option value=\"1\">Change role on...</option>\r\n            </select>\r\n            <button className=\"btn btn_bare admin-users-button\">Change</button>\r\n          </form>\r\n\r\n          <form className=\"admin-users-form form-bulk-search\" >\r\n            <input className=\"form-control input-sm\" value={search} onChange={e => this.setState({ search: e.target.value })} />\r\n            <button type=\"button\" onClick={this.getUsers} className=\"btn btn_bare admin-users-button\">Search Users</button>\r\n            <button type=\"button\" onClick={this.getUsersEmail} className=\"btn btn_bare admin-users-button\">Search Email</button>\r\n          </form>\r\n        </div>\r\n\r\n        <div className=\"admin-users-table\">\r\n          <table className=\"table\">\r\n            <thead className=\"admin-users-table-head\">\r\n              <tr className=\"admin-table-row\">\r\n                <td className=\"admin-table__td admin-table__td_check\"\r\n                  onClick={() => this.setState({ sorting: { sortingField: 'name', order: order === 'ASC' ? 'DESC' : 'ASC' } })}\r\n                >\r\n                  <input className=\"input-users\" type=\"checkbox\" />\r\n                  Username\r\n                  <VectorSvg className={`vector-svg ${order === 'DESC' ? 'role-svg' : ''} ${sortingField === 'name' ? 'vector-svg--active' : ''}`} />\r\n                </td>\r\n                <td className=\"admin-table__td \"\r\n                  onClick={() => this.setState({ sorting: { sortingField: 'full_name', order: order === 'ASC' ? 'DESC' : 'ASC' } })}\r\n                >\r\n                  Name\r\n                  <VectorSvg className={`vector-svg ${order === 'DESC' ? 'role-svg' : ''} ${sortingField === 'full_name' ? 'vector-svg--active' : ''}`} />\r\n                </td>\r\n                <td className=\"admin-table__td \"\r\n                  onClick={() => this.setState({ sorting: { sortingField: 'email', order: order === 'ASC' ? 'DESC' : 'ASC' } })}\r\n                >\r\n                  Email\r\n                  <VectorSvg className={`vector-svg ${order === 'DESC' ? 'role-svg' : ''} ${sortingField === 'email' ? 'vector-svg--active' : ''}`} />\r\n                </td>\r\n                <td className=\"admin-table__td \">Role</td>\r\n                <td className=\"admin-table__td \">Post</td>\r\n                <td className=\"admin-table__td \"\r\n                  onClick={() => this.setState({ sorting: { sortingField: 'last_login_at', order: order === 'ASC' ? 'DESC' : 'ASC' } })}\r\n                >\r\n                  Last Enter\r\n                  <VectorSvg className={`vector-svg ${order === 'DESC' ? 'role-svg' : ''} ${sortingField === 'last_login_at' ? 'vector-svg--active' : ''}`} />\r\n                </td>\r\n                <td className=\"admin-table__td \">Status</td>\r\n              </tr>\r\n            </thead>\r\n            <tbody className=\"admin-table-body\">\r\n              {sortUsers(users, sortingField, order)\r\n                .slice(currentPage * this.itemsPerPage - this.itemsPerPage, currentPage * this.itemsPerPage)\r\n                .map((row, idx) => <tr className=\"admin-table-row\" key={row.id}>\r\n                  <td className=\"admin-table__td admin-table__td_check \">\r\n                    <input className=\"input-users\" type=\"checkbox\" />\r\n                    <UserSvg className=\"users-svg\" />\r\n                    <Link to={\"/admin/users/user/\" + row.id}>{row.name} {row.id === this.props.userId && <span style={{ color: 'red' }}>you</span>}</Link>\r\n                  </td>\r\n                  <td className=\"admin-table__td \">{row.full_name}</td>\r\n                  <td className=\"admin-table__td \"><a>{row.email}</a></td>\r\n                  <td className=\"admin-table__td \"><a>{row.roles.map((value) => { return value.name }).join(\", \")}</a></td>\r\n                  <td className=\"admin-table__td \">2</td>\r\n                  <td className=\"admin-table__td \">{row.last_login_at}</td>\r\n                  <td className=\"admin-table__td \">Enable</td>\r\n                </tr>)}\r\n            </tbody>\r\n          </table>\r\n          <Pagination pageCount={Math.ceil(users.length / this.itemsPerPage) || 1}\r\n            currentPage={currentPage}\r\n            changePage={page => {\r\n              if (currentPage !== page) {\r\n                this.setState({ currentPage: page })\r\n              }\r\n            }}\r\n            itemsCount={users.length}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    userId: state.currentUser.id\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps)(Users);\r\n","import React, {Component} from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\nimport AdminTable from \"../../AdminTable\";\r\nimport Pagination from \"../../Pagination\";\r\nimport {withRouter} from 'react-router-dom';\r\nimport './admin-notifications.scss';\r\n\r\nimport Resource from \"../../../../../editor/src/js/classes/Resource\";\r\nclass Notifications extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            user_id: this.props.match.params.id ?? '',\r\n            notices: [],\r\n            currentPage: 1,\r\n            noticeSearch: '',\r\n            sorting: {}\r\n      \r\n        };\r\n        this.itemsPerPage = 3;\r\n        this.notificationsAll = new Resource({route: `/admin/ajax/users/${this.state.user_id}/notifications`});\r\n        this.changePage = this.changePage.bind(this);\r\n        this.generateNoticeJSON = this.generateNoticeJSON.bind(this);\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.getNotices();\r\n    }\r\n        \r\n    changePage(currentPage, pagination) {\r\n        this.setState(state => ({ ...state, [pagination]: { ...state[pagination], currentPage } }));\r\n    }\r\n        \r\n        \r\n    getNotices = async () => {\r\n        let noticeSettingsData = await this.notificationsAll.getAll();\r\n        this.setState(state => {\r\n            return { ...state, notices: noticeSettingsData };\r\n        }); \r\n    };\r\n\r\n    noticesSortingHandler = (order_by, order) => {\r\n        this.setState({ sorting: { order_by, order } }, this.getNotices);\r\n    }\r\n\r\n    searchNotice = e => {\r\n        e.preventDefault();\r\n        this.getNotices();\r\n    }\r\n\r\n    getArrayForRows = (notices, currentPage, itemsPerPage) => {\r\n\r\n        let arrayNew = notices.slice(currentPage * this.itemsPerPage - this.itemsPerPage, currentPage * this.itemsPerPage).map(item =>{\r\n                            item.url = `/admin/users/user/${item.noticed_id}/notification/${item.id}`;            \r\n                            return item;\r\n                        });\r\n\r\n        return arrayNew;\r\n    }\r\n\r\n     /** @function generateTemplateJSON\r\n     * Генерируем контент файла template в формате JSON\r\n     * @param {object} response Данные, получаемые с сервера\r\n     * @return {string} Строка в формате JSON\r\n     */\r\n    generateNoticeJSON(response) {\r\n        const data = objectDeepCleaning(JSON.parse(response.data));\r\n        return JSON.stringify({\r\n        area: this.state.activeresponseArea.name,\r\n        data,\r\n        title: response.title,\r\n        name: response.notice_name,\r\n        });\r\n    }\r\n    /** @function downloadJSONFile\r\n     * Скачиваем файл\r\n     * @param {object} response Данные, получаемые с сервера\r\n     */\r\n    downloadJSONFile(response) {\r\n        // const element = document.createElement(\"a\");\r\n        // const file = new Blob([this.generateNoticeJSON(response)], { type: 'text/plain' });\r\n        // element.href = URL.createObjectURL(file);\r\n        // element.download = `${response.name}.json`;\r\n        // document.body.appendChild(element); // Required for this to work in FireFox\r\n        // element.click();\r\n    }\r\n    \r\n    \r\n        \r\n    render(){\r\n        const { currentPage, notices, user_id, noticeSearch, sorting} = this.state;\r\n        return <div className=\"admin-users-notice\">\r\n            <div className=\"admin-breadcrumbs\">\r\n                <Link to={`/admin/users`}>Users</Link>\r\n                <span className=\"admin-breadcrumbs__separator\">/</span>\r\n                <span className=\"admin-breadcrumbs__current\">{user_id}</span>\r\n                <span className=\"admin-breadcrumbs__separator\">/</span>\r\n                <span className=\"admin-breadcrumbs__current\">Settings Notifications</span>\r\n            </div>\r\n            <Link className=\"btn\" to={`/admin/users/user/${user_id}/notification/new`}>Add New</Link>\r\n            <div className=\"admin-notifications-table\">\r\n                <form className=\"admin-panel py-2\" onSubmit={this.searchNotice}>\r\n                    <input className=\"input-sm mr-2\" value={noticeSearch} onChange={e => this.setState({ noticeSearch: e.target.value })} />\r\n                    <button className=\"btn btn_bare admin-users-button\">Search</button>\r\n                </form>\r\n                <AdminTable\r\n                    columns={[{\r\n                        name: 'name',\r\n                        title: 'Notification Setting:',\r\n                        url: true,\r\n                    }]}\r\n                    quickActions={[{ tag: 'a', props: {\r\n                        href: `/admin/users/user/${user_id}/notification/:id`,\r\n                        },\r\n                        title: 'Edit'\r\n                    }, {\r\n                        tag: 'button',\r\n                        route: '',\r\n                        method: 'delete',\r\n                        title: 'Disable'\r\n                    }, {\r\n                        tag: 'button',\r\n                        route: `/admin/ajax/users/${user_id}/notifications/:id`,\r\n                        method: 'get',\r\n                        after: response => this.downloadJSONFile(response),\r\n                        title: 'Export'\r\n                    }, {\r\n                        tag: 'button',\r\n                        route: `/admin/ajax/users/${user_id}/notifications/:id`,\r\n                        method: 'delete',\r\n                        confirm: 'Are You Sure?',\r\n                        after: () => this.getNotices(),\r\n                        className: 'quick-action-menu__item_danger',\r\n                        title: 'Trash'\r\n                    }]}\r\n                    rows={this.getArrayForRows(notices, currentPage, this.itemsPerPage)}\r\n                    sortingHandler={this.noticesSortingHandler}\r\n                    sortingField={sorting.order_by}\r\n                />\r\n                <Pagination pageCount={Math.ceil(notices.length / this.itemsPerPage) || 1}\r\n                    currentPage={currentPage}\r\n                    changePage={page => {\r\n                        if (currentPage !== page) {\r\n                        this.setState({ currentPage: page })\r\n                        }\r\n                    }\r\n                    }\r\n                    itemsCount={notices.length}\r\n                />\r\n            </div>\r\n        </div>\r\n    }\r\n}\r\n\r\nexport default withRouter(Notifications);\r\n\r\n","import React, {Component} from \"react\";\r\nimport AsyncSelect from \"react-select/async\";\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\nimport Select from \"react-select\";\r\nimport { Scrollbars } from \"react-custom-scrollbars\";\r\nimport {parseParamsFromString, parseURLTemplate} from \"../../../../front-app/src/js/helpers\";\r\n\r\nexport const renderScrollbar = (props) => {\r\n  return <Scrollbars autoHeight >{props.children}</Scrollbars>;\r\n};\r\n\r\nclass AltrpSelect extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      options: props.options || [],\r\n    };\r\n    if(props.optionsRoute){\r\n      this.optionsResource = new Resource({route: props.optionsRoute});\r\n    }\r\n    this.selectRef = React.createRef();\r\n  }\r\n\r\n  /**\r\n   *\r\n   */\r\n  async componentDidMount(){\r\n\r\n  }\r\n  /**\r\n   * изменение значения\r\n   */\r\n  onChange(){\r\n\r\n  }\r\n\r\n  /**\r\n   *\r\n   */\r\n  loadOptions = async (searchString, callback)=>{\r\n    let options = [];\r\n    if(this.optionsResource){\r\n      options = await this.optionsResource.search(searchString);\r\n    }\r\n    this.setState(state=>({\r\n      ...state,\r\n      options\r\n    }));\r\n    return callback(options);\r\n  };\r\n\r\n  render(){\r\n    const customStyles = {\r\n      control: (base, state) => ({\r\n        ...base,\r\n        boxShadow: \"none\",\r\n        borderColor: state.isFocused ? \"hsl(0,0%,80%)\" : \"hsl(0,0%,80%)\",\r\n        \"&:hover\": {\r\n          borderColor: \"hsl(0,0%,80%)\"\r\n        }\r\n      }),\r\n      menuPortal: base => ({ ...base, zIndex: 99999 }),\r\n      // option: (provided, state) => ({\r\n      //   ...provided,\r\n      //   backgroundColor: state.isSelected ?\r\n      //     background.selected.color :\r\n      //     state.isFocused ? background.focused.color : background.normal.color\r\n      // })\r\n    };\r\n\r\n    let selectProps = {\r\n      onChange: this.onChange,\r\n      options: this.state.options || [],\r\n      placeholder: this.props.placeholder,\r\n      loadOptions: this.loadOptions,\r\n      noOptionsMessage: this.props.noOptionsMessage || (() => \"not found\"),\r\n      styles: customStyles,\r\n      menuPortalTarget: document.body,\r\n      menuPlacement: 'auto',\r\n      menuPosition: 'absolute',\r\n      onKeyDown : this.onKeyDown,\r\n      components: { MenusList: renderScrollbar },\r\n      captureMenuScroll: false,\r\n      isDisabled: this.state.isDisabled,\r\n      ref: this.selectRef,\r\n    };\r\n\r\n    _.assign(selectProps, this.props);\r\n\r\n    if(_.isArray(selectProps.value)){\r\n      selectProps.value = selectProps.value.map(item => {\r\n        let _i = {\r\n          label: '',\r\n          value: '',\r\n        };\r\n        if(_.isString(item) || _.isNumber(item)){\r\n          _i.value = item;\r\n          _i.label = item;\r\n        } else if(_.isObject(item)) {\r\n          return item;\r\n        }\r\n        if(_.isArray(selectProps.options)){\r\n          selectProps.options.forEach(option=>{\r\n            if(option.value === _i.value){\r\n              _i = {...option,};\r\n            }\r\n          });\r\n        }\r\n        return _i;\r\n      });\r\n    }\r\n    if(selectProps.value && ! _.isObject(selectProps.value)){\r\n      selectProps.value = selectProps.options.find(o=>{\r\n        return o.value == selectProps.value;\r\n      });\r\n    }\r\n    if( this.optionsResource){\r\n      return <AsyncSelect {...selectProps} />\r\n    } else {\r\n      return <Select {...selectProps} />\r\n    }\r\n  }\r\n}\r\n\r\nexport default AltrpSelect\r\n\r\n\r\n\r\n","import React, {Component} from \"react\";\r\nimport {CONDITIONS_OPTIONS} from \"../../../../../front-app/src/js/helpers\"\r\nimport AltrpSelect from \"../../altrp-select/AltrpSelect\";\r\n\r\n\r\nexport default class Compare extends Component{\r\n    constructor(props){\r\n        super(props);        \r\n        this.state = {\r\n            activeCompare: {},\r\n            isCompareOpened: false,\r\n        };\r\n        this.onSave = this.onSave.bind(this);\r\n        this.onAction = this.onAction.bind(this);\r\n        this.onActive = this.onActive.bind(this);\r\n        this.onDisable = this.onDisable.bind(this);\r\n        this.onExport = this.onExport.bind(this);\r\n        this.onDelete = this.onDelete.bind(this);\r\n        this.changeInput = this.changeInput.bind(this);\r\n        this.changeSelect = this.changeSelect.bind(this);\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        // Сворачивание формы, если удалён активный compare (activeCompare)\r\n        const {activeCompare, isCompareOpened} = this.state;\r\n        let compares = this.props.compares ?? [];\r\n        compares = _.filter(compares, s => s.id === activeCompare?.id);\r\n        if(compares.length === 0 && isCompareOpened) this.setState(s => ({ ...s, isCompareOpened: false}));\r\n    }    \r\n    \r\n    // Обработчик создания нового compare\r\n    onSave(){\r\n        this.props.onSaveCompare('compare');\r\n    }\r\n\r\n    // Отправка данных от обработчиков родителю\r\n    onAction(e, type){\r\n        this.props.onActionCompare(e, type, 'compare');\r\n    }\r\n    \r\n    // Обработчик нажатия на конкретный compare\r\n    onActive(e){\r\n        this.setState({ activeCompare: e,  isCompareOpened: true});\r\n    }\r\n    \r\n    // Обработчик отключения compare\r\n    onDisable(e){\r\n        this.onAction(e, 'disable');\r\n    }\r\n    \r\n    // Обработчик экспорта compare\r\n    onExport(e){\r\n    }\r\n    \r\n    // Обработчик удаления compare\r\n    onDelete(e){\r\n        this.onAction(e, 'delete');\r\n    }\r\n\r\n    // Отправка значения inputs родителю\r\n    changeInput = (e, compareType) => {        \r\n        const compareId = this.state.activeCompare?.id ?? 0;\r\n        this.props.changeInputCompare(e, 'compare', compareId, compareType);        \r\n    }\r\n\r\n    // Обработчик выбранного селекта родителю\r\n    changeSelect = (e, i) => {\r\n        const compareId = this.state.activeCompare?.id ?? 0;\r\n        this.props.changeSelectCompare(e, i, 'compare', compareId);      \r\n    }  \r\n\r\n    render(){\r\n        let { isCompareOpened, activeCompare } = this.state;\r\n        let { id, name, operator, value, enabled } = activeCompare;\r\n        const OptionsCompare = CONDITIONS_OPTIONS;\r\n        const data = this.props.compares ?? [];\r\n\r\n        data.map( item => {\r\n            if(item?.id === id){\r\n                name = item.name\r\n                operator = item.operator\r\n                value = item.value\r\n                enabled = item.enabled\r\n            }\r\n        });\r\n\r\n        return <div className=\"admin-notice-compare-box\">\r\n            <div className=\"compare-box\">\r\n                <button className=\"btn btn_save\" onClick={() => this.onSave()}>\r\n                    Save and Add New Compare\r\n                </button>\r\n                <ul>\r\n                    {data.map((item, index) =>\r\n                        <li className=\"list-box\" key={index}>\r\n                            <div className=\"list-item\" onClick={() => this.onActive(item)}>\r\n                                <a className={item.enabled ? \"enabled\" : \"disabled\"}>{item.name ?? ''}</a>\r\n                                <a className={item.enabled ? \"enabled\" : \"disabled\"}>{item.operator ?? ''}</a>\r\n                                <a className={item.enabled ? \"enabled\" : \"disabled\"}>{item.value ?? ''}</a>\r\n                            </div> \r\n                            <span className=\"quick-action-menu\">\r\n                                <span className=\"quick-action-menu__item_wrapper\"><button className=\"quick-action-menu__item\" onClick={() => this.onActive(item)}>Edit</button></span>\r\n                                <span className=\"quick-action-menu__item_wrapper\"><button className=\"quick-action-menu__item\" onClick={() => this.onDisable(item)}>{item.enabled ? \"Disable\" : \"Enable\"}</button></span>\r\n                                <span className=\"quick-action-menu__item_wrapper\"><button className=\"quick-action-menu__item\" onClick={() => this.onExport(item)}>Export</button></span>\r\n                                <span className=\"quick-action-menu__item_wrapper\"><button className=\"quick-action-menu__item quick-action-menu__item_danger\" onClick={() => this.onDelete(item)}>Trash</button></span>\r\n                            </span>\r\n                        </li>\r\n                    )}\r\n                </ul>\r\n            </div>\r\n        \r\n            {isCompareOpened && <div className=\"admin-notice-box-child-compare\">\r\n                <div className=\"form-group\">\r\n                    <input type=\"text\" id=\"compare\" name=\"name\" value={name ?? ''} onChange={(e) => { this.changeInput(e, \"name\")}} className=\"form-control\" />\r\n                </div>\r\n                <AltrpSelect \r\n                    onChange={this.changeSelect}\r\n                    value={_.filter(OptionsCompare, o => operator === o.value)}\r\n                    options={OptionsCompare} />\r\n                <div className=\"form-group\">\r\n                    <textarea type=\"text\" id=\"value\" name=\"value\" value={value ?? ''} onChange={(e) => { this.changeInput(e, \"value\")}} className=\"form-control\" ></textarea>\r\n                </div>\r\n            </div>}\r\n\r\n        </div>\r\n    }\r\n}","import React, {Component} from \"react\";\r\nimport Compare from \"./Compare\";\r\nimport AltrpSelect from \"../../altrp-select/AltrpSelect\";\r\n\r\n\r\nexport default class ConditionsTab extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            activeCondition: {},\r\n            isConditionOpened: false,\r\n        };\r\n        this.onSave = this.onSave.bind(this);\r\n        this.onAction = this.onAction.bind(this);\r\n        this.onActive = this.onActive.bind(this);\r\n        this.onDisable = this.onDisable.bind(this);\r\n        this.onExport = this.onExport.bind(this);\r\n        this.onDelete = this.onDelete.bind(this);\r\n        this.changeInput = this.changeInput.bind(this);\r\n        this.changeSelect = this.changeSelect.bind(this);\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        // Сворачивание формы, если удалён активный condition (activeCondition)\r\n        const {activeCondition, isConditionOpened} = this.state;\r\n        let condition = this.props.conditions ?? [];\r\n        condition = _.filter(condition, s => s.id === activeCondition?.id);\r\n        if(condition.length === 0 && isConditionOpened) this.setState(s => ({ ...s, isConditionOpened: false}));\r\n    }    \r\n       \r\n    // Обработчик создания нового condition\r\n    onSave(type = 'condition'){\r\n        const conditionId = this.state.activeCondition?.id ?? 0;\r\n        this.props.onSaveCondition(type, conditionId);\r\n    }\r\n    \r\n    // Отправка данных от обработчиков родителю\r\n    onAction(e, type, component = 'condition'){\r\n        const conditionId = this.state.activeCondition?.id ?? 0;\r\n        this.props.onActionCondition(e, type, component, conditionId);\r\n    }\r\n\r\n    // Обработчик нажатия на конкретный condition\r\n    onActive(e){\r\n        this.setState({ activeCondition: e,  isConditionOpened: true});\r\n    }\r\n    \r\n    // Обработчик отключения condition\r\n    onDisable(e){\r\n        this.onAction(e, 'disable');\r\n    }\r\n    \r\n    // Обработчик экспорта condition\r\n    onExport(e){\r\n    }\r\n    \r\n    // Обработчик удаления condition\r\n    onDelete(e){\r\n        this.onAction(e, 'delete');\r\n    }\r\n\r\n    // Запись значения inputs в стейт (value)\r\n    changeInput = (e, type=\"condition\", compareId=false, compareType=false) => {\r\n        const conditionId = this.state.activeCondition?.id ?? 0;\r\n        if (!conditionId) return;\r\n        this.props.changeInputCondition(e, type, conditionId, compareId, compareType);\r\n    }\r\n\r\n    // Обработчик выбранных селектов\r\n    changeSelect = (e, i, type = 'condition', compareId=false) => {\r\n        const conditionId = this.state.activeCondition?.id ?? 0;\r\n        if (!conditionId) return;        \r\n        this.props.changeSelectCondition(e, i, type, conditionId, compareId);      \r\n    }\r\n\r\n    render(){\r\n        let { isConditionOpened, activeCondition } = this.state;\r\n        let { id, type, name, compares, enabled } = activeCondition;        \r\n        const OptionsCondition = [{label:\"any\", value:1}, {label:\"all\", value:2}];        \r\n        const data = this.props.conditions ?? [];\r\n\r\n        data.map( item => {\r\n            if(item?.id === id){\r\n                type = item.type\r\n                name = item.name\r\n                compares = item.compares\r\n                enabled = item.enabled\r\n            }\r\n        });\r\n\r\n        return <div className=\"admin-notice-condition-box\">\r\n                <div className=\"condition-box\">\r\n                    <button className=\"btn btn_save\" onClick={() => this.onSave()}>\r\n                        Save and Add New Condition\r\n                    </button>\r\n                    <ul>\r\n                        {data.map((item, index) =>\r\n                            <li className=\"list-box\" key={index}>\r\n                                <div className=\"list-item\">\r\n                                    <a className={item.enabled ? \"enabled\" : \"disabled\"} onClick={() => this.onActive(item)}>{item.name ?? ''}</a>\r\n                                </div>\r\n                                <span className=\"quick-action-menu\">\r\n                                    <span className=\"quick-action-menu__item_wrapper\"><button className=\"quick-action-menu__item\" onClick={() => this.onActive(item)}>Edit</button></span>\r\n                                    <span className=\"quick-action-menu__item_wrapper\"><button className=\"quick-action-menu__item\" onClick={() => this.onDisable(item)}>{item.enabled ? \"Disable\" : \"Enable\"}</button></span>\r\n                                    <span className=\"quick-action-menu__item_wrapper\"><button className=\"quick-action-menu__item\" onClick={() => this.onExport(item)}>Export</button></span>\r\n                                    <span className=\"quick-action-menu__item_wrapper\"><button className=\"quick-action-menu__item quick-action-menu__item_danger\" onClick={() => this.onDelete(item)}>Trash</button></span>\r\n                                </span>\r\n                            </li>\r\n                        )}\r\n                    </ul>\r\n                </div>\r\n                {isConditionOpened && <div className=\"admin-notice-box-child\">\r\n                    <div className=\"condition-compare-box\">\r\n                        <div className=\"condition-box-general\">\r\n                            <div className=\"form-group\">\r\n                                <label htmlFor=\"condition-input\">Name</label>\r\n                                <input type=\"text\" id=\"condition-input\" name=\"name\" value={name ?? ''} onChange={(e) => { this.changeInput(e)}} className=\"form-control\" />\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label htmlFor=\"condition-select\">Type</label>\r\n                                <AltrpSelect id=\"condition-select\"\r\n                                    onChange={this.changeSelect}\r\n                                    value={_.filter(OptionsCondition, t => type === t.label)}\r\n                                    options={OptionsCondition} />\r\n                            </div>\r\n                        </div>\r\n                        <Compare\r\n                            compares={compares ?? []}\r\n                            onSaveCompare={this.onSave}\r\n                            onActionCompare={this.onAction}\r\n                            changeInputCompare={this.changeInput}\r\n                            changeSelectCompare={this.changeSelect}\r\n                        />\r\n                    </div>\r\n                    <div className=\"btn-box\">\r\n                        <button className=\"btn btn_save\" onClick={() => this.onSave(\"save\")}>\r\n                            Save\r\n                        </button>\r\n                        <button className=\"btn btn_cancel\" onClick={() => this.setState({ isConditionOpened: false, activeCondition: {} })}>\r\n                            Cancel\r\n                        </button>                       \r\n                    </div>\r\n                </div>}\r\n            </div>\r\n    }\r\n}","import React, {Component} from \"react\";\r\n\r\nexport default class DataTab extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n        };\r\n    }\r\n\r\n    render(){\r\n        const data = this.props.data[0] ?? [];\r\n\r\n        return <div>\r\n            <div className=\"data-box-general\">\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"field-input\">Key</label>\r\n                    <input type=\"text\" id=\"field-input\" name=\"field\" value={data?.field ?? ''} onChange={(e) => { this.props.changeInputData(e, 'field')}} className=\"form-control\" />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"value-input\">Value</label>\r\n                    <input type=\"text\" id=\"value-input\" name=\"value\" value={data?.value ?? ''} onChange={(e) => { this.props.changeInputData(e, 'value')}} className=\"form-control\" />\r\n                </div>\r\n            </div>\r\n            <div className=\"btn-box\">\r\n                <button className=\"btn btn_save\" onClick={() => this.props.onSaveData('save')}>\r\n                    Save\r\n                </button>\r\n            </div>\r\n        </div>\r\n    }\r\n}","import React, {Component} from \"react\";\r\n\r\nexport default class SendToTab extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n\r\n        };\r\n    }\r\n\r\n\r\n    render(){\r\n        const send = this.props.send ?? [];\r\n\r\n        return <div>\r\n            <div className=\"send-checkbox-box\">\r\n                <input\r\n                    type=\"checkbox\"                    \r\n                    id=\"front_checkbox\"\r\n                    checked={send?.front?.enabled}\r\n                    onChange={e => this.props.changeBox(e, 'front')}\r\n                ></input>\r\n                <label htmlFor=\"front_checkbox\" >Front</label>\r\n                <input\r\n                    type=\"checkbox\"                    \r\n                    id=\"telegram_checkbox\"\r\n                    checked={send?.telegram?.enabled}\r\n                    onChange={e => this.props.changeBox(e, 'telegram')}\r\n                ></input>\r\n                <label htmlFor=\"telegram_checkbox\" >Telegram</label>\r\n                <input\r\n                    type=\"checkbox\"                    \r\n                    id=\"email_checkbox\"\r\n                    checked={send?.email?.enabled}\r\n                    onChange={e => this.props.changeBox(e, 'email')}\r\n                ></input>\r\n                <label htmlFor=\"email_checkbox\" >Email</label>\r\n            </div>\r\n\r\n            <div className=\"btn-box\">\r\n                <button className=\"btn btn_save\" onClick={() => this.props.onSaveSend('save')}>\r\n                    Save\r\n                </button>\r\n            </div>\r\n        </div>\r\n    }\r\n}","import React, {Component} from \"react\";\r\nimport {Tab, TabList, TabPanel, Tabs} from \"react-tabs\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport { titleToName }from \"../../../js/helpers\";\r\nimport ConditionsTab from \"./ConditionsTab\";\r\nimport DataTab from \"./DataTab\";\r\nimport SendToTab from \"./SendToTab\";\r\nimport AltrpSelect from \"../../altrp-select/AltrpSelect\";\r\nimport Resource from \"../../../../../editor/src/js/classes/Resource\";\r\nimport './admin-notifications.scss';\r\n\r\nclass EditNotification extends Component{\r\n    constructor(props){\r\n        super(props);        \r\n        this.state = {\r\n            user_id: this.props.match.params.id ?? '',\r\n            notice_id: this.props.match.params.name ?? '',\r\n            activeTab: parseInt(window.location.hash[1]) || 0,\r\n            value: '',\r\n            sourcesOptions: [],\r\n        };\r\n        this.resource = new Resource({route: `/admin/ajax/users/${this.state.user_id}/notifications/${this.state.notice_id}`});\r\n        this.resourceEdit = new Resource({route: `/admin/ajax/users/${this.state.user_id}/notifications`});\r\n        this.dataSources = new Resource({ route: \"/admin/ajax/data_source_options\" });\r\n\r\n        this.switchTab = this.switchTab.bind(this);\r\n        this.getSourceArray = this.getSourceArray.bind(this);\r\n        this.onSave = this.onSave.bind(this);\r\n        this.onAction = this.onAction.bind(this);\r\n        this.serverUpdate = this.serverUpdate.bind(this);\r\n        this.getNewValue = this.getNewValue.bind(this);\r\n    }\r\n\r\n    async componentDidMount(){\r\n        const value = await this.resource.getAll();\r\n        const dataSourcesAll = await this.dataSources.getAll();\r\n\r\n        // Проверка на наличие полученной настройки с сервера\r\n        if (value.length === 0) this.getNewValue();\r\n        else this.setState({ value: value[0] });        \r\n\r\n        this.setState({ sourcesOptions: dataSourcesAll?.options ?? [] });\r\n\r\n        this.getSourceArray();\r\n    }   \r\n    \r\n    // Обработка переключения табов\r\n    switchTab(activeTab){\r\n        window.location.hash = activeTab + '';\r\n        this.setState(s=>{return{ ...s, activeTab }})\r\n    }\r\n\r\n    // Создание массива дата-сурсов для селекта\r\n    getSourceArray(){ \r\n        if(this.state.value?.sources instanceof Array){\r\n            let sources = this.state.value.sources.map(item => {\r\n                return item.id;\r\n              });  \r\n            this.setState(s => ({ ...s, value: {...s.value, sources: sources} }));  \r\n        }           \r\n    }\r\n\r\n    // Сохранение и редирект для создания новой настройки\r\n    saveNoticeSetting(){\r\n        const {user_id} = this.state;\r\n        this.serverUpdate(); \r\n\r\n        this.props.history.push(`/admin/users/user/${user_id}/notification/new`);        \r\n        this.getNewValue();\r\n    }\r\n    \r\n    // Создание и запись новой настройки в value\r\n    getNewValue(){\r\n        const newValue = {\r\n            \"name\": \"New Notice Settings\",\r\n            \"enabled\": true,\r\n            \"sources\": [],\r\n            \"notice_settings\": {\r\n                \"notice_name\": \"new_notice_settings\",\r\n                \"conditions\": [\r\n                    {\r\n                        \"id\": 1,\r\n                        \"name\": \"new condition\",\r\n                        \"enabled\": false,\r\n                        \"type\": \"all\",\r\n                        \"compares\": [\r\n                            {\r\n                                \"id\": 1,\r\n                                \"name\": \"title\",\r\n                                \"enabled\": false,\r\n                                \"operator\": \"==\",\r\n                                \"value\": \"value1\"\r\n                            }\r\n                        ]\r\n                    }\r\n                ],\r\n                \"data\": [{\r\n                    \"field\": \"message\",\r\n                    \"value\": \"{{altrpdata.text}} added or updated or deleted\",\r\n                    \"type\": \"content\"\r\n                }],\r\n                \"send\": {\r\n                    \"front\": {\r\n                        \"enabled\": true\r\n                    },\r\n\r\n                    \"email\": {\r\n                        \"enabled\": false,\r\n                        \"template\": \"template\"\r\n                    },\r\n                    \"telegram\": {\r\n                        \"enabled\": false\r\n                    }\r\n                }\r\n            }\r\n        };\r\n        this.setState(s => ({ ...s, value: newValue, notice_id: \"new\" }));\r\n    }\r\n\r\n    // Отправка изменений на сервер\r\n    serverUpdate(){\r\n        const {notice_id, value} = this.state;\r\n        console.log(notice_id);\r\n\r\n        // Проверка роута (текущая настройка или новая)\r\n        if (notice_id === \"new\") this.resourceEdit.post(value);      \r\n        else this.resourceEdit.put(notice_id, value);       \r\n    }\r\n\r\n    // Сохранение и создание condition или compare\r\n    onSave(type, conditionId = false){\r\n        const {notice_id} = this.state;\r\n\r\n        switch(type){\r\n            case 'condition':\r\n                this.setState(state => {\r\n                    state = { ...state };\r\n                    if(state.value?.notice_settings?.conditions instanceof Array){\r\n                        const conArray = state.value.notice_settings.conditions;\r\n                        conArray.push({\r\n                            id: conArray.length + 1,\r\n                            name: 'Default New Condition',\r\n                            type: 'all',\r\n                            enabled: false,\r\n                            compares: [],\r\n                        });\r\n                        state.value.notice_settings.conditions = conArray;\r\n                    }    \r\n                    return state\r\n                });        \r\n                break;\r\n            case 'compare':\r\n                if (!conditionId) return;\r\n                this.setState(state => {\r\n                    state = { ...state };\r\n                    if(state.value?.notice_settings?.conditions instanceof Array){\r\n                        state.value.notice_settings.conditions.map(item => {\r\n                            if(item?.id === conditionId){\r\n                                if(item?.compares instanceof Array){\r\n                                    const comArray = item.compares;\r\n                                    comArray.push({\r\n                                        id: comArray.length + 1,\r\n                                        name: 'Default New Compare',\r\n                                        operator: '==',\r\n                                        enabled: false,\r\n                                        value: 'Default value',\r\n                                    });\r\n                                    item.compares = comArray;\r\n                                }\r\n                            }\r\n                            return item;\r\n                        });    \r\n                    }    \r\n                    return state\r\n                });           \r\n                break;\r\n            case 'save':\r\n                console.log('SAVE');\r\n                this.serverUpdate();\r\n                return;\r\n        }\r\n        if(notice_id !== \"new\") this.serverUpdate();\r\n    }\r\n    \r\n    // Обработка disable и delete у condition и compare\r\n    onAction = (e, type, component = false, conditionId = false) => {\r\n\r\n        switch(component){\r\n            case 'condition':\r\n                this.setState(state => {\r\n                    state = { ...state };\r\n                    if(state.value?.notice_settings?.conditions instanceof Array){\r\n                        if(type === 'disable'){\r\n                            state.value.notice_settings.conditions.map(item => {\r\n                                if(item.id === e.id) item.enabled = !item.enabled;\r\n                                return item;\r\n                            });    \r\n                        }\r\n                        if(type === 'delete'){\r\n                            if (confirm(\"Are you sure?\")) {\r\n                                let arForDelete = state.value.notice_settings.conditions;\r\n                                arForDelete = _.filter(arForDelete, item => e.id !== item.id);\r\n                                state.value.notice_settings.conditions = arForDelete;\r\n                            }\r\n                        }\r\n                    }    \r\n                    return state\r\n                });             \r\n                break;\r\n            case 'compare':\r\n                if (!conditionId) return;\r\n                this.setState(state => {\r\n                    state = { ...state };\r\n                    if(state.value?.notice_settings?.conditions instanceof Array){\r\n                        state.value.notice_settings.conditions.map(item => {\r\n                            if(item?.id === conditionId){\r\n                                if(item?.compares instanceof Array){\r\n                                    if(type === 'disable'){\r\n                                        item.compares.map(compare =>{\r\n                                            if(compare?.id === e.id) compare.enabled = !compare.enabled;                                       \r\n                                            return compare;\r\n                                        });\r\n                                    }\r\n                                    if(type === 'delete'){\r\n                                        if (confirm(\"Are you sure?\")) {\r\n                                            let arForDelete = item.compares;\r\n                                            arForDelete = _.filter(arForDelete, item => e.id !== item.id);\r\n                                            item.compares = arForDelete;\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                            return item;\r\n                        });    \r\n                    }    \r\n                    return state\r\n                });           \r\n                break;\r\n        }\r\n    }\r\n\r\n    changeBox = (e, key) => {\r\n        e.persist();        \r\n        this.setState(state => {\r\n            state.value.notice_settings.send[key].enabled = e.target.checked;\r\n            return state\r\n        });\r\n    }\r\n\r\n    // Запись значения inputs в стейт (value)\r\n    changeInput = (e, type='parent', conditionId=false, compareId=false, compareType=false) => {\r\n\r\n        let name = e.target.value;\r\n\r\n        switch(type){\r\n            case 'field':\r\n                this.setState(state => {\r\n                    state.value.notice_settings.data[0].field = name;\r\n                    return state\r\n                });\r\n        \r\n                // this.setState(s => ({ ...s, value: {...s.value, name: name, notice_settings: {...s.value.notice_settings, data: {...s.value.notice_settings.data, field: name }}} }));\r\n                break;\r\n            case 'value':\r\n                this.setState(state => {\r\n                    state.value.notice_settings.data[0].value = name;\r\n                    return state\r\n                });\r\n\r\n                // this.setState(s => ({ ...s, value: {...s.value, name: name, notice_settings: {...s.value.notice_settings, data: {...s.value.notice_settings.data, value: name }}} }));\r\n                break;\r\n            case 'parent':\r\n                this.setState(s => ({ ...s, value: {...s.value, name: name, notice_settings: {...s.value.notice_settings, notice_name: titleToName(name)}} }));\r\n                break;\r\n            case 'notice':\r\n                this.setState(s => ({ ...s, value: {...s.value, notice_settings: {...s.value.notice_settings, notice_name: titleToName(name)}} }));\r\n                break;\r\n            case 'condition':\r\n                if (!conditionId) return;\r\n                this.setState(state => {\r\n                    state = { ...state };\r\n                    if(state.value?.notice_settings?.conditions instanceof Array){\r\n                        state.value.notice_settings.conditions.map(item => {\r\n                            if(item.id === conditionId) item.name = name;\r\n                            return item;\r\n                        });    \r\n                    }    \r\n                    return state\r\n                });              \r\n                break;\r\n            case 'compare':\r\n                if (!conditionId || !compareId || !compareType) return;\r\n                this.setState(state => {\r\n                    state = { ...state };\r\n                    if(state.value?.notice_settings?.conditions instanceof Array){\r\n                        state.value.notice_settings.conditions.map(item => {\r\n                            if(item?.id === conditionId){\r\n                                if(item?.compares instanceof Array){\r\n                                    item.compares.map(compare =>{\r\n                                        if(compare?.id === compareId) compare[compareType] = name;                                       \r\n                                        return compare;\r\n                                    });\r\n                                }\r\n                            }\r\n                            return item;\r\n                        });    \r\n                    }    \r\n                    return state\r\n                });            \r\n                break;\r\n        }        \r\n    }    \r\n\r\n    // Запись выбранных селектов Data source в стейт (value)\r\n    changeSelect = (e, i, type = 'parent', conditionId=false, compareId=false) => {\r\n        \r\n        switch(type){\r\n            case 'parent':\r\n                this.setState({\r\n                    value: {\r\n                        ...this.state.value,\r\n                        sources: e ? e.map(item => item.value) : []\r\n                    }    \r\n                });            \r\n                break;\r\n            case 'condition':\r\n                if (!conditionId) return;\r\n                this.setState(state => {\r\n                    state = { ...state };\r\n                    if(state.value?.notice_settings?.conditions instanceof Array){\r\n                        state.value.notice_settings.conditions.map(item => {\r\n                            if(item.id === conditionId) item.type = e.label;\r\n                            return item;\r\n                        });    \r\n                    }    \r\n                    return state\r\n                });           \r\n                break;\r\n            case 'compare':\r\n                if (!conditionId || !compareId) return;\r\n                this.setState(state => {\r\n                    state = { ...state };\r\n                    if(state.value?.notice_settings?.conditions instanceof Array){\r\n                        state.value.notice_settings.conditions.map(item => {\r\n                            if(item?.id === conditionId){\r\n                                if(item?.compares instanceof Array){\r\n                                    item.compares.map(compare =>{\r\n                                        if(compare?.id === compareId) compare.operator = e.value;                                       \r\n                                        return compare;\r\n                                    });\r\n                                }\r\n                            }\r\n                            return item;\r\n                        });    \r\n                    }    \r\n                    return state\r\n                });            \r\n                break;\r\n        }        \r\n    }\r\n\r\n    render(){\r\n        let { value, sourcesOptions, user_id } = this.state;\r\n        let { sources, notice_settings } = this.state.value;\r\n\r\n        return <div className=\"wrapper\">\r\n            <div className=\"admin-notice--heading\">\r\n                <div className=\"admin-breadcrumbs\">\r\n                    <Link to={`/admin/users`}>Users</Link>\r\n                    <span className=\"admin-breadcrumbs__separator\">/</span>\r\n                    <Link to={`/admin/users/user/${user_id}`}>{user_id}</Link>\r\n                    <span className=\"admin-breadcrumbs__separator\">/</span>\r\n                    <Link to={`/admin/users/user/${user_id}#1`}>Settings</Link>\r\n                    <span className=\"admin-breadcrumbs__separator\">/</span>\r\n                    <span className=\"admin-breadcrumbs__current\">{value?.notice_name ?? ''}</span>\r\n                </div>\r\n            </div>\r\n            <div className=\"admin-notice-box-parent\">\r\n                <button className=\"btn btn_save\" onClick={() => this.saveNoticeSetting()}>\r\n                    Save and Add New\r\n                </button>\r\n                <div className=\"admin-notice-general\">\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"page-name\">Name</label>\r\n                        <input type=\"text\" id=\"name\" name=\"name\" value={value?.name ?? ''} onChange={(e) => { this.changeInput(e) }} className=\"form-control\" />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"page-name\">Notice Name</label>\r\n                        <input type=\"text\" id=\"name\" name=\"name\" value={notice_settings?.notice_name ?? ''} onChange={(e) => { this.changeInput(e, 'notice') }} className=\"form-control\" />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"source\">Data source</label>\r\n                        <AltrpSelect id=\"source\"\r\n                            isMulti={true}\r\n                            value={_.filter(sourcesOptions, s => sources.indexOf(s.value) >= 0)}\r\n                            onChange={this.changeSelect}\r\n                            options={sourcesOptions} />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <Tabs selectedIndex={this.state.activeTab} onSelect={this.switchTab} >\r\n                <TabList className=\"nav nav-pills admin-pills\">\r\n                    <Tab> Conditions </Tab>\r\n                    <Tab> Data </Tab>\r\n                    <Tab> Send to </Tab>\r\n                </TabList>\r\n                <TabPanel>\r\n                    <ConditionsTab\r\n                        conditions={notice_settings?.conditions ?? []}\r\n                        onSaveCondition={this.onSave}\r\n                        onActionCondition={this.onAction}\r\n                        changeInputCondition={this.changeInput}\r\n                        changeSelectCondition={this.changeSelect}\r\n                    />\r\n                </TabPanel>\r\n                <TabPanel>\r\n                    <DataTab \r\n                        data={notice_settings?.data ?? []}\r\n                        onSaveData={this.onSave}\r\n                        changeInputData={this.changeInput}\r\n                    />\r\n                </TabPanel>\r\n                <TabPanel>\r\n                    <SendToTab\r\n                        send={notice_settings?.send ?? []}\r\n                        onSaveSend={this.onSave}\r\n                        changeBox={this.changeBox}\r\n                    />\r\n                </TabPanel>\r\n            </Tabs>\r\n        </div>\r\n    }\r\n}\r\n\r\nexport default withRouter(EditNotification);\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\nimport { Redirect, withRouter } from 'react-router-dom';\r\nimport AltrpSelect from \"../altrp-select/AltrpSelect\";\r\n//import TableForm from \"../../../../admin/src/components/tables/TableForm\";\r\n/**\r\n * @class\r\n * @property {Resource} resource\r\n */\r\n\r\nclass UserForm extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      id: this.props.id,\r\n      user: {},\r\n      usermeta: {},\r\n      errors: [],\r\n      redirectAfterSave: false,\r\n      redirectAfterError: false,\r\n      redirect_error_url: \"/admin/users\",\r\n      rolesOptions: [],\r\n      permissionsOptions: [],\r\n      isPasswordChange: false\r\n    };\r\n\r\n    if (!this.state.id) {\r\n      console.log(this.props.id)\r\n    }\r\n\r\n    this.resource = new Resource({ route: '/admin/ajax/users' });\r\n    this.rolesOptions = new Resource({ route: '/admin/ajax/role_options' });\r\n    this.permissionsOptions = new Resource({ route: '/admin/ajax/permissions_options' });\r\n\r\n    this.saveUser = this.saveUser.bind(this);\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const rolesOptions = await this.rolesOptions.getAll();\r\n    this.setState(state => ({ ...state, rolesOptions }));\r\n    const permissionsOptions = await this.permissionsOptions.getAll();\r\n    this.setState(state => ({ ...state, permissionsOptions }));\r\n    if (!this.state.id) {\r\n      return;\r\n    }\r\n\r\n    if (this.state.id) {\r\n\r\n      let user_data = await this.resource.get(this.state.id);\r\n\r\n      this.setState(state => {\r\n        return { ...state, user: user_data }\r\n      }, async () => {\r\n        let usermeta_data = await this.resource.get(this.state.id + \"/usermeta\");\r\n\r\n        this.setState(state => {\r\n          return { ...state, usermeta: usermeta_data }\r\n        });\r\n\r\n      });\r\n    }\r\n  }\r\n\r\n  async saveUser(e) {\r\n    e.preventDefault();\r\n    let res, usermeta_resource, usermeta_res;\r\n    const { isPasswordChange, user: { password, password_confirmation}} = this.state;\r\n    if (isPasswordChange && password !== password_confirmation) {\r\n      return alert(\"Password doesn't match confirmation\");\r\n    }\r\n\r\n    if (this.state.id) {\r\n      res = await this.resource.put(this.state.id, this.state.user);\r\n    } else {\r\n      res = await this.resource.post(this.state.user);\r\n    }\r\n    console.log(res);\r\n\r\n\r\n\r\n    if (res) {\r\n\r\n      //Обновление меты\r\n      usermeta_resource = new Resource({ route: '/admin/ajax/users/' + res.id + \"/usermeta\" });\r\n\r\n      usermeta_res = await usermeta_resource.post(this.state.usermeta);\r\n\r\n      if (usermeta_res) {\r\n        this.setState(state => {\r\n          return { ...state, redirectAfterSave: true }\r\n        });\r\n      }\r\n      else {\r\n        this.setState(state => {\r\n          return { ...state, redirectAfterError: true, redirect_error_url: this.state.redirect_error_url + \"/user/\" + res.id }\r\n        });\r\n      }\r\n\r\n\r\n    } else {\r\n      /*this.setState(state=>{\r\n          return {...state, value: {}}\r\n      });*/\r\n    }\r\n  }\r\n\r\n  changeValue = (e, source = \"user\") => {\r\n    let field = e.target.name;\r\n    let value = e.target.value;\r\n    this.setState(state => {\r\n      state = { ...state };\r\n      state[source][field] = value;\r\n      return state\r\n    })\r\n  }\r\n\r\n  changeRolesHandler = roles => {\r\n    this.setState({\r\n      usermeta: {\r\n        ...this.state.usermeta,\r\n        roles: roles ? roles.map(role => role.value) : []\r\n      },\r\n      user: {\r\n        ...this.state.user,\r\n        _roles: roles ? roles.map(role => role.value) : []\r\n      }\r\n    })\r\n  };\r\n\r\n  changePermissionsHandler = permissions => {\r\n    this.setState({\r\n      usermeta: {\r\n        ...this.state.usermeta,\r\n        permissions: permissions ? permissions.map(permission => permission.value) : []\r\n      },\r\n      user: {\r\n        ...this.state.user,\r\n        _permissions: permissions ? permissions.map(permission => permission.value) : []\r\n      }\r\n    })\r\n  };\r\n\r\n  render() {\r\n\r\n    const { rolesOptions, permissionsOptions, isPasswordChange } = this.state;\r\n    const { _roles: roles = [], _permissions: permissions = [] } = this.state.user;\r\n    if (this.state.redirectAfterSave) {\r\n      return <Redirect to={this.props.redirect_url} />\r\n    }\r\n    if (this.state.redirectAfterError) {\r\n      return <Redirect to={this.state.redirect_error_url} />\r\n    }\r\n\r\n    return <form className=\"admin-form\" onSubmit={this.saveUser}>\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"page-name\">Name</label>\r\n        <input type=\"text\" id=\"name\" name=\"name\" required={1}\r\n          value={this.state.user.name || ''}\r\n          disabled={this.props.id}\r\n          onChange={(e) => { this.changeValue(e) }}\r\n          className=\"form-control\" />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"page-title\">Email</label>\r\n        <input type=\"email\" id=\"email\" name=\"email\" required={1}\r\n          value={this.state.user.email || ''}\r\n          onChange={(e) => { this.changeValue(e) }}\r\n          disabled={this.props.id}\r\n          className=\"form-control\" />\r\n      </div>\r\n\r\n      {!this.state.id ?\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"page-description\">Password</label>\r\n          <input type=\"password\" id=\"password\" name=\"password\" required={1}\r\n            minlength={8}\r\n            value={this.state.user.password || ''}\r\n            onChange={(e) => { this.changeValue(e) }}\r\n            className=\"form-control\" />\r\n        </div> : null}\r\n      {!this.state.id ?\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"page-description\">Confirm Password</label>\r\n          <input type=\"password\" id=\"password_confirmation\" name=\"password_confirmation\" required={1}\r\n            minlength={8}\r\n            value={this.state.user.password_confirmation || ''}\r\n            onChange={(e) => { this.changeValue(e) }}\r\n            className=\"form-control\" />\r\n        </div> : null}\r\n\r\n\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"page-description\">First Name</label>\r\n        <input type=\"text\" id=\"first_name\" name=\"first_name\"\r\n          value={this.state.usermeta.first_name || ''}\r\n          onChange={(e) => { this.changeValue(e, \"usermeta\") }}\r\n          className=\"form-control\" />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"page-description\">Second Name</label>\r\n        <input type=\"text\" id=\"second_name\" name=\"second_name\"\r\n          value={this.state.usermeta.second_name || ''}\r\n          onChange={(e) => { this.changeValue(e, \"usermeta\") }}\r\n          className=\"form-control\" />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"page-description\">Telegram ID</label>\r\n        <input type=\"text\" id=\"telegram_user_id\" name=\"telegram_user_id\"\r\n          value={this.state.user.telegram_user_id || ''}\r\n          onChange={(e) => { this.changeValue(e) }}\r\n          className=\"form-control\" />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"page-description\">Patronymic</label>\r\n        <input type=\"text\" id=\"patronymic\" name=\"patronymic\"\r\n          value={this.state.usermeta.patronymic || ''}\r\n          onChange={(e) => { this.changeValue(e, \"usermeta\") }}\r\n          className=\"form-control\" />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"roles\">Roles</label>\r\n        <AltrpSelect id=\"roles\"\r\n          closeMenuOnSelect={false}\r\n          value={_.filter(rolesOptions, r => roles && roles.indexOf(r.value) >= 0)}\r\n          isMulti={true}\r\n          onChange={this.changeRolesHandler}\r\n          options={rolesOptions} />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"permissions\">Permissions</label>\r\n        <AltrpSelect id=\"permissions\"\r\n          value={_.filter(permissionsOptions, p => permissions && permissions.indexOf(p.value) >= 0)}\r\n          closeMenuOnSelect={false}\r\n          isMulti={true}\r\n          onChange={this.changePermissionsHandler}\r\n          options={permissionsOptions} />\r\n      </div>\r\n\r\n      {this.state.id && <div className=\"form-group\">\r\n        <input type=\"checkbox\" id=\"changePassword\"\r\n          checked={isPasswordChange}\r\n          onChange={e => { this.setState({ isPasswordChange: e.target.checked }) }}\r\n        />\r\n        <label className=\"checkbox-label\" htmlFor=\"changePassword\">Change Password</label>\r\n      </div>}\r\n\r\n      {isPasswordChange && this.state.id && <>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"newPassword\">New Password</label>\r\n          <input type=\"password\" id=\"newPassword\" name=\"password\" required\r\n            minlength={8}\r\n            value={this.state.user.password || ''}\r\n            onChange={this.changeValue}\r\n            className=\"form-control\" />\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"page-description\">Confirm Password</label>\r\n          <input type=\"password\" id=\"confirmNewPassword\" name=\"password_confirmation\" required\r\n            minlength={8}\r\n            value={this.state.user.password_confirmation || ''}\r\n            onChange={this.changeValue}\r\n            className=\"form-control\" />\r\n        </div>\r\n      </>}\r\n\r\n      <button className=\"btn btn_success\">{this.state.id ? 'Save' : 'Add'}</button>\r\n    </form>;\r\n  }\r\n}\r\n\r\nexport default UserForm;\r\n","import React, {Component} from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\n\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\nimport {Redirect, withRouter} from 'react-router-dom';\r\nimport UserForm from \"./UserForm\";\r\n/**\r\n * @class\r\n * @property {Resource} resource\r\n */\r\n\r\nclass AddUserPage extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      redirectAfterSave: false,\r\n    };\r\n    this.resource = new Resource({route: '/admin/ajax/users'});\r\n    \r\n    //this.savePage = this.savePage.bind(this);\r\n  }\r\n  /*async componentDidMount(){\r\n    let res = await this.templateResource.getOptions();\r\n    this.setState(state=>{\r\n      return{...state, templates: res}\r\n    });\r\n    let id = this.props.location.pathname.split('/');\r\n    id = id[id.length - 1];\r\n    id = parseInt(id);\r\n    if(id){\r\n      let pageData = await this.resource.get(id);\r\n      this.setState(state=>{\r\n        return{...state, value:pageData, id}\r\n      });\r\n    }\r\n  }*/\r\n  /*async savePage(e){\r\n    e.preventDefault();\r\n    let res;\r\n    let path = this.state.value.path;\r\n\r\n    path = path.split('\\\\').join('/');\r\n    path = (path[0] !== '/') ? `/${path}` : path;\r\n    this.state.value.path = path;\r\n    if(this.state.id){\r\n      res = await this.resource.put(this.state.id, this.state.value);\r\n    } else {\r\n      res = await this.resource.post(this.state.value);\r\n    }\r\n    if(res.success){\r\n      this.setState(state=>{\r\n        return {...state, redirectAfterSave: true}\r\n      });\r\n    } else {\r\n      this.setState(state=>{\r\n        return {...state, value: {}}\r\n      });\r\n    }\r\n  }\r\n  changeValue(value, field){\r\n    if(field === 'path'){\r\n      value = value.split('\\\\').join('/');\r\n      value = (value[0] !== '/') ? `/${value}` : value;\r\n    }\r\n    this.setState(state=>{\r\n      state = {...state};\r\n      state.value[field] = value;\r\n      return state\r\n    })\r\n  }*/\r\n  render() {\r\n    if(this.state.redirectAfterSave){\r\n      return<Redirect to=\"/admin/users\"/>\r\n    }\r\n    return <div className=\"admin-users\">\r\n        <div className=\"wrapper\">\r\n            <div className=\"admin-heading-users\">\r\n                <div className=\"admin-breadcrumbs\">\r\n                    <Link className=\"admin-breadcrumbs__link\" to={\"/admin/users\"}>Users</Link>\r\n                    <span className=\"admin-breadcrumbs__separator\">/</span>\r\n                    <span className=\"admin-breadcrumbs__current\">Add New Users</span>\r\n                </div>\r\n            </div>\r\n            <div className=\"admin-users-form\">\r\n                <UserForm redirect_url=\"/admin/users\"/>\r\n            </div>\r\n        </div>\r\n    </div>;\r\n  }\r\n}\r\n\r\nexport default withRouter(AddUserPage);","import React, {Component} from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\n\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\nimport {Redirect, withRouter} from 'react-router-dom';\r\nimport UserForm from \"./UserForm\";\r\n/**\r\n * @class\r\n * @property {Resource} resource\r\n */\r\n\r\nclass EditUserPage extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n        user_id: this.props.match.params.id,\r\n        redirectAfterSave: false,\r\n    };\r\n    this.resource = new Resource({route: '/admin/ajax/users/user'});\r\n    \r\n    //this.savePage = this.savePage.bind(this);\r\n  }\r\n  /*async componentDidMount(){\r\n    let res = await this.templateResource.getOptions();\r\n    this.setState(state=>{\r\n      return{...state, templates: res}\r\n    });\r\n    let id = this.props.location.pathname.split('/');\r\n    id = id[id.length - 1];\r\n    id = parseInt(id);\r\n    if(id){\r\n      let pageData = await this.resource.get(id);\r\n      this.setState(state=>{\r\n        return{...state, value:pageData, id}\r\n      });\r\n    }\r\n  }*/\r\n  /*async savePage(e){\r\n    e.preventDefault();\r\n    let res;\r\n    let path = this.state.value.path;\r\n\r\n    path = path.split('\\\\').join('/');\r\n    path = (path[0] !== '/') ? `/${path}` : path;\r\n    this.state.value.path = path;\r\n    if(this.state.id){\r\n      res = await this.resource.put(this.state.id, this.state.value);\r\n    } else {\r\n      res = await this.resource.post(this.state.value);\r\n    }\r\n    if(res.success){\r\n      this.setState(state=>{\r\n        return {...state, redirectAfterSave: true}\r\n      });\r\n    } else {\r\n      this.setState(state=>{\r\n        return {...state, value: {}}\r\n      });\r\n    }\r\n  }\r\n  changeValue(value, field){\r\n    if(field === 'path'){\r\n      value = value.split('\\\\').join('/');\r\n      value = (value[0] !== '/') ? `/${value}` : value;\r\n    }\r\n    this.setState(state=>{\r\n      state = {...state};\r\n      state.value[field] = value;\r\n      return state\r\n    })\r\n  }*/\r\n  render() {\r\n    if(this.state.redirectAfterSave){\r\n      return<Redirect to=\"/admin/users\"/>\r\n    }\r\n    return <div className=\"admin-users\">\r\n        <div className=\"wrapper\">\r\n            <div className=\"admin-heading-users\">\r\n                <div className=\"admin-breadcrumbs\">\r\n                    <Link className=\"admin-breadcrumbs__link\" to={\"/admin/users\"}>Users</Link>\r\n                    <span className=\"admin-breadcrumbs__separator\">/</span>\r\n                    <span className=\"admin-breadcrumbs__current\">Add New Users</span>\r\n                </div>\r\n            </div>\r\n            <div className=\"admin-users-form\">\r\n                <UserForm redirect_url=\"/admin/users\" id={this.state.user_id} />\r\n            </div>\r\n        </div>\r\n    </div>;\r\n  }\r\n}\r\n\r\nexport default withRouter(EditUserPage);","import React, {Component} from \"react\";\r\nimport {Tab, TabList, TabPanel, Tabs} from \"react-tabs\";\r\nimport Notifications from \"./Notifications/Notifications\";\r\nimport EditUserPage from \"./EditUserPage\";\r\nimport {withRouter} from 'react-router-dom';\r\n\r\n\r\nclass UserPage extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.switchTab = this.switchTab.bind(this);\r\n    this.state = {\r\n      activeTab: parseInt(window.location.hash[1]) || 0,\r\n    };\r\n  }\r\n\r\n  switchTab(activeTab){\r\n    window.location.hash = activeTab + '';\r\n    this.setState(state=>{return{ ...state, activeTab }})\r\n  }\r\n\r\n  render() {\r\n    return <div className=\"admin-settings admin-page\">\r\n                <div className=\"admin-content\">\r\n                    <Tabs selectedIndex={this.state.activeTab} onSelect={this.switchTab} >\r\n                        <TabList className=\"nav nav-pills admin-pills\">\r\n                            <Tab>\r\n                            Edit user\r\n                            </Tab>\r\n                            <Tab>\r\n                            Notifications\r\n                            </Tab>\r\n                        </TabList>\r\n                        <TabPanel>\r\n                            <EditUserPage/>\r\n                        </TabPanel>\r\n                        <TabPanel>\r\n                            <Notifications/>\r\n                        </TabPanel>\r\n                    </Tabs>\r\n                </div>\r\n            </div>\r\n  }\r\n}\r\n\r\nexport default withRouter(UserPage);\r\n","import React, {Component} from \"react\";\r\nimport PluginSvg from \"../../svgs/plugins.svg\";\r\n\r\nexport default class UsersTools extends Component{\r\n  render(){ return <div id=\"content\">\r\n\r\n          <div className=\"admin-heading-users\">\r\n            <div className=\"admin-breadcrumbs\">\r\n              <a className=\"admin-breadcrumbs__link\" href=\"#\">Users</a>\r\n              <span className=\"admin-breadcrumbs__separator\">/</span>\r\n              <span className=\"admin-breadcrumbs__current\">Tools</span>\r\n            </div>\r\n          </div>\r\n\r\n          <ul className=\"nav nav-tabs\">\r\n            <li className=\"nav-item\">\r\n              <a className=\"nav-link active\" href=\"#\">Tools</a>\r\n            </li>\r\n          </ul>\r\n          <div className=\"border border-top-0\">\r\n            <div className=\"row d-flex\">\r\n              <div className=\"col-sm-8 d-flex change-role\">\r\n\r\n                <span>Change role</span>\r\n                <select className=\"form-control form-control-sm\">\r\n                  <option value=\"1\">Editor</option>\r\n                  <option value=\"2\">Moderator</option>\r\n                </select>\r\n                <div className=\"form-check form-check-inline\">\r\n                  <input className=\"form-check-input\" type=\"checkbox\" value=\"\" id=\"checkbox__1\"/>\r\n                    <label className=\"form-check-label\" htmlFor=\"checkbox__1\">Readable features</label>\r\n                </div>\r\n\r\n              </div>\r\n            </div>\r\n            <div\r\n              className=\"row group-table border border-bottom-0 border-left-0 border-right-0 no-gutters\">\r\n              <div className=\"col-3\">\r\n                <span className=\"text-group\">Groups</span>\r\n                <span className=\"text-total\">(Total/Allowed)</span>\r\n              </div>\r\n              <div className=\"col-6 form-check form-check-inline\">\r\n                <input className=\"form-check-input\" type=\"checkbox\" id=\"checkbox__2\"/>\r\n                  <label className=\"form-check-label\" htmlFor=\"checkbox__2\">Fast filter:</label>\r\n\r\n                  <input type=\"search\" className=\"search-tools form-control-sm\" placeholder=\"\"\r\n                         aria-controls=\"example1\"/>\r\n                    <input className=\"form-check-input\" type=\"checkbox\" id=\"checkbox__3\"/>\r\n                      <label className=\"form-check-label\" htmlFor=\"checkbox__3\">Only Allowed</label>\r\n\r\n              </div>\r\n              <div className=\"col-3\">\r\n                <form action=\"#\" className=\"form-tools\">\r\n                  <button type=\"submit\" className=\"btn-tools\">Save Changes</button>\r\n                </form>\r\n\r\n              </div>\r\n            </div>\r\n            <div className=\"row group-table-trees border border-bottom-0 border-left-0 border-right-0 no-gutters\">\r\n              <div className=\"col-3\">\r\n                <div className=\"treeview\">\r\n                  <ul>\r\n                    <li>\r\n                      <div>\r\n                        <p>\r\n                          <a href=\"#\" className=\"core\">Core (112/2)</a>\r\n                        </p>\r\n                      </div>\r\n                      <ul>\r\n                        <li>\r\n                          <div>\r\n                            <p>\r\n                              <a href=\"#\">Dashboard (10/1)</a>\r\n                            </p>\r\n                            <p className=\"form-group-p\"><a href=\"#\">Rename</a><span> | </span><a\r\n                              href=\"#\">Copy</a><span> | </span><a href=\"#\">Delete</a></p>\r\n                          </div>\r\n                        </li>\r\n                        <li>\r\n                          <div>\r\n                            <p>\r\n                              <a href=\"#\">Assets (10/1)</a>\r\n                            </p>\r\n                          </div>\r\n                        </li>\r\n                        <li>\r\n                          <div>\r\n                            <p>\r\n                              <a href=\"#\">Tables (10/1)</a>\r\n                            </p>\r\n                          </div>\r\n                        </li>\r\n                        <li>\r\n                          <div>\r\n                            <p>\r\n                              <a href=\"#\">Templates (10/1)</a>\r\n                            </p>\r\n                          </div>\r\n                        </li>\r\n                        <li>\r\n                          <div>\r\n                            <p>\r\n                              <a href=\"#\">Reports (10/1)</a>\r\n                            </p>\r\n                          </div>\r\n                        </li>\r\n                        <li>\r\n                          <div>\r\n                            <p>\r\n                              <a href=\"#\">Users (10/1)</a>\r\n                            </p>\r\n                          </div>\r\n                        </li>\r\n                        <li>\r\n                          <div>\r\n                            <p>\r\n                              <a href=\"#\">Plugins (10/1)</a>\r\n                            </p>\r\n                          </div>\r\n                        </li>\r\n                        <li className=\"cl\">\r\n                          <div>\r\n                            <p>\r\n                              <a href=\"#\">Setings (42/5)</a>\r\n                            </p>\r\n                          </div>\r\n                          <ul className=\"l\">\r\n                            <li>\r\n                              <div>\r\n                                <p>\r\n                                  <a href=\"#\">Builder (10/2)</a>\r\n                                </p>\r\n                              </div>\r\n                            </li>\r\n                            <li>\r\n                              <div>\r\n                                <p>\r\n                                  <a href=\"#\">Import/Export (10/2)</a>\r\n                                </p>\r\n                              </div>\r\n                            </li>\r\n                            <li>\r\n                              <div>\r\n                                <p>\r\n                                  <a href=\"#\">Integration (10/2)</a>\r\n                                </p>\r\n                              </div>\r\n                            </li>\r\n                            <li>\r\n                              <div>\r\n                                <p>\r\n                                  <a href=\"#\">Sender (10/2)</a>\r\n                                </p>\r\n                              </div>\r\n                            </li>\r\n                            <li>\r\n                              <div>\r\n                                <p>\r\n                                  <a href=\"#\">Acquiring (10/2)</a>\r\n                                </p>\r\n                              </div>\r\n                            </li>\r\n                            <li>\r\n                              <div>\r\n                                <p>\r\n                                  <a href=\"#\">Tuner (10/2)</a>\r\n                                </p>\r\n                              </div>\r\n                            </li>\r\n                          </ul>\r\n                        </li>\r\n                      </ul>\r\n                    </li>\r\n                  </ul>\r\n                </div>\r\n\r\n              </div>\r\n              <div className=\"col-6 form-check form-check-group\">\r\n                <fieldset className=\"form-group\">\r\n                  <div className=\"row\">\r\n                    <div className=\"col-sm-10\">\r\n                      <div className=\"form-check\">\r\n                        <input className=\"form-check-input\" type=\"checkbox\" id=\"gridRadios1\" value=\"option1\" defaultChecked/>\r\n                          <label className=\"form-check-label\" htmlFor=\"gridRadios1\">\r\n                            Create Template\r\n                          </label>\r\n                          <p className=\"form-group-p\"><a href=\"#\">Rename</a><span> | </span><a\r\n                            href=\"#\">Copy</a><span> | </span><a href=\"#\">Delete</a></p>\r\n                      </div>\r\n                      <div className=\"form-check\">\r\n                        <input className=\"form-check-input\" type=\"checkbox\" id=\"gridRadios2\" value=\"option2\" defaultChecked/>\r\n                          <label className=\"form-check-label\" htmlFor=\"gridRadios2\">\r\n                            Duplicate Template\r\n                          </label>\r\n                      </div>\r\n                      <div className=\"form-check\">\r\n                        <input className=\"form-check-input\" type=\"checkbox\" id=\"gridRadios3\" value=\"option3\"/>\r\n                          <label className=\"form-check-label\" htmlFor=\"gridRadios3\">\r\n                            Activate / Deactivate Widgets\r\n                          </label>\r\n                      </div>\r\n                      <div className=\"form-check\">\r\n                        <input className=\"form-check-input\" type=\"checkbox\" id=\"gridRadios4\" value=\"option4\"/>\r\n                          <label className=\"form-check-label\" htmlFor=\"gridRadios4\">\r\n                            Setup Integration\r\n                          </label>\r\n                      </div>\r\n                      <div className=\"form-check\">\r\n                        <input className=\"form-check-input\" type=\"checkbox\" id=\"gridRadios5\" value=\"option5\"/>\r\n                          <label className=\"form-check-label\" htmlFor=\"gridRadios5\">\r\n                            Import / Export Templates\r\n                          </label>\r\n                      </div>\r\n                      <div className=\"form-check\">\r\n                        <input className=\"form-check-input\" type=\"checkbox\" id=\"gridRadios6\" value=\"option6\"/>\r\n                          <label className=\"form-check-label\" htmlFor=\"gridRadios6\">\r\n                            Delete Template\r\n                          </label>\r\n                      </div>\r\n                      <div className=\"form-check\">\r\n                        <input className=\"form-check-input\" type=\"checkbox\" id=\"gridRadios7\" value=\"option7\" defaultChecked/>\r\n                          <label className=\"form-check-label\" htmlFor=\"gridRadios7\">\r\n                            Edit Template\r\n                          </label>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </fieldset>\r\n              </div>\r\n              <div className=\"col-3 \">\r\n                <form action=\"#\" className=\"group-vertical\">\r\n                  <button type=\"submit\" className=\"btn btn-outline-dark btn-sm\">Add New Role</button>\r\n                  <button type=\"submit\" className=\"btn btn-outline-dark btn-sm\">Rename Role</button>\r\n                  <button type=\"submit\" className=\"btn btn-outline-dark btn-sm\">Delete Role</button>\r\n                  <button type=\"submit\" className=\"btn btn-outline-dark btn-sm\">Add New Group</button>\r\n                  <button type=\"submit\" className=\"btn btn-outline-dark btn-sm\">Add New Permission</button>\r\n                  <button type=\"submit\" className=\"btn btn-outline-dark btn-sm\">Tools Export</button>\r\n                  <button type=\"submit\" className=\"btn btn-outline-dark btn-sm\">Tools Import</button>\r\n                </form>\r\n                <form action=\"#\" className=\"dangerous\">\r\n                  <span>Warning! that “Reset” action could be dangerous</span>\r\n                  <button type=\"submit\" className=\"btn-danger\">RESET</button>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n  }\r\n}\r\n","import React from 'react';\r\nimport { FormSpy } from 'react-final-form'\r\nimport diff from 'object-diff';\r\n\r\nclass AutoSave extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = { values: props.values, submitting: false }\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n        if (this.timeout) {\r\n            clearTimeout(this.timeout)\r\n        }\r\n        this.timeout = setTimeout(this.save, this.props.debounce)\r\n    }\r\n\r\n    save = async () => {\r\n        if (this.promise) {\r\n            await this.promise\r\n        }\r\n        const { values, save } = this.props\r\n\r\n        const difference = diff(this.state.values, values)\r\n        if (Object.keys(difference).length) {\r\n            this.setState({ submitting: true, values })\r\n            this.promise = save(difference)\r\n            await this.promise\r\n            delete this.promise\r\n            this.props.updateAsset(this.state.values.id, this.state.values)\r\n\r\n            this.setState({ submitting: false })\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            this.state.submitting && <div className=\"document-detail__save-notification\">Saved.</div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default props => (\r\n    <FormSpy {...props} subscription={{ values: true }} component={AutoSave} />\r\n)","import React from 'react';\r\nimport { Form, Field } from 'react-final-form';\r\nimport ArrowBackIosIcon from '@material-ui/icons/ArrowBackIos';\r\nimport ArrowForwardIosIcon from '@material-ui/icons/ArrowForwardIos';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport AutoSave from './AutoSaveDocumentDetail';\r\nimport { CopyToClipboard } from 'react-copy-to-clipboard';\r\nimport { createGlobalStyle } from \"styled-components\";\r\n\r\nconst GlobalStyle = createGlobalStyle`\r\n  #admin {\r\n    overflow: hidden;\r\n  }\r\n`;\r\n\r\nconst sleep = ms => new Promise(resolve => setTimeout(resolve, ms))\r\n\r\nexport class ImageDetail extends React.Component {\r\n    state = {}\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if (prevProps.imageId !== this.props.imageId && this.props.imageId !== null) {\r\n            this.props.getAsset(this.props.imageId).then(data => this.setState(data, () => { this.getAuthorList(this.state.author) }))\r\n        }\r\n    }\r\n\r\n    getAuthorList = (id) => {\r\n        this.props.getAuthorList().then(data => {\r\n            let author = data.find(item => item.id == id);\r\n            this.setState({\r\n                authorName: author.name,\r\n            })\r\n        })\r\n    }\r\n\r\n    deleteAsset(imageId) {\r\n        this.props.deleteAsset(imageId)\r\n    }\r\n\r\n    save = async values => {\r\n        if (values.width !== undefined) {\r\n            this.setState({\r\n                width: values.width\r\n            })\r\n        }\r\n        if (values.height !== undefined) {\r\n            this.setState({\r\n                height: values.height\r\n            })\r\n        }\r\n        await sleep(1000)\r\n    }\r\n\r\n    render() {\r\n        const { authorName, url, created_at, filename, media_type, height, width } = this.state\r\n\r\n        if (!this.props.imageId) return null;\r\n\r\n        return (\r\n            <div>\r\n                <GlobalStyle />\r\n                <div onClick={this.props.closeImageDetail} className=\"document-detail_opacity-background\"></div>\r\n                <div className=\"document-detail\">\r\n                    <div className=\"document-detail_header\">\r\n                        <div className=\"document-detail__title\">Attachment details</div>\r\n                        <div className=\"document-detail__btn-nav-group\">\r\n                            {this.props.havePreviousImage\r\n                                ? <button onClick={this.props.prevImageDetail} className=\"document-detail__btn-nav\"><ArrowBackIosIcon fontSize=\"small\" /></button>\r\n                                : <button onClick={this.props.prevImageDetail} disabled className=\"document-detail__btn-nav\"><ArrowBackIosIcon fontSize=\"small\" /></button>}\r\n                            {this.props.haveNextImage\r\n                                ? <button onClick={this.props.nextImageDetail} className=\"document-detail__btn-nav\"><ArrowForwardIosIcon fontSize=\"small\" /></button>\r\n                                : <button onClick={this.props.nextImageDetail} disabled className=\"document-detail__btn-nav\"><ArrowForwardIosIcon fontSize=\"small\" /></button>}\r\n                            <button onClick={this.props.closeImageDetail} className=\"document-detail__btn-nav\"><CloseIcon fontSize=\"small\" /></button>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"document-detail__content\">\r\n                        <div className=\"document-detail__display\">\r\n                            <img className=\"document-detail__image\" width={width} height={height} src={url} draggable=\"false\" alt=\"\" />\r\n                            <button className=\"document-detail__btn document-detail__btn-edit-image\">Edit image</button>\r\n                        </div>\r\n                        <div className=\"document-detail__editing-section\">\r\n                            <div className=\"document-detail__data-wrap\">\r\n                                <div className=\"document-detail__data\">\r\n                                    <div>Uploaded on: <span className=\"document-detail__data-result\">{created_at}</span></div>\r\n                                    <div>Uploaded by: <span className=\"document-detail__data-result\">{authorName}</span></div>\r\n                                    <div>File name: <span className=\"document-detail__data-result\">{filename}</span></div>\r\n                                    <div>File type: <span className=\"document-detail__data-result\">{media_type}</span></div>\r\n                                    <div>File size: <span className=\"document-detail__data-result\">7 KB</span></div>\r\n                                    <div>Dimensions: <span className=\"document-detail__data-result\">{height} by {width} pixels</span></div>\r\n                                </div>\r\n                            </div>\r\n                            <Form initialValues={this.state} onSubmit={this.save}>\r\n                                {props => (\r\n                                    <form onSubmit={props.handleSubmit}>\r\n                                        <AutoSave updateAsset={this.props.updateAsset} debounce={1000} save={this.save} />\r\n                                        <div className=\"document-detail__line-to-change\"><span className=\"document-detail__name-of-changes\">Alternative Text</span><Field\r\n                                            name=\"alternate_text\"\r\n                                            label=\"Alt\"\r\n                                            component=\"input\"\r\n                                            type=\"text\"\r\n                                            className=\"document-detail__input\"\r\n                                        /></div>\r\n                                        <div className=\"document-detail__line-to-change\"><span className=\"document-detail__name-of-changes\">Title</span><Field\r\n                                            name=\"title\"\r\n                                            label=\"Title\"\r\n                                            component=\"input\"\r\n                                            type=\"text\"\r\n                                            className=\"document-detail__input\"\r\n                                        /></div>\r\n                                        <div className=\"document-detail__line-to-change\"><span className=\"document-detail__name-of-changes\">Caption</span><Field\r\n                                            name=\"caption\"\r\n                                            label=\"Caption\"\r\n                                            component=\"textarea\"\r\n                                            type=\"text\"\r\n                                            className=\"document-detail__textarea\"\r\n                                        /></div>\r\n                                        <div className=\"document-detail__line-to-change\"><span className=\"document-detail__name-of-changes\">Description</span><Field\r\n                                            name=\"description\"\r\n                                            label=\"Description\"\r\n                                            component=\"textarea\"\r\n                                            type=\"text\"\r\n                                            className=\"document-detail__textarea\"\r\n                                        /></div>\r\n                                        <div className=\"document-detail__line-to-change\"><span className=\"document-detail__name-of-changes\">Width</span><Field\r\n                                            name=\"width\"\r\n                                            label=\"Width\"\r\n                                            component=\"input\"\r\n                                            type=\"text\"\r\n                                            className=\"document-detail__input\"\r\n                                        /></div>\r\n                                        <div className=\"document-detail__line-to-change\"><span className=\"document-detail__name-of-changes\">Height</span><Field\r\n                                            name=\"height\"\r\n                                            label=\"Height\"\r\n                                            component=\"input\"\r\n                                            type=\"text\"\r\n                                            className=\"document-detail__input\"\r\n                                        /></div>\r\n                                        <div className=\"document-detail__line-to-change_uploated-by\">Uploated By<span className=\"document-detail__name-of-changes__uploated-by\">{authorName}</span></div>\r\n                                        <div className=\"document-detail__line-to-change\"><span className=\"document-detail__name-of-changes\">File URL:</span><Field\r\n                                            name=\"url\"\r\n                                            label=\"File URL\"\r\n                                            component=\"input\"\r\n                                            type=\"text\"\r\n                                            className=\"document-detail__input\"\r\n                                        /></div>\r\n                                        <div><CopyToClipboard text={props.values.url}><button className=\"document-detail__btn document-detail__btn-copy-url\">Copy URL to clipboard</button></CopyToClipboard></div>\r\n                                        <div className=\"document-detail__btn-delete-wrap\"><button onClick={() => this.deleteAsset(props.values.id)} className=\"document-detail__btn-delete\">Delete permanently</button></div>\r\n                                    </form >\r\n                                )\r\n                                }\r\n                            </Form>\r\n                        </div >\r\n                    </div >\r\n                </div >\r\n            </div>\r\n        )\r\n    }\r\n}","import React from 'react';\r\nimport { Form, Field } from 'react-final-form';\r\nimport ArrowBackIosIcon from '@material-ui/icons/ArrowBackIos';\r\nimport ArrowForwardIosIcon from '@material-ui/icons/ArrowForwardIos';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport AutoSave from './AutoSaveDocumentDetail';\r\nimport { createGlobalStyle } from \"styled-components\";\r\n\r\nconst GlobalStyle = createGlobalStyle`\r\n  #admin {\r\n    overflow: hidden;\r\n  }\r\n`;\r\n\r\nconst sleep = ms => new Promise(resolve => setTimeout(resolve, ms))\r\n\r\nconst save = async values => {\r\n    await sleep(1000)\r\n}\r\n\r\nexport class FontsDetail extends React.Component {\r\n    state = {}\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if (prevProps.fontId !== this.props.fontId && this.props.fontId !== null) {\r\n            this.props.getAsset(this.props.fontId).then(data => this.setState(data, () => { this.getAuthorList(this.state.author) }))\r\n        }\r\n    }\r\n\r\n    getAuthorList = (id) => {\r\n        this.props.getAuthorList().then(data => {\r\n            let author = data.find(item => item.id == id);\r\n            this.setState({\r\n                authorName: author.name,\r\n            })\r\n        })\r\n    }\r\n    \r\n    deleteAsset(id) {\r\n        this.props.deleteAsset(id)\r\n    }\r\n\r\n    render() {\r\n        const { authorName, created_at, filename, media_type } = this.state\r\n\r\n        if (!this.props.fontId) return null;\r\n\r\n        return (\r\n            <div>\r\n                <GlobalStyle />\r\n                <div onClick={this.props.closeFontDetail} className=\"document-detail_opacity-background\"></div>\r\n                <div className=\"document-detail\">\r\n                    <div className=\"document-detail_header\">\r\n                        <div className=\"document-detail__title\">Attachment details</div>\r\n                        <div className=\"document-detail__btn-nav-group\">\r\n                            {this.props.havePreviousImage\r\n                                ? <button onClick={this.props.prevFontDetail} className=\"document-detail__btn-nav\"><ArrowBackIosIcon fontSize=\"small\" /></button>\r\n                                : <button onClick={this.props.prevFontDetail} disabled className=\"document-detail__btn-nav\"><ArrowBackIosIcon fontSize=\"small\" /></button>}\r\n                            {this.props.haveNextImage\r\n                                ? <button onClick={this.props.nextFontDetail} className=\"document-detail__btn-nav\"><ArrowForwardIosIcon fontSize=\"small\" /></button>\r\n                                : <button onClick={this.props.nextFontDetail} disabled className=\"document-detail__btn-nav\"><ArrowForwardIosIcon fontSize=\"small\" /></button>}\r\n                            <button onClick={this.props.closeFontDetail} className=\"document-detail__btn-nav\"><CloseIcon fontSize=\"small\" /></button>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"document-detail__content\">\r\n                        <div className=\"document-detail__display\">\r\n                            \r\n                        </div>\r\n                        <div className=\"document-detail__editing-section\">\r\n                            <div className=\"document-detail__data-wrap\">\r\n                                <div className=\"document-detail__data\">\r\n                                    <div>Uploaded on: <span className=\"document-detail__data-result\">{created_at}</span></div>\r\n                                    <div>Uploaded by: <span className=\"document-detail__data-result\">{authorName}</span></div>\r\n                                    <div>File name: <span className=\"document-detail__data-result\">{filename}</span></div>\r\n                                    <div>File type: <span className=\"document-detail__data-result\">{media_type}</span></div>\r\n                                    <div>File size: <span className=\"document-detail__data-result\">7 KB</span></div>\r\n                                </div>\r\n                            </div>\r\n                            <Form initialValues={this.state} onSubmit={save}>\r\n                                {props => (\r\n                                    <form onSubmit={props.handleSubmit}>\r\n                                        <AutoSave updateAsset={this.props.updateAsset} debounce={1000} save={save} />\r\n                                        <div className=\"document-detail__line-to-change\"><span className=\"document-detail__name-of-changes\">Font Family</span><Field\r\n                                            name=\"font_family\"\r\n                                            component=\"input\"\r\n                                            type=\"text\"\r\n                                            className=\"document-detail__input\"\r\n                                        /></div>\r\n                                        <div className=\"document-detail__line-to-change\"><span className=\"document-detail__name-of-changes\">Font Name</span><Field\r\n                                            name=\"font_name\"\r\n                                            component=\"input\"\r\n                                            type=\"text\"\r\n                                            className=\"document-detail__input\"\r\n                                        /></div>\r\n                                        <div className=\"document-detail__btn-delete-wrap\"><button onClick={() => this.deleteAsset(props.values.id)} className=\"document-detail__btn-delete\">Delete permanently</button></div>\r\n                                    </form >\r\n                                )\r\n                                }\r\n                            </Form>\r\n                        </div >\r\n                    </div >\r\n                </div >\r\n            </div>\r\n        )\r\n    }\r\n}","import React, { Component } from \"react\";\r\nimport { NavLink, withRouter } from \"react-router-dom\";\r\n\r\nimport { iconsManager } from \"../js/helpers\";\r\nimport Resource from \"../../../editor/src/js/classes/Resource\";\r\nimport { ImageDetail } from \"./ImageDetail\";\r\nimport { FontsDetail } from \"./FontsDetail\";\r\n\r\nclass Assets extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.onDragOver = this.onDragOver.bind(this);\r\n    this.onDragLeave = this.onDragLeave.bind(this);\r\n    this.onDrop = this.onDrop.bind(this);\r\n    this.onChange = this.onChange.bind(this);\r\n    this.deleteClick = this.deleteClick.bind(this);\r\n    this.isActiveLink = this.isActiveLink.bind(this);\r\n    this.changeUrlForTab = this.changeUrlForTab.bind(this);\r\n    this.state = {\r\n      uploaderClasses: 'admin-assets__uploader uploader',\r\n      assets: [],\r\n      acceptInput: '',\r\n      itemDeleteClasses: 'item__delete',\r\n      activeLink: '',\r\n      imageId: null,\r\n      fontId: null,\r\n      havePreviousImage: true,\r\n      haveNextImage: true,\r\n      haveNextFont: true,\r\n      havePreviousFont: true,\r\n    };\r\n    this.typesFiles = {\r\n      images: ['png', 'gif', 'jpg', 'jpeg', 'webp'],\r\n      svgs: ['svg'],\r\n      fonts: ['ttf', 'otf', 'woff', 'woff2', 'eot'],\r\n      archives: ['zip', 'rar'],\r\n      documents: ['doc', 'docx', 'xls', 'xlsx', 'ppt', 'odt', 'ods', 'odp'],\r\n      medias: ['wav', 'mp3', 'mp4', 'avi', 'webm'],\r\n      others: ['']\r\n    };\r\n    this.resource = new Resource({ route: '/admin/ajax/media' });\r\n  }\r\n\r\n  deleteClick(e) {\r\n    let assetId = e.currentTarget.dataset.assetid;\r\n    this.setState(state => {\r\n      return { ...state, itemDeleteClasses: 'item__delete altrp-disabled' }\r\n    });\r\n    this.resource.delete(assetId).then(res => {\r\n      if (res.success) {\r\n        let newAssets = [...this.state.assets];\r\n        newAssets = _.filter(newAssets, item => !(item.id === Number(assetId)));\r\n        this.setState(state => {\r\n          return { ...state, assets: newAssets, itemDeleteClasses: 'item__delete' };\r\n        })\r\n      }\r\n    });\r\n  }\r\n  updateAssets(files) {\r\n    this.resource.postFiles(files).then(res => {\r\n      if (res.length) {\r\n        const activeLink = this.changeUrlForTab();\r\n        this.filterAssets(activeLink);\r\n      }\r\n    })\r\n  }\r\n  getAsset = (assetId) => {\r\n    // get request by asset id\r\n    return this.resource.get(assetId)\r\n  }\r\n  getAuthorList = () => {\r\n    return this.resource.getAuthorList()\r\n  }\r\n  updateAsset = (assetId, data) => {\r\n    // update request by asset id\r\n    return this.resource.put(assetId, data)\r\n  }\r\n  deleteAsset = (id) => {\r\n    this.setState(state => {\r\n      return { ...state, itemDeleteClasses: 'item__delete altrp-disabled' }\r\n    });\r\n    this.resource.delete(id).then(res => {\r\n      if (res.success) {\r\n        let newAssets = [...this.state.assets];\r\n        newAssets = _.filter(newAssets, item => !(item.id === Number(id)));\r\n        this.setState(state => {\r\n          return { ...state, assets: newAssets, itemDeleteClasses: 'item__delete', imageId: null, fontId: null };\r\n        })\r\n      }\r\n    });\r\n  }\r\n  onDrop(e) {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    this.updateAssets(e.dataTransfer.files);\r\n    this.setState(state => {\r\n      return { ...state, uploaderClasses: 'admin-assets__uploader uploader' }\r\n    });\r\n  }\r\n  componentDidMount() {\r\n    const activeLink = this.changeUrlForTab();\r\n    this.filterAssets(activeLink);\r\n  }\r\n  componentDidUpdate() {\r\n    this.changeUrlForTab();\r\n  }\r\n  onChange(e) {\r\n    this.updateAssets(e.target.files);\r\n  }\r\n  onDragOver(e) {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    this.setState(state => {\r\n      return { ...state, uploaderClasses: 'admin-assets__uploader uploader uploader_drag-over' }\r\n    });\r\n  }\r\n  onDragLeave() {\r\n    this.setState(state => {\r\n      return { ...state, uploaderClasses: 'admin-assets__uploader uploader' }\r\n    });\r\n  }\r\n  isActiveLink(linkName) {\r\n    return (_, location) => {\r\n      const arrayPathname = location.pathname.split('/');\r\n      const currentLink = arrayPathname[arrayPathname.length - 1];\r\n      if (currentLink === linkName) return true;\r\n      return false;\r\n    }\r\n  }\r\n  onFilterAssets(activeLink) {\r\n    return () => this.filterAssets(activeLink);\r\n\r\n  }\r\n  filterAssets(activeLink) {\r\n    this.setState(state => {\r\n      return { ...state, acceptInput: `.${this.typesFiles[activeLink].join(', .')}` }\r\n    });\r\n    let filterResource = new Resource({ route: `/admin/ajax/media?type=${activeLink.slice(0, -1)}` });\r\n    filterResource.getAll().then(res => {\r\n      this.setState(state => {\r\n        return { ...state, assets: res }\r\n      })\r\n    });\r\n    this.setState((state => {\r\n      return { ...state, activeLink }\r\n    }));\r\n  }\r\n  changeUrlForTab() {\r\n    const { location, history } = this.props;\r\n    this.path = location.pathname;\r\n    const arrayPathname = location.pathname.split('/');\r\n    if (arrayPathname[arrayPathname.length - 1] === 'assets') {\r\n      history.push(`${this.path}/images`);\r\n      return 'images';\r\n    } else {\r\n      const activeLink = arrayPathname.pop();\r\n      this.path = arrayPathname.join('/');\r\n      return activeLink;\r\n    }\r\n  }\r\n  checkingFirstOrLastDocument(id) {\r\n    let indexCurrentDocumentInArray = this.state.assets.findIndex(item => item.id == id)\r\n    if (indexCurrentDocumentInArray === 0) {\r\n      this.setState({\r\n        havePreviousImage: false,\r\n      })\r\n    } else if (indexCurrentDocumentInArray === this.state.assets.length - 1) {\r\n      this.setState({\r\n        haveNextImage: false,\r\n      })\r\n    } else {\r\n      this.setState({\r\n        haveNextImage: true,\r\n        havePreviousImage: true,\r\n      })\r\n    }\r\n  }\r\n  openImageDetail(id) {\r\n    this.checkingFirstOrLastDocument(id)\r\n    this.setState({ imageId: id })\r\n  }\r\n  nextImageDetail = () => {\r\n    let indexCurrentImageInArray = this.state.assets.findIndex(item => item.id == this.state.imageId)\r\n    let indexNextImageInArray = indexCurrentImageInArray + 1\r\n    this.checkingFirstOrLastDocument(this.state.assets[indexNextImageInArray].id)\r\n    this.setState({ imageId: this.state.assets[indexNextImageInArray].id })\r\n  }\r\n  prevImageDetail = () => {\r\n    let indexCurrentImageInArray = this.state.assets.findIndex(item => item.id == this.state.imageId)\r\n    let indexPrevImageInArray = indexCurrentImageInArray - 1\r\n    this.checkingFirstOrLastDocument(this.state.assets[indexPrevImageInArray].id)\r\n    this.setState({ imageId: this.state.assets[indexPrevImageInArray].id })\r\n  }\r\n  closeImageDetail = () => {\r\n    this.setState({\r\n      imageId: null,\r\n      haveNextImage: true,\r\n      havePreviousImage: true,\r\n    })\r\n  }\r\n  openDocumentDetail(id) {\r\n    this.checkingFirstOrLastDocument(id)\r\n    this.setState({ fontId: id })\r\n  }\r\n  nextFontDetail = () => {\r\n    let indexCurrentFontInArray = this.state.assets.findIndex(item => item.id == this.state.fontId)\r\n    let indexNextFontInArray = indexCurrentFontInArray + 1\r\n    this.checkingFirstOrLastDocument(this.state.assets[indexNextFontInArray].id)\r\n    this.setState({ fontId: this.state.assets[indexNextFontInArray].id })\r\n  }\r\n  prevFontDetail = () => {\r\n    let indexCurrentFontInArray = this.state.assets.findIndex(item => item.id == this.state.fontId)\r\n    let indexPrevFontInArray = indexCurrentFontInArray - 1\r\n    this.checkingFirstOrLastDocument(this.state.assets[indexPrevFontInArray].id)\r\n    this.setState({ fontId: this.state.assets[indexPrevFontInArray].id })\r\n  }\r\n  closeFontDetail = () => {\r\n    this.setState({\r\n      fontId: null,\r\n      haveNextFont: true,\r\n      havePreviousFont: true,\r\n    })\r\n  }\r\n  render() {\r\n    let UploadIcon = iconsManager().getIconComponent('upload');\r\n    let CloseIcon = iconsManager().getIconComponent('close');\r\n    let AviIcon = iconsManager().getIconComponent('avi');\r\n    return <div className=\"admin-assets admin-page\">\r\n      <div className=\"admin-heading\">\r\n        <div className=\"admin-breadcrumbs\">\r\n          <a className=\"admin-breadcrumbs__link\" href=\"#\">Assets</a>\r\n          <span className=\"admin-breadcrumbs__separator\">/</span>\r\n          <span className=\"admin-breadcrumbs__current\">All Assets</span>\r\n        </div>\r\n      </div>\r\n      <div className=\"admin-content\">\r\n        <div className={this.state.uploaderClasses}\r\n          onDragLeave={this.onDragLeave}\r\n          onDrop={this.onDrop}\r\n          onDragOver={this.onDragOver}>\r\n          <label className=\"uploader__label d-flex flex-column align-items-center\">\r\n            <UploadIcon width={100} height={100} className=\"icon\" />\r\n            <input\r\n              type=\"file\"\r\n              accept={this.state.acceptInput}\r\n              multiple={true}\r\n              onChange={this.onChange}\r\n              className=\"uploader__input\" />\r\n            <span className=\"uploader__text text text_bold\">\r\n              Drag or Choose File\r\n            </span>\r\n          </label>\r\n        </div>\r\n        <div className=\"custom-tab__tabs mt-4\">\r\n          <NavLink\r\n            className=\"custom-tab__tab\"\r\n            activeClassName=\"custom-tab__tab--selected\"\r\n            to={`${this.path}/images`}\r\n            isActive={this.isActiveLink('images')}\r\n            onClick={this.onFilterAssets('images')}\r\n          >IMAGES</NavLink>\r\n          <NavLink\r\n            className=\"custom-tab__tab\"\r\n            activeClassName=\"custom-tab__tab--selected\"\r\n            to={`${this.path}/documents`}\r\n            isActive={this.isActiveLink('documents')}\r\n            onClick={this.onFilterAssets('documents')}\r\n          >DOCUMENTS</NavLink>\r\n          <NavLink\r\n            className=\"custom-tab__tab\"\r\n            activeClassName=\"custom-tab__tab--selected\"\r\n            to={`${this.path}/fonts`}\r\n            isActive={this.isActiveLink('fonts')}\r\n            onClick={this.onFilterAssets('fonts')}\r\n          >FONTS</NavLink>\r\n          <NavLink\r\n            className=\"custom-tab__tab\"\r\n            activeClassName=\"custom-tab__tab--selected\"\r\n            to={`${this.path}/svgs`}\r\n            isActive={this.isActiveLink('svgs')}\r\n            onClick={this.onFilterAssets('svgs')}\r\n          >SVGS</NavLink>\r\n          <NavLink\r\n            className=\"custom-tab__tab\"\r\n            activeClassName=\"custom-tab__tab--selected\"\r\n            to={`${this.path}/archives`}\r\n            isActive={this.isActiveLink('archives')}\r\n            onClick={this.onFilterAssets('archives')}\r\n          >ARCHIVES</NavLink>\r\n          <NavLink\r\n            className=\"custom-tab__tab\"\r\n            activeClassName=\"custom-tab__tab--selected\"\r\n            to={`${this.path}/medias`}\r\n            isActive={this.isActiveLink('medias')}\r\n            onClick={this.onFilterAssets('medias')}\r\n          >MEDIAS</NavLink>\r\n          <NavLink\r\n            className=\"custom-tab__tab\"\r\n            activeClassName=\"custom-tab__tab--selected\"\r\n            to={`${this.path}/others`}\r\n            isActive={this.isActiveLink('others')}\r\n            onClick={this.onFilterAssets('others')}\r\n          >OTHERS</NavLink>\r\n        </div>\r\n        <div className=\"admin-assets__list custom-tab__tab-panel p-4 assets-list d-flex flex-wrap\">\r\n          {\r\n            this.state.assets.map(asset => {\r\n              return (\r\n                <div className=\"assets-list__item item col-1\" key={asset.id} >\r\n                  {(() => {\r\n                    if (this.state.activeLink === 'images' ||\r\n                      this.state.activeLink === 'svgs')\r\n                      return (\r\n                        <div onClick={() => this.openImageDetail(asset.id)} className=\"item__background\"\r\n                          style={{ 'backgroundImage': `url('${asset.url}')` }} />\r\n                      )\r\n                    let typeIcon = asset.url.split('.').pop();\r\n                    let IconFile = iconsManager().getIconComponent('file');\r\n                    this.typesFiles[this.state.activeLink].forEach((type) => {\r\n                      if (typeIcon === type) {\r\n                        IconFile = iconsManager().getIconComponent(typeIcon);\r\n                        return <IconFile className=\"item__icon-background\" />\r\n                      }\r\n                    });\r\n                    return <IconFile onClick={() => this.openDocumentDetail(asset.id)} className=\"item__icon-background\" />\r\n                  }\r\n                  )()}\r\n                  <button className={this.state.itemDeleteClasses}\r\n                    data-assetid={asset.id}\r\n                    title=\"Delete\"\r\n                    onClick={this.deleteClick}>\r\n                    <CloseIcon className=\"item__delete-icon\" />\r\n                  </button>\r\n                </div>\r\n              )\r\n            }\r\n            )\r\n          }\r\n        </div>\r\n      </div>\r\n      <div>\r\n        <ImageDetail getAuthorList={this.getAuthorList} havePreviousImage={this.state.havePreviousImage} haveNextImage={this.state.haveNextImage} updateAsset={this.updateAsset} getAsset={this.getAsset} deleteAsset={this.deleteAsset} imageId={this.state.imageId} closeImageDetail={this.closeImageDetail} nextImageDetail={this.nextImageDetail} prevImageDetail={this.prevImageDetail} />\r\n        <FontsDetail nextFontDetail={this.nextFontDetail} prevFontDetail={this.prevFontDetail} closeFontDetail={this.closeFontDetail} getAuthorList={this.getAuthorList} getAsset={this.getAsset} fontId={this.state.fontId} deleteAsset={this.deleteAsset} />\r\n      </div>\r\n    </div>;\r\n  }\r\n\r\n}\r\n\r\nexport default withRouter(Assets);","export const BAR = \"CHART/BAR\";\r\nexport const PIE = \"CHART/PIE\";\r\nexport const DONUT = \"CHART/DONUT\";\r\nexport const AREA = \"CHART/AREA\";\r\nexport const LINE = \"CHART/LINE\";\r\nexport const TABLE = \"CHART/TABLE\";\r\nexport const POINT = \"CHART/POINT\";\r\n\r\nexport const widgetTypes = [\r\n  { name: \"Столбцы\", value: BAR },\r\n  { name: \"Круговая\", value: PIE },\r\n  { name: \"Графики\", value: LINE },\r\n  { name: \"Таблица\", value: TABLE },\r\n  { name: \"Точечная\", value: POINT }\r\n];\r\n\r\nexport const getTypeName = value =>\r\n  widgetTypes.find(w => w.value === value).name;\r\n\r\nexport const customStyle = [\r\n  \"#FFEC00\",\r\n  \"#6F6E6E\",\r\n  \"#F6E36A\",\r\n  \"#979797\",\r\n  \"#FEF367\",\r\n  \"#979678\",\r\n  \"#CFBF00\",\r\n  \"#706B46\",\r\n  \"#A59103\",\r\n  \"#444444\"\r\n];\r\n","import React from \"react\";\r\n\r\nconst Spinner = () => {\r\n  return (\r\n    <div className=\"spinner-container\">\r\n      <div\r\n        className=\"spinner-border\"\r\n        style={{ width: \"3rem\", height: \"3rem\" }}\r\n        role=\"status\"\r\n      >\r\n        <span className=\"sr-only\">Загрузка...</span>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Spinner;\r\n","import React from \"react\";\r\n\r\nconst EmptyWidget = ({ text }) => {\r\n  return (\r\n    <div className=\"spinner-container\">\r\n      <div className=\"spinner-container__text\">{text ? text : \"Данные обрабатываются\"}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EmptyWidget;\r\n","const Schemes = [\r\n  {\r\n    label: \"Regagro\",\r\n    value: \"regagro\",\r\n    colors: [\r\n      \"#FFEC00\",\r\n      \"#6F6E6E\",\r\n      \"#F6E36A\",\r\n      \"#979797\",\r\n      \"#FEF367\",\r\n      \"#979678\",\r\n      \"#CFBF00\",\r\n      \"#706B46\",\r\n      \"#A59103\",\r\n      \"#444444\"\r\n    ]\r\n  },\r\n  {\r\n    label: \"nivo\",\r\n    value: \"nivo\",\r\n    colors: [\"#e8c1a0\", \"#f47560\", \"#f1e15b\", \"#e8a838\", \"#61cdbb\", \"#97e3d5\"]\r\n  },\r\n  {\r\n    label: \"category10\",\r\n    value: \"category10\",\r\n    colors: [\r\n      \"#1f77b4\",\r\n      \"#ff7f0e\",\r\n      \"#2ca02c\",\r\n      \"#d62728\",\r\n      \"#9467bd\",\r\n      \"#8c564b\",\r\n      \"#e377c2\",\r\n      \"#7f7f7f\",\r\n      \"#bcbd22\",\r\n      \"#17becf\"\r\n    ]\r\n  },\r\n  {\r\n    label: \"accent\",\r\n    value: \"accent\",\r\n    colors: [\r\n      \"#7fc97f\",\r\n      \"#beaed4\",\r\n      \"#fdc086\",\r\n      \"#ffff99\",\r\n      \"#386cb0\",\r\n      \"#f0027f\",\r\n      \"#bf5b17\",\r\n      \"#666666\"\r\n    ]\r\n  },\r\n  {\r\n    label: \"dark2\",\r\n    value: \"dark2\",\r\n    colors: [\r\n      \"#1b9e77\",\r\n      \"#d95f02\",\r\n      \"#7570b3\",\r\n      \"#e7298a\",\r\n      \"#66a61e\",\r\n      \"#e6ab02\",\r\n      \"#a6761d\",\r\n      \"#666666\"\r\n    ]\r\n  },\r\n  {\r\n    label: \"paired\",\r\n    value: \"paired\",\r\n    colors: [\r\n      \"#a6cee3\",\r\n      \"#1f78b4\",\r\n      \"#b2df8a\",\r\n      \"#33a02c\",\r\n      \"#fb9a99\",\r\n      \"#e31a1c\",\r\n      \"#fdbf6f\",\r\n      \"#ff7f00\",\r\n      \"#cab2d6\",\r\n      \"#6a3d9a\",\r\n      \"#ffff99\",\r\n      \"#b15928\"\r\n    ]\r\n  },\r\n  {\r\n    label: \"pastel1\",\r\n    value: \"pastel1\",\r\n    colors: [\r\n      \"#fbb4ae\",\r\n      \"#b3cde3\",\r\n      \"#ccebc5\",\r\n      \"#decbe4\",\r\n      \"#fed9a6\",\r\n      \"#ffffcc\",\r\n      \"#e5d8bd\",\r\n      \"#fddaec\",\r\n      \"#f2f2f2\"\r\n    ]\r\n  },\r\n  {\r\n    label: \"pastel2\",\r\n    value: \"pastel2\",\r\n    colors: [\r\n      \"#b3e2cd\",\r\n      \"#fdcdac\",\r\n      \"#cbd5e8\",\r\n      \"#f4cae4\",\r\n      \"#e6f5c9\",\r\n      \"#fff2ae\",\r\n      \"#f1e2cc\",\r\n      \"#cccccc\"\r\n    ]\r\n  },\r\n  {\r\n    label: \"set1\",\r\n    value: \"set1\",\r\n    colors: [\r\n      \"#e41a1c\",\r\n      \"#377eb8\",\r\n      \"#4daf4a\",\r\n      \"#984ea3\",\r\n      \"#ff7f00\",\r\n      \"#ffff33\",\r\n      \"#a65628\",\r\n      \"#f781bf\",\r\n      \"#999999\"\r\n    ]\r\n  },\r\n  {\r\n    label: \"set2\",\r\n    value: \"set2\",\r\n    colors: [\r\n      \"#66c2a5\",\r\n      \"#fc8d62\",\r\n      \"#8da0cb\",\r\n      \"#e78ac3\",\r\n      \"#a6d854\",\r\n      \"#ffd92f\",\r\n      \"#e5c494\",\r\n      \"#b3b3b3\"\r\n    ]\r\n  },\r\n  {\r\n    label: \"set3\",\r\n    value: \"set3\",\r\n    colors: [\r\n      \"#8dd3c7\",\r\n      \"#ffffb3\",\r\n      \"#bebada\",\r\n      \"#fb8072\",\r\n      \"#80b1d3\",\r\n      \"#fdb462\",\r\n      \"#b3de69\",\r\n      \"#fccde5\",\r\n      \"#d9d9d9\",\r\n      \"#bc80bd\",\r\n      \"#ccebc5\",\r\n      \"#ffed6f\"\r\n    ]\r\n  },\r\n  {\r\n    label: \"brown_blueGreen\",\r\n    value: \"brown_blueGreen\",\r\n    colors: [\r\n      \"#543005\",\r\n      \"#8c510a\",\r\n      \"#bf812d\",\r\n      \"#dfc27d\",\r\n      \"#f6e8c3\",\r\n      \"#f5f5f5\",\r\n      \"#c7eae5\",\r\n      \"#80cdc1\",\r\n      \"#35978f\",\r\n      \"#01665e\",\r\n      \"#003c30\"\r\n    ]\r\n  },\r\n  {\r\n    label: \"purpleRed_green\",\r\n    value: \"purpleRed_green\",\r\n    colors: [\r\n      \"#40004b\",\r\n      \"#762a83\",\r\n      \"#9970ab\",\r\n      \"#c2a5cf\",\r\n      \"#e7d4e8\",\r\n      \"#f7f7f7\",\r\n      \"#d9f0d3\",\r\n      \"#a6dba0\",\r\n      \"#5aae61\",\r\n      \"#1b7837\",\r\n      \"#00441b\"\r\n    ]\r\n  },\r\n  {\r\n    label: \"pink_yellowGreen\",\r\n    value: \"pink_yellowGreen\",\r\n    colors: [\r\n      \"#8e0152\",\r\n      \"#c51b7d\",\r\n      \"#de77ae\",\r\n      \"#f1b6da\",\r\n      \"#fde0ef\",\r\n      \"#f7f7f7\",\r\n      \"#e6f5d0\",\r\n      \"#b8e186\",\r\n      \"#7fbc41\",\r\n      \"#4d9221\",\r\n      \"#276419\"\r\n    ]\r\n  },\r\n  {\r\n    label: \"purple_orange\",\r\n    value: \"purple_orange\",\r\n    colors: [\r\n      \"#2d004b\",\r\n      \"#542788\",\r\n      \"#8073ac\",\r\n      \"#b2abd2\",\r\n      \"#d8daeb\",\r\n      \"#f7f7f7\",\r\n      \"#fee0b6\",\r\n      \"#fdb863\",\r\n      \"#e08214\",\r\n      \"#b35806\",\r\n      \"#7f3b08\"\r\n    ]\r\n  },\r\n  {\r\n    label: \"red_blue\",\r\n    value: \"red_blue\",\r\n    colors: [\r\n      \"#67001f\",\r\n      \"#b2182b\",\r\n      \"#d6604d\",\r\n      \"#f4a582\",\r\n      \"#fddbc7\",\r\n      \"#f7f7f7\",\r\n      \"#d1e5f0\",\r\n      \"#92c5de\",\r\n      \"#4393c3\",\r\n      \"#2166ac\",\r\n      \"#053061\"\r\n    ]\r\n  },\r\n  {\r\n    label: \"regagro\",\r\n    value: \"red_grey\",\r\n    colors: [\r\n      \"#67001f\",\r\n      \"#b2182b\",\r\n      \"#d6604d\",\r\n      \"#f4a582\",\r\n      \"#fddbc7\",\r\n      \"#ffffff\",\r\n      \"#e0e0e0\",\r\n      \"#bababa\",\r\n      \"#878787\",\r\n      \"#4d4d4d\",\r\n      \"#1a1a1a\"\r\n    ]\r\n  },\r\n  {\r\n    label: \"red_yellow_blue\",\r\n    value: \"red_yellow_blue\",\r\n    colors: [\r\n      \"#a50026\",\r\n      \"#d73027\",\r\n      \"#f46d43\",\r\n      \"#fdae61\",\r\n      \"#fee090\",\r\n      \"#ffffbf\",\r\n      \"#e0f3f8\",\r\n      \"#abd9e9\",\r\n      \"#74add1\",\r\n      \"#4575b4\",\r\n      \"#313695\"\r\n    ]\r\n  },\r\n  {\r\n    label: \"red_yellow_green\",\r\n    value: \"red_yellow_green\",\r\n    colors: [\r\n      \"#a50026\",\r\n      \"#d73027\",\r\n      \"#f46d43\",\r\n      \"#fdae61\",\r\n      \"#fee08b\",\r\n      \"#ffffbf\",\r\n      \"#d9ef8b\",\r\n      \"#a6d96a\",\r\n      \"#66bd63\",\r\n      \"#1a9850\",\r\n      \"#006837\"\r\n    ]\r\n  },\r\n  {\r\n    label: \"spectral\",\r\n    value: \"spectral\",\r\n    colors: [\r\n      \"#9e0142\",\r\n      \"#d53e4f\",\r\n      \"#f46d43\",\r\n      \"#fdae61\",\r\n      \"#fee08b\",\r\n      \"#ffffbf\",\r\n      \"#e6f598\",\r\n      \"#abdda4\",\r\n      \"#66c2a5\",\r\n      \"#3288bd\",\r\n      \"#5e4fa2\"\r\n    ]\r\n  },\r\n  {\r\n    label: \"blues\",\r\n    value: \"blues\",\r\n    colors: [\r\n      \"#f7fbff\",\r\n      \"#deebf7\",\r\n      \"#c6dbef\",\r\n      \"#9ecae1\",\r\n      \"#6baed6\",\r\n      \"#4292c6\",\r\n      \"#2171b5\",\r\n      \"#08519c\",\r\n      \"#08306b\"\r\n    ]\r\n  },\r\n  {\r\n    label: \"greens\",\r\n    value: \"greens\",\r\n    colors: [\r\n      \"#f7fcf5\",\r\n      \"#e5f5e0\",\r\n      \"#c7e9c0\",\r\n      \"#a1d99b\",\r\n      \"#74c476\",\r\n      \"#41ab5d\",\r\n      \"#238b45\",\r\n      \"#006d2c\",\r\n      \"#00441b\"\r\n    ]\r\n  },\r\n  {\r\n    label: \"greys\",\r\n    value: \"greys\",\r\n    colors: [\r\n      \"#ffffff\",\r\n      \"#f0f0f0\",\r\n      \"#d9d9d9\",\r\n      \"#bdbdbd\",\r\n      \"#969696\",\r\n      \"#737373\",\r\n      \"#525252\",\r\n      \"#252525\",\r\n      \"#000000\"\r\n    ]\r\n  },\r\n  {\r\n    label: \"oranges\",\r\n    value: \"oranges\",\r\n    colors: [\r\n      \"#fff5eb\",\r\n      \"#fee6ce\",\r\n      \"#fdd0a2\",\r\n      \"#fdae6b\",\r\n      \"#fd8d3c\",\r\n      \"#f16913\",\r\n      \"#d94801\",\r\n      \"#a63603\",\r\n      \"#7f2704\"\r\n    ]\r\n  },\r\n  {\r\n    label: \"purples\",\r\n    value: \"purples\",\r\n    colors: [\r\n      \"#fcfbfd\",\r\n      \"#efedf5\",\r\n      \"#dadaeb\",\r\n      \"#bcbddc\",\r\n      \"#9e9ac8\",\r\n      \"#807dba\",\r\n      \"#6a51a3\",\r\n      \"#54278f\",\r\n      \"#3f007d\"\r\n    ]\r\n  },\r\n  {\r\n    label: \"reds\",\r\n    value: \"reds\",\r\n    colors: [\r\n      \"#fff5f0\",\r\n      \"#fee0d2\",\r\n      \"#fcbba1\",\r\n      \"#fc9272\",\r\n      \"#fb6a4a\",\r\n      \"#ef3b2c\",\r\n      \"#cb181d\",\r\n      \"#a50f15\",\r\n      \"#67000d\"\r\n    ]\r\n  },\r\n  {\r\n    label: \"blue_green\",\r\n    value: \"blue_green\",\r\n    colors: [\r\n      \"#f7fcfd\",\r\n      \"#e5f5f9\",\r\n      \"#ccece6\",\r\n      \"#99d8c9\",\r\n      \"#66c2a4\",\r\n      \"#41ae76\",\r\n      \"#238b45\",\r\n      \"#006d2c\",\r\n      \"#00441b\"\r\n    ]\r\n  },\r\n  {\r\n    label: \"blue_purple\",\r\n    value: \"blue_purple\",\r\n    colors: [\r\n      \"#f7fcfd\",\r\n      \"#e0ecf4\",\r\n      \"#bfd3e6\",\r\n      \"#9ebcda\",\r\n      \"#8c96c6\",\r\n      \"#8c6bb1\",\r\n      \"#88419d\",\r\n      \"#810f7c\",\r\n      \"#4d004b\"\r\n    ]\r\n  },\r\n  {\r\n    label: \"green_blue\",\r\n    value: \"green_blue\",\r\n    colors: [\r\n      \"#f7fcf0\",\r\n      \"#e0f3db\",\r\n      \"#ccebc5\",\r\n      \"#a8ddb5\",\r\n      \"#7bccc4\",\r\n      \"#4eb3d3\",\r\n      \"#2b8cbe\",\r\n      \"#0868ac\",\r\n      \"#084081\"\r\n    ]\r\n  },\r\n  {\r\n    label: \"orange_red\",\r\n    value: \"orange_red\",\r\n    colors: [\r\n      \"#fff7ec\",\r\n      \"#fee8c8\",\r\n      \"#fdd49e\",\r\n      \"#fdbb84\",\r\n      \"#fc8d59\",\r\n      \"#ef6548\",\r\n      \"#d7301f\",\r\n      \"#b30000\",\r\n      \"#7f0000\"\r\n    ]\r\n  },\r\n  {\r\n    label: \"purple_blue_green\",\r\n    value: \"purple_blue_green\",\r\n    colors: [\r\n      \"#fff7fb\",\r\n      \"#ece2f0\",\r\n      \"#d0d1e6\",\r\n      \"#a6bddb\",\r\n      \"#67a9cf\",\r\n      \"#3690c0\",\r\n      \"#02818a\",\r\n      \"#016c59\",\r\n      \"#014636\"\r\n    ]\r\n  },\r\n  {\r\n    label: \"purple_blue\",\r\n    value: \"purple_blue\",\r\n    colors: [\r\n      \"#fff7fb\",\r\n      \"#ece7f2\",\r\n      \"#d0d1e6\",\r\n      \"#a6bddb\",\r\n      \"#74a9cf\",\r\n      \"#3690c0\",\r\n      \"#0570b0\",\r\n      \"#045a8d\",\r\n      \"#023858\"\r\n    ]\r\n  },\r\n  {\r\n    label: \"purple_red\",\r\n    value: \"purple_red\",\r\n    colors: [\r\n      \"#f7f4f9\",\r\n      \"#e7e1ef\",\r\n      \"#d4b9da\",\r\n      \"#c994c7\",\r\n      \"#df65b0\",\r\n      \"#e7298a\",\r\n      \"#ce1256\",\r\n      \"#980043\",\r\n      \"#67001f\"\r\n    ]\r\n  },\r\n  {\r\n    label: \"red_purple\",\r\n    value: \"red_purple\",\r\n    colors: [\r\n      \"#fff7f3\",\r\n      \"#fde0dd\",\r\n      \"#fcc5c0\",\r\n      \"#fa9fb5\",\r\n      \"#f768a1\",\r\n      \"#dd3497\",\r\n      \"#ae017e\",\r\n      \"#7a0177\",\r\n      \"#49006a\"\r\n    ]\r\n  },\r\n  {\r\n    label: \"yellow_green_blue\",\r\n    value: \"yellow_green_blue\",\r\n    colors: [\r\n      \"#ffffd9\",\r\n      \"#edf8b1\",\r\n      \"#c7e9b4\",\r\n      \"#7fcdbb\",\r\n      \"#41b6c4\",\r\n      \"#1d91c0\",\r\n      \"#225ea8\",\r\n      \"#253494\",\r\n      \"#081d58\"\r\n    ]\r\n  },\r\n  {\r\n    label: \"yellow_green\",\r\n    value: \"yellow_green\",\r\n    colors: [\r\n      \"#ffffe5\",\r\n      \"#f7fcb9\",\r\n      \"#d9f0a3\",\r\n      \"#addd8e\",\r\n      \"#78c679\",\r\n      \"#41ab5d\",\r\n      \"#238443\",\r\n      \"#006837\",\r\n      \"#004529\"\r\n    ]\r\n  },\r\n  {\r\n    label: \"yellow_orange_brown\",\r\n    value: \"yellow_orange_brown\",\r\n    colors: [\r\n      \"#ffffe5\",\r\n      \"#fff7bc\",\r\n      \"#fee391\",\r\n      \"#fec44f\",\r\n      \"#fe9929\",\r\n      \"#ec7014\",\r\n      \"#cc4c02\",\r\n      \"#993404\",\r\n      \"#662506\"\r\n    ]\r\n  },\r\n  {\r\n    label: \"yellow_orange_red\",\r\n    value: \"yellow_orange_red\",\r\n    colors: [\r\n      \"#ffffcc\",\r\n      \"#ffeda0\",\r\n      \"#fed976\",\r\n      \"#feb24c\",\r\n      \"#fd8d3c\",\r\n      \"#fc4e2a\",\r\n      \"#e31a1c\",\r\n      \"#bd0026\",\r\n      \"#800026\"\r\n    ]\r\n  },\r\n   {\r\n    label: \"Milk\",\r\n    value: \"milk\",\r\n    colors: [\r\n      \"#797979\", \r\n      \"#042D5B\", \r\n      \"#536DFE\", \r\n      \"#7C4DFF\", \r\n      \"#AA8D52\", \r\n      \"#448AFF\", \r\n      \"#A52A2A\", \r\n      \"#FF6347\", \r\n      \"#EE82EE\", \r\n      \"#BDB76B\"\r\n    ]\r\n  },\r\n  {\r\n    label: \"Milk2\",\r\n    value: \"milk2\",\r\n    colors: [\"#004B9C\", \"#6F2700\", \"#FF6600\", \"#005800\"]\r\n  }\r\n];\r\nexport default Schemes;\r\n","import axios from \"axios\";\r\n\r\nexport const queryString = (obj = {}) => {\r\n  let data = Object.keys(obj).reduce((str, key, i) => {\r\n    let delimiter, val;\r\n    delimiter = i === 0 ? \"?\" : \"&\";\r\n    key = encodeURIComponent(key);\r\n    val = encodeURIComponent(obj[key]);\r\n    return [str, delimiter, key, \"=\", val].join(\"\");\r\n  }, \"\");\r\n  console.log(\"RESULT ==>\", data);\r\n  return data;\r\n};\r\n\r\nexport const getWidgetData = async (url, filter) => {\r\n  let params = \"\";\r\n  if (typeof filter === \"object\") {\r\n    params = queryString(filter);\r\n  } else if (typeof filter !== \"undefined\") {\r\n    params = queryString(JSON.parse(filter));\r\n  }\r\n  try {\r\n    return await axios(url + params, {\r\n      // headers: [{ key: \"Cache-Control\", value: \"no-store\" }]\r\n    });\r\n  } catch (error) {\r\n    console.log(error);\r\n    return { status: 500 };\r\n  }\r\n};\r\n","import React, { PureComponent } from \"react\";\r\n\r\nclass TooltipBar extends PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      indexValue: props.datum?.indexValue,\r\n      value: props.datum?.value,\r\n      color: props.datum?.color,\r\n      enable: props?.enable,\r\n      settings: props?.settings\r\n    };\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (!_.isEqual(prevProps.enable, this.props.enable)) {\r\n      this.setState(s => ({\r\n        ...s,\r\n        enable: this.props?.enable\r\n      }));\r\n    }\r\n  }\r\n\r\n  customTooltip() {\r\n    return (\r\n      <>\r\n        <div\r\n          className={`${this.props.widgetID} altrp-dashboard__tooltip--font altrp-dashboard__tooltip--label-background altrp-dashboard__tooltip--width altrp-dashboard__tooltip--label-background-shadow altrp-dashboard__tooltip--border-type altrp-dashboard__tooltip--border-width altrp-dashboard__tooltip--border-color  col-12`}\r\n          style={{ padding: \"5px 9px\" }}\r\n        >\r\n          <div>\r\n            {this.props.datum?.data?.tooltip === undefined &&\r\n            <div style={\r\n              {\r\n                whiteSpace: \"pre\",\r\n                display: \"flex\",\r\n                alignItems: \"center\"\r\n              }\r\n            }>\r\n              <span\r\n                style={{\r\n                  display: \"block\",\r\n                  width: \"12px\",\r\n                  height: \"12px\",\r\n                  background: this.props.datum.color,\r\n                  marginRight: \"7px\"\r\n                }}\r\n              >  \r\n              </span>\r\n              <div className={`${this.props.widgetID} col px-0`}>\r\n                  {this.props.datum.data.key}:{\" \"}\r\n                  <strong\r\n                    className={`${this.props.widgetID} altrp-dashboard__tooltip--font col px-0`}\r\n                  >\r\n                    {this.props.datum.data.value}\r\n                  </strong>\r\n                </div>\r\n              </div>\r\n            }\r\n            {this.props.datum?.data?.tooltip?.map((item, index) => {\r\n              return (\r\n                <div\r\n                  style={{\r\n                    color: item?.color || \"#000000\"\r\n                  }}\r\n                  key={index}\r\n                >\r\n                  {`${item?.label}:`}\r\n                  <strong>{item.value}</strong>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    if (this.state.enable) {\r\n      return this.customTooltip();\r\n    }\r\n    return (\r\n      <>\r\n        <div\r\n          style={{\r\n            color: \"inherit\",\r\n            fontSize: \"{{SIZE}}px\",\r\n            borderRadius: \"2px\",   \r\n            padding: \"3px 9px\"\r\n          }}\r\n        >\r\n          <div\r\n            style={{\r\n              whiteSpace: \"pre\",\r\n              display: \"flex\",\r\n              alignItems: \"center\"\r\n            }}\r\n          >\r\n            <span\r\n              style={{\r\n                display: \"block\",\r\n                width: \"12px\",\r\n                height: \"12px\",\r\n                background: this.props.datum.color,\r\n                marginRight: \"7px\"\r\n              }}\r\n            ></span>\r\n            <span>\r\n              {this.props.datum.data.key}:{\" \"}\r\n              <strong>{this.props.datum.data.value}</strong>\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default TooltipBar;\r\n","import React, { useState, useEffect, useCallback } from \"react\";\r\n\r\nimport Spinner from \"./Spinner\";\r\nimport EmptyWidget from \"./EmptyWidget\";\r\n\r\nimport Schemes from \"../../../../../editor/src/js/components/altrp-dashboards/settings/NivoColorSchemes\";\r\nconst regagroScheme = _.find(Schemes, { value: \"regagro\" }).colors;\r\nconst milkScheme = _.find(Schemes, { value: \"milk\" }).colors;\r\nconst milkScheme2 = _.find(Schemes, { value: \"milk2\" }).colors;\r\n\r\nimport { ResponsiveBar } from \"@nivo/bar\";\r\n\r\nimport { getWidgetData } from \"../services/getWidgetData\";\r\nimport TooltipBar from \"./d3/TooltipBar\";\r\n\r\nconst DynamicBarChart = ({\r\n  widget,\r\n  width = 300,\r\n  height = 450,\r\n  dataSource = [],\r\n  groupMode = \"stacked\",\r\n  layout = \"vertical\",\r\n  colorScheme = \"regagro\",\r\n  reverse = false,\r\n  enableLabel = false,\r\n  padding = 0.1,\r\n  innerPadding = 0,\r\n  borderRadius = 0,\r\n  borderWidth = 0,\r\n  sort = \"\",\r\n  tickRotation = 0,\r\n  bottomAxis = true,\r\n  enableGridX = true,\r\n  enableGridY = true,\r\n  customColorSchemeChecker = false,\r\n  customColors = [],\r\n  yScaleMax,\r\n  widgetID,\r\n  useCustomTooltips\r\n}) => {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [data, setData] = useState([]);\r\n\r\n  const getData = useCallback(async () => {\r\n    setIsLoading(true);\r\n    if (dataSource.length == 0) {\r\n      const charts = await getWidgetData(widget.source, widget.filter);\r\n      if (charts.status === 200) {\r\n        let data = charts.data.data.map((item, index) => {\r\n          return {\r\n            [item.key]: Number(item.data),\r\n            key: item.key,\r\n            value: Number(item.data)\r\n          };\r\n        });\r\n        setData(data || []);\r\n        setIsLoading(false);\r\n      }\r\n    } else {\r\n      if (\r\n        sort !== null &&\r\n        typeof sort !== \"undefined\" &&\r\n        typeof dataSource !== \"undefined\"\r\n      ) {\r\n        switch (sort) {\r\n          case \"value\":\r\n            dataSource = _.sortBy(dataSource, [\"value\"]);\r\n            break;\r\n          case \"key\":\r\n            dataSource = _.sortBy(dataSource, [\"key\"]);\r\n            break;\r\n          default:\r\n            dataSource = dataSource;\r\n            break;\r\n        }\r\n      }\r\n      setData(dataSource || []);\r\n      setIsLoading(false);\r\n    }\r\n  }, [widget]);\r\n\r\n  useEffect(() => {\r\n    getData();\r\n  }, [getData]);\r\n\r\n  if (isLoading) return <Spinner />;\r\n\r\n  if (data.length === 0) return <EmptyWidget />;\r\n  console.log(\"====================================\");\r\n  console.log(colorScheme);\r\n  console.log(\"====================================\");\r\n  return (\r\n    <>\r\n      <div style={{ height: `${height}px` }}>\r\n        <ResponsiveBar\r\n          data={data}\r\n          margin={{\r\n            top: 30,\r\n            right: 30,\r\n            bottom: 30,\r\n            left: 30\r\n          }}\r\n          indexBy=\"key\"\r\n          colors={\r\n            customColorSchemeChecker && customColors.length > 0\r\n              ? customColors\r\n              : colorScheme === \"regagro\"\r\n              ? regagroScheme\r\n              : colorScheme === \"milk\"\r\n              ? milkScheme\r\n              : colorScheme === \"milk2\"\r\n              ? milkScheme2\r\n              : { scheme: colorScheme }\r\n          }\r\n          colorBy=\"index\"\r\n          layout={layout}\r\n          axisBottom={\r\n            bottomAxis && {\r\n              tickRotation: tickRotation\r\n            }\r\n          }\r\n          tooltip={datum => (\r\n            <TooltipBar\r\n              enable={useCustomTooltips}\r\n              datum={datum}\r\n              widgetID={widgetID}\r\n            ></TooltipBar>\r\n          )}\r\n          enableGridX={enableGridX}\r\n          enableGridY={enableGridY}\r\n          enableLabel={enableLabel}\r\n          reverse={reverse}\r\n          groupMode={groupMode}\r\n          padding={padding}\r\n          innerPadding={innerPadding}\r\n          borderRadius={borderRadius}\r\n          borderWidth={borderWidth}\r\n          axisBottom={{\r\n            tickSize: 5,\r\n            tickPadding: 5,\r\n            tickRotation: 0,\r\n            legend: \"key\",\r\n            legendOffset: 32\r\n          }}\r\n        />\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default DynamicBarChart;\r\n","import React, { PureComponent } from \"react\";\r\n\r\nclass TooltipPie extends PureComponent {\r\n  constructor(props) {\r\n    console.log(props.datum);\r\n    super(props);\r\n\r\n    this.state = {\r\n      indexValue: props.datum?.indexValue,\r\n      value: props.datum?.value,\r\n      color: props.datum?.color,\r\n      enable: props?.enable,\r\n      settings: props?.settings\r\n    };\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (!_.isEqual(prevProps.enable, this.props.enable)) {\r\n      this.setState(s => ({\r\n        ...s,\r\n        enable: this.props?.enable\r\n      }));\r\n    }\r\n  }\r\n\r\n  customTooltip() {\r\n    return (\r\n      <>\r\n        <div\r\n          className={`${this.props.widgetID} altrp-dashboard__tooltip--font altrp-dashboard__tooltip--label-background altrp-dashboard__tooltip--width altrp-dashboard__tooltip--label-background-shadow altrp-dashboard__tooltip--border-type altrp-dashboard__tooltip--border-width altrp-dashboard__tooltip--border-color col-12`}\r\n          style={{ padding: \"5px 9px\" }}\r\n        >\r\n          <div>\r\n            {this.props.datum?.datum?.data?.tooltip === undefined &&\r\n              <div style={\r\n              {\r\n                whiteSpace: \"pre\",\r\n                display: \"flex\",\r\n                alignItems: \"center\"\r\n              }\r\n            }>\r\n                <span\r\n                style={{\r\n                  display: \"block\",\r\n                  width: \"12px\",\r\n                  height: \"12px\",\r\n                  background: this.props.datum.datum.color,\r\n                  marginRight: \"7px\"\r\n                }}\r\n                ></span>\r\n                <div\r\n                  className={`${this.props.widgetID} altrp-dashboard__tooltip--font col px-0`}\r\n                >\r\n                  {this.props.datum.datum.label}:{\" \"}\r\n                  <strong\r\n                    className={`${this.props.widgetID} altrp-dashboard__tooltip--font col px-0`}\r\n                  >\r\n                    {this.props.datum.datum.value}\r\n                  </strong>\r\n                </div>\r\n              </div>\r\n            }\r\n            {this.props.datum?.datum?.data?.tooltip?.map((item, index) => {\r\n              return (\r\n                <div\r\n                  style={{\r\n                    color: item?.color || \"#000000\"\r\n                  }}\r\n                  key={index}\r\n                >\r\n                  {`${item?.label}:`}\r\n                  <strong>{item.value}</strong>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    if (this.state.enable) {\r\n      return this.customTooltip();\r\n    }\r\n    return (\r\n      <>\r\n        <div\r\n          style={{\r\n            background: \"white\",\r\n            color: \"inherit\",\r\n            fontSize: \"{{SIZE}}px\",\r\n            borderRadius: \"2px\",\r\n            boxShadow: \"rgba(0, 0, 0, 0.25) 0px 1px 2px\",\r\n            padding: \"5px 9px\"\r\n          }}\r\n        >\r\n          <div\r\n            style={{\r\n              whiteSpace: \"pre\",\r\n              display: \"flex\",\r\n              alignItems: \"center\"\r\n            }}\r\n          >\r\n            <span\r\n              style={{\r\n                display: \"block\",\r\n                width: \"12px\",\r\n                height: \"12px\",\r\n                background: this.props.datum.datum.color,\r\n                marginRight: \"7px\"\r\n              }}\r\n            ></span>\r\n            <span>\r\n              {this.props.datum.datum.label}:{\" \"}\r\n              <strong>{this.props.datum.datum.value}</strong>\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default TooltipPie;\r\n","import React, { useState, useEffect, useCallback } from \"react\";\r\nimport { ResponsivePie } from \"@nivo/pie\";\r\nimport Spinner from \"./Spinner\";\r\nimport EmptyWidget from \"./EmptyWidget\";\r\n\r\nimport Schemes from \"../../../../../editor/src/js/components/altrp-dashboards/settings/NivoColorSchemes\";\r\nconst regagroScheme = _.find(Schemes, { value: \"regagro\" }).colors;\r\nconst milkScheme = _.find(Schemes, { value: \"milk\" }).colors;\r\nconst milkScheme2 = _.find(Schemes, { value: \"milk2\" }).colors;\r\n\r\nimport { getWidgetData } from \"../services/getWidgetData\";\r\nimport moment from \"moment\";\r\nimport TooltipPie from \"./d3/TooltipPie\";\r\n\r\nconst DynamicPieChart = ({\r\n  widget,\r\n  width = \"300px\",\r\n  height = \"450px\",\r\n  dataSource = [],\r\n  colorScheme = \"red_grey\",\r\n  enableSliceLabels = false,\r\n  innerRadius = 0,\r\n  padAngle = 0,\r\n  cornerRadius = 0,\r\n  sortByValue = 0,\r\n  enableRadialLabels = true,\r\n  sort = \"\",\r\n  tickRotation = 0,\r\n  bottomAxis = true,\r\n  keyIsDate = false,\r\n  isDashboard = false,\r\n  customColorSchemeChecker = false,\r\n  customColors = [],\r\n  yScaleMax,\r\n  widgetID,\r\n  useCustomTooltips,\r\n  margin\r\n}) => {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [data, setData] = useState([]);\r\n\r\n  const getData = useCallback(async () => {\r\n    setIsLoading(true);\r\n    if (dataSource.length == 0) {\r\n      const charts = await getWidgetData(widget.source, widget.filter);\r\n      if (charts.status === 200) {\r\n        const newData = charts.data.data.map(item => {\r\n          const currentKey = item.key;\r\n          const keyFormatted = !moment(currentKey).isValid()\r\n            ? currentKey\r\n            : moment(currentKey).format(\"DD.MM.YYYY\");\r\n\r\n          return {\r\n            value: Number(item.data),\r\n            id: keyIsDate ? keyFormatted : currentKey\r\n          };\r\n        });\r\n        let data = newData;\r\n        setData(data || []);\r\n        setIsLoading(false);\r\n      }\r\n    } else {\r\n      if (\r\n        sort !== null &&\r\n        sort !== \"undefined\" &&\r\n        typeof dataSource !== \"undefined\"\r\n      ) {\r\n        switch (sort) {\r\n          case \"value\":\r\n            dataSource = _.sortBy(dataSource, [\"value\"]);\r\n            break;\r\n          case \"key\":\r\n            dataSource = _.sortBy(dataSource, [\"id\"]);\r\n            break;\r\n          default:\r\n            dataSource = dataSource;\r\n            break;\r\n        }\r\n      }\r\n      setData(dataSource || []);\r\n      setIsLoading(false);\r\n    }\r\n  }, [widget]);\r\n\r\n  useEffect(() => {\r\n    getData();\r\n  }, [getData]);\r\n\r\n  if (isLoading) return <Spinner />;\r\n\r\n  if (!data || data.length === 0) return <EmptyWidget />;\r\n  return (\r\n    <>\r\n      <div style={{ height: height, width: width }}>\r\n        <ResponsivePie\r\n          data={data}\r\n          colors={{ scheme: colorScheme }}\r\n          margin={{\r\n            top: margin?.top || 30,\r\n            right: margin?.right || 30,\r\n            bottom: margin?.bottom || 30,\r\n            left: margin?.left || 30\r\n          }}\r\n          colors={\r\n            customColorSchemeChecker && customColors.length > 0\r\n              ? customColors\r\n              : colorScheme === \"regagro\"\r\n              ? regagroScheme\r\n              : colorScheme === \"milk\"\r\n              ? milkScheme\r\n              : colorScheme === \"milk2\"\r\n              ? milkScheme2\r\n              : { scheme: colorScheme }\r\n          }\r\n          tooltip={datum => (\r\n            <TooltipPie\r\n              enable={useCustomTooltips}\r\n              datum={datum}\r\n              widgetID={widgetID}\r\n            ></TooltipPie>\r\n          )}\r\n          innerRadius={innerRadius}\r\n          enableSliceLabels={enableSliceLabels}\r\n          padAngle={padAngle}\r\n          cornerRadius={cornerRadius}\r\n          sortByValue={sortByValue}\r\n          axisBottom={\r\n            bottomAxis && {\r\n              tickRotation: tickRotation\r\n            }\r\n          }\r\n          colors={\r\n            colorScheme === \"regagro\"\r\n              ? regagroScheme\r\n              : colorScheme === \"milk\"\r\n              ? milkScheme\r\n              : colorScheme === \"milk2\"\r\n              ? milkScheme2\r\n              : { scheme: colorScheme }\r\n          }\r\n          enableRadialLabels={enableRadialLabels}\r\n          // legends={\r\n          //   !isDashboard\r\n          //     ? [\r\n          //         {\r\n          //           anchor: \"right\",\r\n          //           direction: \"column\",\r\n          //           translateX: 80,\r\n          //           translateY: 0,\r\n          //           itemsSpacing: 2,\r\n          //           itemWidth: 60,\r\n          //           itemHeight: 14,\r\n          //           itemDirection: \"left-to-right\",\r\n          //           itemOpacity: 1,\r\n          //           symbolSize: 14,\r\n          //           symbolShape: \"circle\"\r\n          //         }\r\n          //       ]\r\n          //     : []\r\n          // }\r\n        />\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default DynamicPieChart;\r\n","import { PureComponent } from \"react\";\r\n// import { Component } from \"react\";\r\n\r\n/**\r\n * Tooltip для Line и Scatter\r\n */\r\nclass Tooltip extends PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      enablebar: props.datum.enable,\r\n      enable: props.enable,\r\n      point: props.datum.point,\r\n      data: props.datum.point.data,\r\n      settings: props?.settings,\r\n      keyIsDate: props?.keyIsDate\r\n    };\r\n    console.log(\"====================================\");\r\n    console.log(this.state.data);\r\n    console.log(\"====================================\");\r\n    this.containerSettings = this.containerSettings.bind(this);\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (!_.isEqual(prevProps.datum.point, this.props.datum.point)) {\r\n      this.setState(s => ({\r\n        ...s,\r\n        point: this.props.datum.point,\r\n        data: this.props.datum.point.data\r\n      }));\r\n    }\r\n    if (!_.isEqual(prevProps.settings, this.props.settings)) {\r\n      this.setState(s => ({\r\n        ...s,\r\n        settings: this.props?.settings\r\n      }));\r\n    }\r\n    if (!_.isEqual(prevProps.enable, this.props.enable)) {\r\n      this.setState(s => ({\r\n        ...s,\r\n        settenableings: this.props?.enable\r\n      }));\r\n    }\r\n  }\r\n\r\n  containerSettings() {\r\n    const settings = this.state?.settings || {};\r\n    console.log(\"====================================\");\r\n    console.log(settings);\r\n    console.log(\"====================================\");\r\n    const result = {\r\n      padding: `${settings?.padding?.top || 5}px ${settings?.padding?.right ||\r\n        5}px ${settings?.padding?.bottom || 5}px ${settings?.padding?.left ||\r\n        5}px`,\r\n      borderStyle: `${settings?.borderStyle || \"solid\"}`,\r\n      borderRadius: `${settings?.borderRadius || \"4px\"}`,\r\n      borderColor: `${settings?.borderColor || \"black\"}`,\r\n      borderWidth: `${settings?.borderWidth || \"1px\"}`,\r\n      backgroundColor: `${settings?.backgroundColor || \"red\"}`,\r\n      color: \"white\",\r\n      width: \"fit-content\",\r\n      flexDirection: \"column-reverse\"\r\n    };\r\n    return result;\r\n  }\r\n\r\n  render() {\r\n    if (this.state.enable) {\r\n      return (\r\n        <>\r\n          <div\r\n            className={`${this.props.widgetID} altrp-dashboard__tooltip--label-background altrp-dashboard__tooltip--width altrp-dashboard__tooltip--label-background-shadow altrp-dashboard__tooltip--border-type altrp-dashboard__tooltip--border-width altrp-dashboard__tooltip--border-color col-12`}\r\n            style={{ padding: \"5px 9px\" }}\r\n          >\r\n            <div>\r\n            {this.state.data?.tooltip === undefined &&\r\n              <div style={{\r\n                whiteSpace: \"pre\",\r\n                display: \"flex\",\r\n                alignItems: \"center\"\r\n              }}>\r\n                <span\r\n                  style={{\r\n                    display: \"block\",\r\n                    width: \"12px\",\r\n                    height: \"12px\",\r\n                    background: this.state.point.color,\r\n                    marginRight: \"7px\"\r\n                  }}\r\n                >\r\n                </span>\r\n                <div\r\n                  className={`${this.props.widgetID} altrp-dashboard__tooltip--font col px-0`}\r\n                >\r\n                  {this.props.keyIsDate\r\n                  ? this.state.data.xFormatted\r\n                  : this.state.data.x}\r\n                  :\r\n                  <strong\r\n                    className={`${this.props.widgetID} altrp-dashboard__tooltip--font col px-0`}\r\n                  >\r\n                    {this.state.data.y}\r\n                  </strong>\r\n                </div>\r\n              </div>\r\n              }\r\n              {this.state.data?.tooltip?.map((item, index) => {\r\n                return (\r\n                  <React.Fragment>\r\n                    <div\r\n                      style={{\r\n                        color: item?.color || \"#000000\"\r\n                      }}\r\n                      key={index}\r\n                    >\r\n                      {`${item?.label}:`}\r\n                      <strong>{item.value}</strong>\r\n                    </div>\r\n                  </React.Fragment>\r\n                );\r\n              })}\r\n            </div>\r\n          </div>\r\n        </>\r\n      );\r\n    }\r\n    //Дефолтный тултип\r\n    const { xFormatted, yFormatted } = this.state.data;\r\n    return (\r\n      <>\r\n        <div\r\n          style={{\r\n            background: \"white\",\r\n            color: \"inherit\",\r\n            fontSize: \"{{SIZE}}px\",\r\n            borderRadius: \"2px\",\r\n            boxShadow: \"rgba(0, 0, 0, 0.25) 0px 1px 2px\",\r\n            padding: \"5px 9px\"\r\n          }}\r\n        >\r\n          <div\r\n            style={{\r\n              whiteSpace: \"pre\",\r\n              display: \"flex\",\r\n              alignItems: \"center\"\r\n            }}\r\n          >\r\n            <span\r\n              style={{\r\n                display: \"block\",\r\n                width: \"12px\",\r\n                height: \"12px\",\r\n                background: this.state.point.color,\r\n                marginRight: \"7px\"\r\n              }}\r\n            ></span>\r\n            <span>\r\n              {xFormatted}: <strong>{yFormatted}</strong>\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Tooltip;\r\n","import React, { useState, useEffect, useCallback } from \"react\";\r\nimport { ResponsiveLine } from \"@nivo/line\";\r\nTooltip;\r\nimport Spinner from \"./Spinner\";\r\nimport EmptyWidget from \"./EmptyWidget\";\r\n\r\nimport Schemes from \"../../../../../editor/src/js/components/altrp-dashboards/settings/NivoColorSchemes\";\r\nconst regagroScheme = _.find(Schemes, { value: \"regagro\" }).colors;\r\nconst milkScheme = _.find(Schemes, { value: \"milk\" }).colors;\r\nconst milkScheme2 = _.find(Schemes, { value: \"milk2\" }).colors;\r\n\r\nimport { getWidgetData } from \"../services/getWidgetData\";\r\nimport moment from \"moment\";\r\nimport Tooltip from \"./d3/Tooltip\";\r\n\r\nconst format = \"%d.%m.%Y\";\r\n\r\nconst DynamicLineChart = ({\r\n  widget,\r\n  width = `300px`,\r\n  height = `450px`,\r\n  margin,\r\n  keyIsDate,\r\n  dataSource = [],\r\n  lineWidth = 2,\r\n  pointSize = 10,\r\n  xScaleType = \"point\",\r\n  precision = \"month\",\r\n  colorScheme = \"red_grey\",\r\n  curve = \"linear\",\r\n  enableArea = false,\r\n  enablePoints = true,\r\n  pointColor,\r\n  yMarker = false,\r\n  yMarkerValue = 0,\r\n  yMarkerOrientation = \"vertical\",\r\n  yMarkerColor,\r\n  yMarkerLabel = \"\",\r\n  yMarkerWidth = 2,\r\n  xMarker = false,\r\n  xMarkerValue = 0,\r\n  xMarkerOrientation = \"vertical\",\r\n  xMarkerColor,\r\n  xMarkerLabel = \"\",\r\n  xMarkerWidth = 2,\r\n  yMarkerLabelColor,\r\n  xMarkerLabelColor,\r\n  sort = \"\",\r\n  tickRotation = 0,\r\n  bottomAxis = true,\r\n  enableGridX = true,\r\n  enableGridY = true,\r\n  customColorSchemeChecker = false,\r\n  customColors = [],\r\n  constantsAxises = [],\r\n  yScaleMax,\r\n  widgetID,\r\n  useCustomTooltips\r\n}) => {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [data, setData] = useState([]);\r\n  const markers = () => {\r\n    let markerY = {};\r\n    let markerX = {};\r\n    if (yMarker) {\r\n      markerY = {\r\n        axis: \"y\",\r\n        value: yMarkerValue,\r\n        lineStyle: {\r\n          stroke:\r\n            yMarkerColor != null ? yMarkerColor.colorPickedHex : \"#000000\",\r\n          strokeWidth: yMarkerWidth\r\n        },\r\n        textStyle: {\r\n          fill:\r\n            yMarkerLabelColor != null\r\n              ? yMarkerLabelColor.colorPickedHex\r\n              : \"#000000\"\r\n        },\r\n        legend: yMarkerLabel,\r\n        legendOrientation: yMarkerOrientation\r\n      };\r\n    }\r\n    if (xMarker) {\r\n      markerX = {\r\n        axis: \"x\",\r\n        value: xMarkerValue,\r\n        lineStyle: {\r\n          stroke:\r\n            xMarkerColor != null ? xMarkerColor.colorPickedHex : \"#000000\",\r\n          strokeWidth: xMarkerWidth\r\n        },\r\n        textStyle: {\r\n          fill:\r\n            xMarkerLabelColor != null\r\n              ? xMarkerLabelColor.colorPickedHex\r\n              : \"#000000\"\r\n        },\r\n        legend: xMarkerLabel,\r\n        legendOrientation: xMarkerOrientation\r\n      };\r\n    }\r\n    if (!yMarker && !xMarker) return [];\r\n    if (yMarker && !xMarker) return [markerY];\r\n    if (!yMarker && xMarker) return [markerX];\r\n\r\n    return [markerY, markerX];\r\n  };\r\n\r\n  const getData = useCallback(async () => {\r\n    setIsLoading(true);\r\n    if (dataSource.length == 0) {\r\n      const charts = await getWidgetData(widget.source, widget.filter);\r\n      if (charts.status === 200) {\r\n        const newData = charts.data.data.map(item => {\r\n          const currentKey = item.key;\r\n          const keyFormatted = !moment(currentKey).isValid()\r\n            ? currentKey\r\n            : moment(currentKey).format(\"DD.MM.YYYY\");\r\n          return {\r\n            y: Number(item.data),\r\n            x: keyIsDate ? keyFormatted : currentKey\r\n          };\r\n        });\r\n        let data = [\r\n          {\r\n            id: \"\",\r\n            data: newData\r\n          }\r\n        ];\r\n        setData(data || []);\r\n        setIsLoading(false);\r\n      }\r\n    } else {\r\n      if (\r\n        sort !== null &&\r\n        sort !== \"undefined\" &&\r\n        typeof dataSource !== \"undefined\"\r\n      ) {\r\n        switch (sort) {\r\n          case \"value\":\r\n            dataSource.forEach((item, index) => {\r\n              if (item.data.length > 0) {\r\n                dataSource[index].data = _.sortBy(item.data, [\"y\"]);\r\n              }\r\n            });\r\n            break;\r\n          case \"key\":\r\n            data.forEach((item, index) => {\r\n              if (item.data.length > 0) {\r\n                dataSource[index].data = _.sortBy(item.data, [\"x\"]);\r\n              }\r\n            });\r\n            break;\r\n\r\n          default:\r\n            // data = data;\r\n            break;\r\n        }\r\n      }\r\n      setData(dataSource || []);\r\n      setIsLoading(false);\r\n    }\r\n  }, [widget]);\r\n\r\n  useEffect(() => {\r\n    getData();\r\n  }, [getData]);\r\n\r\n  if (isLoading) return <Spinner />;\r\n\r\n  let matches = [];\r\n  let isNotEmpty = false;\r\n\r\n  matches = _.uniq(\r\n    data.map(item => {\r\n      return item.data.length > 0;\r\n    })\r\n  );\r\n\r\n  isNotEmpty = matches.includes(true);\r\n  if (!isNotEmpty) return <EmptyWidget />;\r\n  return (\r\n    <>\r\n      <div\r\n        style={{\r\n          width: width,\r\n          height: height\r\n        }}\r\n      >\r\n        <ResponsiveLine\r\n          data={data}\r\n          margin={{\r\n            top: margin?.top || 30,\r\n            right: margin?.right || 30,\r\n            bottom: margin?.bottom || 30,\r\n            left: margin?.left || 30\r\n          }}\r\n          xFormat={xScaleType === \"time\" && \"time:%d.%m.%Y\"}\r\n          yScale={\r\n            yScaleMax\r\n              ? {\r\n                  max: yScaleMax,\r\n                  type: \"linear\"\r\n                }\r\n              : {\r\n                  type: \"linear\"\r\n                }\r\n          }\r\n          xScale={\r\n            xScaleType === \"time\"\r\n              ? { type: xScaleType, format: format, precision: precision }\r\n              : { type: xScaleType }\r\n          }\r\n          lineWidth={lineWidth}\r\n          markers={constantsAxises}\r\n          enableGridX={enableGridX}\r\n          enableGridY={enableGridY}\r\n          axisBottom={\r\n            bottomAxis &&\r\n            (xScaleType === \"time\"\r\n              ? {\r\n                  format: format,\r\n                  tickRotation: tickRotation\r\n                }\r\n              : {\r\n                  tickRotation: tickRotation\r\n                })\r\n          }\r\n          useMesh={true}\r\n          enableArea={enableArea}\r\n          enablePoints={enablePoints}\r\n          tooltip={datum => {\r\n            console.log(\"====================================\");\r\n            console.log(datum);\r\n            console.log(\"====================================\");\r\n            return (\r\n              <Tooltip\r\n                keyIsDate={keyIsDate}\r\n                datum={datum}\r\n                enable={useCustomTooltips}\r\n                widgetID={widgetID}\r\n              />\r\n            );\r\n          }}\r\n          // tooltip={datum => {\r\n          //   const tooltip = datum.point.data?.tooltip;\r\n          //   console.log(\"=============TOOLTIP==============\");\r\n          //   console.log(tooltip);\r\n          //   console.log(\"====================================\");\r\n          //   return tooltip.map(item => (\r\n          //     <div>{`${item?.label}:${item?.value}`}</div>\r\n          //   ));\r\n          // }}\r\n          pointSize={pointSize}\r\n          curve={curve}\r\n          colors={\r\n            customColorSchemeChecker && customColors.length > 0\r\n              ? customColors\r\n              : colorScheme === \"regagro\"\r\n              ? regagroScheme\r\n              : colorScheme === \"milk\"\r\n              ? milkScheme\r\n              : colorScheme === \"milk2\"\r\n              ? milkScheme2\r\n              : { scheme: colorScheme }\r\n          }\r\n          pointColor={\r\n            typeof pointColor !== \"undefined\" && pointColor !== null\r\n              ? pointColor.colorPickedHex\r\n              : { from: \"color\", modifiers: [] }\r\n          }\r\n          // legends={[\r\n          //   {\r\n          //     anchor: \"bottom-right\",\r\n          //     direction: \"column\",\r\n          //     justify: false,\r\n          //     translateX: 130,\r\n          //     translateY: 0,\r\n          //     itemsSpacing: 0,\r\n          //     itemDirection: \"left-to-right\",\r\n          //     itemWidth: 120,\r\n          //     itemHeight: 20,\r\n          //     itemOpacity: 0.75,\r\n          //     symbolSize: 12,\r\n          //     symbolShape: \"circle\",\r\n          //     symbolBorderColor: \"rgba(0, 0, 0, .5)\",\r\n          //     effects: [\r\n          //       {\r\n          //         on: \"hover\",\r\n          //         style: {\r\n          //           itemBackground: \"rgba(0, 0, 0, .03)\",\r\n          //           itemOpacity: 1\r\n          //         }\r\n          //       }\r\n          //     ]\r\n          //   }\r\n          // ]}\r\n        />\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default DynamicLineChart;\r\n","import React, { useState, useEffect, useCallback, useMemo } from \"react\";\r\n\r\nimport Spinner from \"./Spinner\";\r\nimport EmptyWidget from \"./EmptyWidget\";\r\n\r\nimport { getWidgetData } from \"../services/getWidgetData\";\r\nimport moment from \"moment\";\r\n\r\nconst DynamicTableWidget = ({\r\n  widget,\r\n  width,\r\n  keyIsDate,\r\n  dataSource = [],\r\n  height = 450,\r\n  sort = \"\",\r\n  tickRotation = 0\r\n}) => {\r\n  const [data, setData] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const getData = useCallback(async () => {\r\n    setIsLoading(true);\r\n    if (dataSource.length == 0) {\r\n      const charts = await getWidgetData(widget.source, widget.filter);\r\n      if (charts.status === 200 && typeof charts.data !== \"string\") {\r\n        const newData = charts.data.data.map(item => {\r\n          const currentKey = item.key;\r\n          const keyFormatted = !moment(currentKey).isValid()\r\n            ? currentKey\r\n            : moment(currentKey).format(\"DD.MM.YYYY\");\r\n          return {\r\n            y: Number(item.data),\r\n            x: keyIsDate ? keyFormatted : currentKey\r\n          };\r\n        });\r\n        let data = [\r\n          {\r\n            id: \"\",\r\n            data: newData\r\n          }\r\n        ];\r\n        setData(data);\r\n        setIsLoading(false);\r\n      }\r\n    } else {\r\n      if (\r\n        sort !== null &&\r\n        sort !== \"undefined\" &&\r\n        typeof dataSource !== \"undefined\"\r\n      ) {\r\n        switch (sort) {\r\n          case \"value\":\r\n            dataSource.forEach((item, index) => {\r\n              if (item.data.length > 0) {\r\n                dataSource[index].data = _.sortBy(item.data, [\"y\"]);\r\n              }\r\n            });\r\n            break;\r\n          case \"key\":\r\n            data.forEach((item, index) => {\r\n              if (item.data.length > 0) {\r\n                dataSource[index].data = _.sortBy(item.data, [\"x\"]);\r\n              }\r\n            });\r\n            break;\r\n\r\n          default:\r\n            // data = data;\r\n            break;\r\n        }\r\n      }\r\n      setData(dataSource || []);\r\n      setIsLoading(false);\r\n    }\r\n  }, [widget]);\r\n\r\n  const summary = useMemo(\r\n    () =>\r\n      data\r\n        .map(item => item.data.reduce((acc, object) => acc + object.y, 0))\r\n        .reduce((acc, item) => acc + item, 0),\r\n    [data]\r\n  );\r\n\r\n  useEffect(() => {\r\n    getData();\r\n  }, [getData]);\r\n\r\n  if (isLoading) return <Spinner />;\r\n\r\n  let matches = [];\r\n  let isNotEmpty = false;\r\n\r\n  matches = _.uniq(\r\n    data.map(item => {\r\n      return item.data.length > 0;\r\n    })\r\n  );\r\n\r\n  isNotEmpty = matches.includes(true);\r\n  if (!isNotEmpty) return <EmptyWidget />;\r\n\r\n  return (\r\n    <div className=\"widget-table\" style={{ maxHeight: `${height}px` }}>\r\n      <table className=\"vertical-table\">\r\n        <tbody>\r\n          {data.map((item, key) => {\r\n            const dataset = item.data.map((object, index) => {\r\n              return (\r\n                <tr key={`${key}${index}`}>\r\n                  <td>{object.x}</td>\r\n                  <td>{object.y}</td>\r\n                </tr>\r\n              );\r\n            });\r\n            return (\r\n              <React.Fragment key={key}>\r\n                <tr key={key} style={{ textAlign: \"center\" }}>\r\n                  <td colSpan={2}>{item.id}</td>\r\n                </tr>\r\n                {dataset}\r\n              </React.Fragment>\r\n            );\r\n          })}\r\n          <tr>\r\n            <td>ИТОГО</td>\r\n            <td>{summary}</td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DynamicTableWidget;\r\n","import React, { PureComponent } from \"react\";\r\n\r\nclass TooltipScatter extends PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      indexValue: props.datum?.indexValue,\r\n      value: props.datum?.value,\r\n      color: props.datum?.color,\r\n      enable: props?.enable,\r\n      settings: props?.settings,\r\n      data: props.datum?.node?.data\r\n    };\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (!_.isEqual(prevProps.enable, this.props.enable)) {\r\n      this.setState(s => ({\r\n        ...s,\r\n        enable: this.props?.enable\r\n      }));\r\n    }\r\n  }\r\n\r\n  customTooltip() {\r\n    return (\r\n      <>\r\n        <div\r\n          className={`${this.props.widgetID} altrp-dashboard__tooltip--label-background altrp-dashboard__tooltip--width altrp-dashboard__tooltip--label-background-shadow altrp-dashboard__tooltip--border-type altrp-dashboard__tooltip--border-width altrp-dashboard__tooltip--border-color col-12`}\r\n          style={{ padding: \"5px 9px\" }}\r\n        >\r\n          <div>\r\n          {this.props.datum.node.data?.tooltip === undefined &&\r\n            <div\r\n              className={`${this.props.widgetID} altrp-dashboard__tooltip--font col px-0`}\r\n              style={{\r\n                whiteSpace: \"pre\",\r\n                display: \"flex\",\r\n                alignItems: \"center\"\r\n              }}\r\n            >\r\n              <span\r\n                style={{\r\n                  display: \"block\",\r\n                  width: \"12px\",\r\n                  height: \"12px\",\r\n                  background: this.props.datum.node.style.color,\r\n                  marginRight: \"7px\"\r\n                }}\r\n              ></span>\r\n              {this.props.datum.node.data.formattedX}:{\" \"}\r\n              <strong\r\n                className={`${this.props.widgetID} altrp-dashboard__tooltip--font col px-0`}\r\n              >\r\n                {this.props.datum.node.data.formattedY}\r\n              </strong>\r\n            </div>\r\n            }\r\n            {this.props.datum.node.data?.tooltip?.map((item, index) => {\r\n              return (\r\n                <div\r\n                  style={{\r\n                    color: item?.color || \"#000000\"\r\n                  }}\r\n                  key={index}\r\n                >\r\n                  {`${item?.label}:`}\r\n                  <strong>{item.value}</strong>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    if (this.state.enable) {\r\n      return this.customTooltip();\r\n    }\r\n    return (\r\n      <>\r\n        <div\r\n          style={{\r\n            background: \"white\",\r\n            color: \"inherit\",\r\n            fontSize: \"{{SIZE}}px\",\r\n            borderRadius: \"2px\",\r\n            boxShadow: \"rgba(0, 0, 0, 0.25) 0px 1px 2px\",\r\n            padding: \"5px 9px\"\r\n          }}\r\n        >\r\n          <div\r\n            style={{\r\n              whiteSpace: \"pre\",\r\n              display: \"flex\",\r\n              alignItems: \"center\"\r\n            }}\r\n          >\r\n            <span\r\n              style={{\r\n                display: \"block\",\r\n                width: \"12px\",\r\n                height: \"12px\",\r\n                background: this.props.datum.node.style.color,\r\n                marginRight: \"7px\"\r\n              }}\r\n            ></span>\r\n            <span>\r\n              {this.props.datum.node.data.formattedX}:{\" \"}\r\n              <strong>{this.props.datum.node.data.formattedY}</strong>\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default TooltipScatter;\r\n","import React, { useState, useEffect, useCallback } from \"react\";\r\n\r\nimport { ResponsiveScatterPlot } from \"@nivo/scatterplot\";\r\n\r\nimport Schemes from \"../../../../../editor/src/js/components/altrp-dashboards/settings/NivoColorSchemes\";\r\nconst regagroScheme = _.find(Schemes, { value: \"regagro\" }).colors;\r\nconst milkScheme = _.find(Schemes, { value: \"milk\" }).colors;\r\nconst milkScheme2 = _.find(Schemes, { value: \"milk2\" }).colors;\r\n\r\nimport EmptyWidget from \"./EmptyWidget\";\r\n\r\nimport { getWidgetData } from \"../services/getWidgetData\";\r\nimport { customStyle } from \"../widgetTypes\";\r\nimport { Spinner } from \"react-bootstrap\";\r\nimport Tooltip from \"./d3/TooltipScatter\";\r\n\r\nimport moment from \"moment\";\r\nconst format = \"%d.%m.%Y\";\r\n\r\nconst PointChart = ({\r\n  widget,\r\n  width = `300px`,\r\n  height = `450px`,\r\n  dataSource = [],\r\n  xScaleType = \"point\",\r\n  colorScheme = \"red_grey\",\r\n  nodeSize = 6,\r\n  sort = \"\",\r\n  tickRotation = 0,\r\n  bottomAxis = true,\r\n  precision,\r\n  enableGridX = true,\r\n  enableGridY = true,\r\n  keyIsDate = false,\r\n  customColorSchemeChecker = false,\r\n  customColors = [],\r\n  constantsAxises = [],\r\n  yScaleMax,\r\n  widgetID,\r\n  useCustomTooltips,\r\n  margin\r\n}) => {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [data, setData] = useState([]);\r\n  const size = 4;\r\n  const fill = customStyle[0];\r\n  const getData = useCallback(async () => {\r\n    setIsLoading(true);\r\n    if (dataSource.length == 0) {\r\n      const charts = await getWidgetData(widget.source, widget.filter);\r\n      if (charts.status === 200 && typeof charts.data !== \"string\") {\r\n        const newData = charts.data.data.map(item => {\r\n          const currentKey = item.key;\r\n          const keyFormatted = !moment(currentKey).isValid()\r\n            ? currentKey\r\n            : moment(currentKey).format(\"DD.MM.YYYY\");\r\n          return {\r\n            y: Number(item.data),\r\n            x: keyIsDate ? keyFormatted : currentKey\r\n          };\r\n        });\r\n        let data = [\r\n          {\r\n            id: \"\",\r\n            data: newData\r\n          }\r\n        ];\r\n        setData(data);\r\n        setIsLoading(false);\r\n      }\r\n    } else {\r\n      if (\r\n        sort !== null &&\r\n        sort !== \"undefined\" &&\r\n        typeof dataSource !== \"undefined\"\r\n      ) {\r\n        switch (sort) {\r\n          case \"value\":\r\n            dataSource.forEach((item, index) => {\r\n              if (item.data.length > 0) {\r\n                dataSource[index].data = _.sortBy(item.data, [\"y\"]);\r\n              }\r\n            });\r\n            break;\r\n          case \"key\":\r\n            data.forEach((item, index) => {\r\n              if (item.data.length > 0) {\r\n                dataSource[index].data = _.sortBy(item.data, [\"x\"]);\r\n              }\r\n            });\r\n            break;\r\n\r\n          default:\r\n            // data = data;\r\n            break;\r\n        }\r\n      }\r\n      setData(dataSource || []);\r\n      setIsLoading(false);\r\n    }\r\n  }, [widget]);\r\n\r\n  useEffect(() => {\r\n    getData();\r\n  }, [getData]);\r\n\r\n  if (isLoading) return <Spinner />;\r\n\r\n  let matches = [];\r\n  let isNotEmpty = false;\r\n\r\n  matches = _.uniq(\r\n    data.map(item => {\r\n      return item.data.length > 0;\r\n    })\r\n  );\r\n\r\n  isNotEmpty = matches.includes(true);\r\n  if (!isNotEmpty) return <EmptyWidget />;\r\n\r\n  return (\r\n    <>\r\n      <div\r\n        style={{\r\n          width: width,\r\n          height: height\r\n        }}\r\n      >\r\n        <ResponsiveScatterPlot\r\n          data={data}\r\n          colors={\r\n            customColorSchemeChecker && customColors.length > 0\r\n              ? customColors\r\n              : colorScheme === \"regagro\"\r\n              ? regagroScheme\r\n              : colorScheme === \"milk\"\r\n              ? milkScheme\r\n              : colorScheme === \"milk2\"\r\n              ? milkScheme2\r\n              : { scheme: colorScheme }\r\n          }\r\n          yScale={\r\n            yScaleMax\r\n              ? {\r\n                  max: yScaleMax,\r\n                  type: \"linear\"\r\n                }\r\n              : {\r\n                  type: \"linear\"\r\n                }\r\n          }\r\n          markers={constantsAxises}\r\n          margin={{\r\n            top: margin?.top || 30,\r\n            right: margin?.right || 30,\r\n            bottom: margin?.bottom || 30,\r\n            left: margin?.left || 30\r\n          }}\r\n          xFormat={xScaleType === \"time\" && \"time:%d.%m.%Y\"}\r\n          nodeSize={nodeSize}\r\n          xScale={\r\n            xScaleType === \"time\"\r\n              ? { type: xScaleType, format: format, precision: precision }\r\n              : { type: xScaleType }\r\n          }\r\n          tooltip={datum => (\r\n            <Tooltip\r\n              datum={datum}\r\n              enable={useCustomTooltips}\r\n              widgetID={widgetID}\r\n            />\r\n          )}\r\n          enableGridX={enableGridX}\r\n          enableGridY={enableGridY}\r\n          axisBottom={\r\n            bottomAxis &&\r\n            (xScaleType === \"time\"\r\n              ? {\r\n                  format: format,\r\n                  tickRotation: tickRotation\r\n                }\r\n              : {\r\n                  tickRotation: tickRotation\r\n                })\r\n          }\r\n          colors={\r\n            customColorSchemeChecker && customColors.length > 0\r\n              ? customColors\r\n              : colorScheme === \"regagro\"\r\n              ? regagroScheme\r\n              : colorScheme === \"milk\"\r\n              ? milkScheme\r\n              : colorScheme === \"milk2\"\r\n              ? milkScheme2\r\n              : { scheme: colorScheme }\r\n          }\r\n          // legends={[\r\n          //   {\r\n          //     anchor: \"bottom-right\",\r\n          //     direction: \"column\",\r\n          //     justify: false,\r\n          //     translateX: 130,\r\n          //     translateY: 0,\r\n          //     itemsSpacing: 0,\r\n          //     itemDirection: \"left-to-right\",\r\n          //     itemWidth: 120,\r\n          //     itemHeight: 20,\r\n          //     itemOpacity: 0.75,\r\n          //     symbolSize: 12,\r\n          //     symbolShape: \"circle\",\r\n          //     symbolBorderColor: \"rgba(0, 0, 0, .5)\",\r\n          //     effects: [\r\n          //       {\r\n          //         on: \"hover\",\r\n          //         style: {\r\n          //           itemBackground: \"rgba(0, 0, 0, .03)\",\r\n          //           itemOpacity: 1\r\n          //         }\r\n          //       }\r\n          //     ]\r\n          //   }\r\n          // ]}\r\n        />\r\n      </div>\r\n    </>\r\n  );\r\n};\r\nexport default PointChart;\r\n","import React from \"react\";\r\n\r\nimport { BAR, PIE, LINE, TABLE, POINT } from \"./widgetTypes\";\r\n\r\nimport DynamicBarChart from \"./widgets/DynamicBarChart\";\r\nimport DynamicPieChart from \"./widgets/DynamicPieChart\";\r\nimport DynamicLineChart from \"./widgets/DynamicLineChart\";\r\nimport DynamicTableWidget from \"./widgets/DynamicTableWidget\";\r\nimport DynamicPointChart from \"./widgets/DynamicPointChart\";\r\n\r\nconst WidgetDiagram = ({ widget, width = 350, height = 450 }) => {\r\n  switch (widget.type) {\r\n    case BAR:\r\n      return (\r\n        <DynamicBarChart\r\n          width={width}\r\n          height={height}\r\n          widget={widget}\r\n          isDashboard={true}\r\n        />\r\n      );\r\n    case PIE:\r\n      return (\r\n        <DynamicPieChart\r\n          width={width}\r\n          height={height}\r\n          widget={widget}\r\n          isDashboard={true}\r\n        />\r\n      );\r\n    case LINE:\r\n      return (\r\n        <DynamicLineChart\r\n          width={width}\r\n          height={height}\r\n          widget={widget}\r\n          isDashboard={true}\r\n        />\r\n      );\r\n    case TABLE:\r\n      return (\r\n        <DynamicTableWidget\r\n          width={width}\r\n          height={height}\r\n          widget={widget}\r\n          isDashboard={true}\r\n        />\r\n      );\r\n    case POINT:\r\n      return (\r\n        <DynamicPointChart\r\n          width={width}\r\n          height={height}\r\n          widget={widget}\r\n          isDashboard={true}\r\n        />\r\n      );\r\n    default:\r\n      return <></>;\r\n  }\r\n};\r\n\r\nexport default WidgetDiagram;\r\n","export default [\r\n  { name: \"Информация о шаблонах\", url: \"/admin/ajax/analytics\" },\r\n  { name: \"Пустые данные\", url: \"/admin/ajax/analytics/none\" },\r\n];\r\n","import React, { useState } from \"react\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport Button from \"react-bootstrap/Button\";\r\n\r\nimport { schemes } from \"reaviz\";\r\n\r\nimport dataSources from \"./dataSources\";\r\nimport { TABLE, widgetTypes } from \"./widgetTypes\";\r\nimport WidgetDiagram from \"./WidgetDiagram\";\r\n\r\nconst EditWidget = ({ diagram, onSave, show, setShow }) => {\r\n  const [widget, setWidget] = useState(diagram);\r\n\r\n  const handleSave = () => {\r\n    onSave(widget);\r\n    setShow(false);\r\n  };\r\n\r\n  return (\r\n    <Modal show={show} onHide={() => setShow(false)} animation={false} size=\"lg\" centered>\r\n      <Modal.Header closeButton>\r\n        <Modal.Title>Редактировать виджет #{widget.id}</Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        <Row>\r\n          <Col>\r\n            <Form>\r\n              <Form.Group controlId=\"formGroupEmail\">\r\n                <Form.Label>Название виджета</Form.Label>\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  value={widget.name}\r\n                  onChange={(e) => setWidget({ ...widget, name: e.target.value })}\r\n                  required\r\n                />\r\n              </Form.Group>\r\n              <Form.Group>\r\n                <Form.Label>Тип виджета</Form.Label>\r\n                <Form.Control\r\n                  as=\"select\"\r\n                  custom\r\n                  value={widget.type}\r\n                  onChange={(e) => setWidget({ ...widget, type: e.target.value })}\r\n                >\r\n                  {widgetTypes.map(({ name, value }, key) => (\r\n                    <option key={key} value={value}>\r\n                      {name}\r\n                    </option>\r\n                  ))}\r\n                </Form.Control>\r\n              </Form.Group>\r\n              <Form.Group>\r\n                <Form.Label>Цветовая схема</Form.Label>\r\n                <Form.Control\r\n                  as=\"select\"\r\n                  custom\r\n                  value={widget.options.colorScheme}\r\n                  onChange={(e) =>\r\n                    setWidget({\r\n                      ...widget,\r\n                      options: { ...widget.options, colorScheme: e.target.value },\r\n                    })\r\n                  }\r\n                >\r\n                  {Object.keys(schemes).map((name, key) => (\r\n                    <option key={key}>{name}</option>\r\n                  ))}\r\n                </Form.Control>\r\n              </Form.Group>\r\n              <Form.Group>\r\n                <Form.Label>Источник данных</Form.Label>\r\n                <Form.Control\r\n                  as=\"select\"\r\n                  custom\r\n                  value={widget.source}\r\n                  onChange={(e) => setWidget({ ...widget, source: e.target.value })}\r\n                  required\r\n                >\r\n                  <option value=\"\">Выберите источник</option>\r\n                  {dataSources.map(({ name, url }, key) => (\r\n                    <option key={key} value={url}>\r\n                      {name}\r\n                    </option>\r\n                  ))}\r\n                </Form.Control>\r\n              </Form.Group>\r\n              {widget.type === TABLE && (\r\n                <Form.Group>\r\n                  <Form.Check\r\n                    type=\"checkbox\"\r\n                    checked={widget.options.isVertical}\r\n                    label=\"Вертикальная таблица\"\r\n                    onChange={(e) =>\r\n                      setWidget({\r\n                        ...widget,\r\n                        options: { ...widget.options, isVertical: e.target.checked },\r\n                      })\r\n                    }\r\n                  />\r\n                </Form.Group>\r\n              )}\r\n            </Form>\r\n          </Col>\r\n          <Col>\r\n            <Row>\r\n              <div className=\"widget-placeholder\">\r\n                {widget && <WidgetDiagram widget={widget} width={400} />}\r\n              </div>\r\n            </Row>\r\n          </Col>\r\n        </Row>\r\n      </Modal.Body>\r\n      <Modal.Footer>\r\n        <Button variant=\"secondary\" onClick={() => setShow(false)}>\r\n          Закрыть\r\n        </Button>\r\n        <Button variant=\"warning\" onClick={handleSave} disabled={widget.name === \"\"}>\r\n          Сохранить изменения\r\n        </Button>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default EditWidget;\r\n","import React, { useState } from \"react\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport Button from \"react-bootstrap/Button\";\r\n\r\nimport { schemes } from \"reaviz\";\r\n\r\nimport dataSources from \"./dataSources\";\r\nimport { TABLE, widgetTypes } from \"./widgetTypes\";\r\nimport WidgetDiagram from \"./WidgetDiagram\";\r\n\r\nconst WidgetParams = ({ show, setShow, onSave }) => {\r\n  const [widget, setWidget] = useState({\r\n    name: \"\",\r\n    source: \"\",\r\n    type: TABLE,\r\n    options: {\r\n      colorScheme: \"Set1\",\r\n    },\r\n  });\r\n\r\n  const handleSave = () => {\r\n    // Скрываем модальку\r\n    setShow(false); \r\n    onSave(widget);\r\n  };\r\n\r\n  return (\r\n    <Modal show={show} onHide={() => setShow(false)} animation={false} size=\"lg\" centered>\r\n      <Modal.Header closeButton>\r\n        <Modal.Title>Добавить виджет</Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        <Row>\r\n          <Col>\r\n            <Form>\r\n              <Form.Group controlId=\"formGroupEmail\">\r\n                <Form.Label>Название виджета</Form.Label>\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  value={widget.name}\r\n                  onChange={(e) => setWidget({ ...widget, name: e.target.value })}\r\n                  required\r\n                />\r\n              </Form.Group>\r\n              <Form.Group>\r\n                <Form.Label>Тип виджета</Form.Label>\r\n                <Form.Control\r\n                  as=\"select\"\r\n                  custom\r\n                  value={widget.type}\r\n                  onChange={(e) => setWidget({ ...widget, type: e.target.value })}\r\n                >\r\n                  {widgetTypes.map(({ name, value }, key) => (\r\n                    <option key={key} value={value}>\r\n                      {name}\r\n                    </option>\r\n                  ))}\r\n                </Form.Control>\r\n              </Form.Group>\r\n              <Form.Group>\r\n                <Form.Label>Цветовая схема</Form.Label>\r\n                <Form.Control\r\n                  as=\"select\"\r\n                  custom\r\n                  value={widget.options.colorScheme}\r\n                  onChange={(e) =>\r\n                    setWidget({\r\n                      ...widget,\r\n                      options: { ...widget.options, colorScheme: e.target.value },\r\n                    })\r\n                  }\r\n                >\r\n                  {Object.keys(schemes).map((name, key) => (\r\n                    <option key={key}>{name}</option>\r\n                  ))}\r\n                </Form.Control>\r\n              </Form.Group>\r\n              <Form.Group>\r\n                <Form.Label>Источник данных</Form.Label>\r\n                <Form.Control\r\n                  as=\"select\"\r\n                  custom\r\n                  value={widget.source}\r\n                  onChange={(e) => setWidget({ ...widget, source: e.target.value })}\r\n                  required\r\n                >\r\n                  <option value=\"\">Выберите источник</option>\r\n                  {dataSources.map(({ name, url }, key) => (\r\n                    <option key={key} value={url}>\r\n                      {name}\r\n                    </option>\r\n                  ))}\r\n                </Form.Control>\r\n              </Form.Group>\r\n              {widget.type === TABLE && (\r\n                <Form.Group>\r\n                  <Form.Check\r\n                    type=\"checkbox\"\r\n                    checked={widget.options?.isVertical}\r\n                    label=\"Вертикальная таблица\"\r\n                    onChange={(e) =>\r\n                      setWidget({\r\n                        ...widget,\r\n                        options: { ...widget.options, isVertical: e.target.checked },\r\n                      })\r\n                    }\r\n                  />\r\n                </Form.Group>\r\n              )}\r\n            </Form>\r\n          </Col>\r\n          <Col>\r\n            <Row>\r\n              <div className=\"widget-placeholder\">\r\n                {widget.source && <WidgetDiagram widget={widget} width={400} />}\r\n              </div>\r\n            </Row>\r\n          </Col>\r\n        </Row>\r\n      </Modal.Body>\r\n      <Modal.Footer>\r\n        <Button variant=\"secondary\" onClick={() => setShow(false)}>\r\n          Закрыть\r\n        </Button>\r\n        <Button variant=\"warning\" onClick={handleSave} disabled={widget.name === \"\"}>\r\n          Сохранить изменения\r\n        </Button>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default WidgetParams;\r\n","import React, { useState, useCallback, useEffect } from \"react\";\r\nimport { Link } from 'react-router-dom'\r\nimport { schemes } from \"reaviz\";\r\nimport axios from \"axios\";\r\n\r\nimport GearFill from \"react-bootstrap-icons/dist/icons/gear-fill\";\r\nimport TrashFill from \"react-bootstrap-icons/dist/icons/trash-fill\";\r\n\r\nimport WidgetDiagram from \"./dashboard/WidgetDiagram\";\r\nimport EditWidget from \"./dashboard/EditWidget\";\r\nimport AddWidget from \"./dashboard/AddWidget\";\r\n\r\nfunction Dashboard() {\r\n  const [diagrams, setDiagrams] = useState([]);\r\n\r\n  const [showEditForm, setShowEditForm] = useState(false);\r\n  const [showAddForm, setShowAddForm] = useState(false);\r\n  const [selectedWidget, setSelectedWidget] = useState({});\r\n\r\n  /*\r\n   * Показываем окно настроек\r\n   */\r\n  const showSettingsModal = (widget) => {\r\n    setSelectedWidget(widget);\r\n    setShowEditForm(true);\r\n  };\r\n\r\n  /*\r\n   * Удаляем диаграмму\r\n   */\r\n  const removeDiagram = ({ id }) => {\r\n    // Ищем индекс\r\n    const index = diagrams.findIndex((item) => item.id === id);\r\n    // Удаляем локально\r\n    setDiagrams(diagrams.filter((item, i) => (i !== index ? item : null)));\r\n    // Удаляем с сервера\r\n    axios.delete(\"/admin/ajax/diagrams/\" + id);\r\n  };\r\n\r\n  /*\r\n   * Добавляем диаграмму\r\n   */\r\n  const addDiagram = async (widget) => {\r\n    // Добавляем на сервер\r\n    const data = {\r\n      title: widget.name,\r\n      settings: JSON.stringify({ ...widget }),\r\n    };\r\n    const req = await axios.post(\"/admin/ajax/diagrams\", data);\r\n    if (req.status === 200 && typeof req.data !== \"string\") {\r\n      // Добавляем в локальный стейт\r\n      setDiagrams([...diagrams, { ...widget, id: req.data.id }]);\r\n    }\r\n  };\r\n\r\n  /*\r\n   * Обновляем диаграмму\r\n   */\r\n  const updateDiagram = (widget) => {\r\n    // Находим индекс виджета по id\r\n    const itemIndex = diagrams.findIndex((item) => item.id === widget.id);\r\n    // Обновляем локальные настройки\r\n    setDiagrams(diagrams.map((item, index) => (itemIndex === index ? widget : item)));\r\n    // Формируем данные для БД\r\n    const data = {\r\n      title: widget.name,\r\n      settings: JSON.stringify({ ...widget }),\r\n    };\r\n    // Отправляем новые настройки на сервер\r\n    axios.put(\"/admin/ajax/diagrams/\" + widget.id, data);\r\n  };\r\n\r\n  /*\r\n   * Получаем список диаграмм\r\n   */\r\n  const getDiagrams = useCallback(async () => {\r\n    const req = await axios(\"/admin/ajax/diagrams\");\r\n    if (req.status === 200 && typeof req.data !== \"string\") {\r\n      // Приводим результат запроса к соотв. виду.\r\n      const diagrams = req.data.map((item) => {\r\n        const settings = JSON.parse(item.settings);\r\n        return { id: item.id, ...settings };\r\n      });\r\n      // Добавляем в локальный стейт\r\n      setDiagrams(diagrams);\r\n    }\r\n  }, [setDiagrams]);\r\n\r\n  /*\r\n   * Обновляем диаграммы при монтировании\r\n   */\r\n  useEffect(() => {\r\n    getDiagrams();\r\n  }, [getDiagrams]);\r\n\r\n  return (\r\n    <div className=\"admin-templates admin-page\">\r\n      <div className=\"admin-heading\">\r\n        <div className=\"admin-breadcrumbs\">\r\n          <a className=\"admin-breadcrumbs__link\" href=\"#\">\r\n            Analytics\r\n          </a>\r\n        </div>\r\n        <button onClick={() => setShowAddForm(true)} className=\"btn\">\r\n          Add Widget\r\n        </button>\r\n        <Link className=\"btn\" to={`/admin/dashboard/colors`}>Color Schemes</Link>\r\n      </div>\r\n      <div className=\"admin-content\">\r\n        <div className=\"charts\">\r\n          {diagrams.map((widget) => (\r\n            <div key={widget.id} className=\"card\" style={{ width: widget.width }}>\r\n              <div className=\"card-header\">\r\n                <div className=\"card-header__name\">{widget.name}</div>\r\n                <div className=\"card-header__buttons d-print-none\">\r\n                  <button\r\n                    className=\"d-none d-sm-inline-block\"\r\n                    type=\"button\"\r\n                    title=\"Настроить виджет\"\r\n                    onClick={() => showSettingsModal(widget)}\r\n                  >\r\n                    <GearFill color=\"#8E94AA\" />\r\n                  </button>\r\n                  <button\r\n                    className=\"d-none d-sm-inline-block\"\r\n                    type=\"button\"\r\n                    title=\"Удалить виджет\"\r\n                    onClick={() => removeDiagram(widget)}\r\n                  >\r\n                    <TrashFill color=\"#8E94AA\" />\r\n                  </button>\r\n                </div>\r\n              </div>\r\n              <div className=\"card-body\">\r\n                <WidgetDiagram widget={widget} width={360} />\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n        {showEditForm && (\r\n          <EditWidget\r\n            show={showEditForm}\r\n            setShow={setShowEditForm}\r\n            diagram={selectedWidget}\r\n            onSave={updateDiagram}\r\n          />\r\n        )}\r\n        {showAddForm && (\r\n          <AddWidget show={showAddForm} setShow={setShowAddForm} onSave={addDiagram} />\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Dashboard;\r\n","import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nexport default class Plugins extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      plugins: []\r\n    };\r\n  }\r\n\r\n  async componentWillMount() {\r\n    const req = await axios.get(\"/admin/ajax/plugins\");\r\n    this.setState({\r\n      plugins: req.data\r\n    });\r\n  }\r\n\r\n  async updateChange(event, index) {\r\n    this.state.plugins[index].enabled = event.target.checked;\r\n\r\n    const pluginName = this.state.plugins[index].name;\r\n    const value = event.target.checked;\r\n\r\n    const req = await axios.post(\"/admin/ajax/plugins/switch\", {\r\n      name: pluginName,\r\n      value: value\r\n    });\r\n    this.setState({\r\n      plugins: this.state.plugins\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"admin-pages admin-page\">\r\n        <div className=\"admin-heading\">\r\n          <div className=\"admin-breadcrumbs\">\r\n            <a className=\"admin-breadcrumbs__link\" href=\"#\">\r\n              Plugins\r\n            </a>\r\n            <span className=\"admin-breadcrumbs__separator\">/</span>\r\n            <span className=\"admin-breadcrumbs__current\">All Plugins</span>\r\n          </div>\r\n        </div>\r\n        <div className=\"admin-content\">\r\n          <div className=\"row\">\r\n            {this.state.plugins.map((item, key) => {\r\n              return (\r\n                <div className=\"col-3 text-center border rounded mx-2\">\r\n                  <div className=\"mb-2\">{item.name}</div>\r\n                  <a href={item.url}><img\r\n                    className=\"mb-2\"\r\n                    src={item.image}\r\n                    style={{ maxWidth: \"150px\" }}\r\n                    alt=\"\"\r\n                  ></img></a>\r\n                  <div class=\"custom-control custom-switch\">\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      className=\"custom-control-input\"\r\n                      id={`switch${key}`}\r\n                      checked={item.enabled}\r\n                      onChange={event => this.updateChange(event, key)}\r\n                    ></input>\r\n                    <label\r\n                      className=\"custom-control-label\"\r\n                      for={`switch${key}`}\r\n                    >\r\n                      {item.enabled == true\r\n                        ? \"Plugin enabled\"\r\n                        : \"Plugin disabled\"}\r\n                    </label>\r\n                  </div>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Resource from \"../../../editor/src/js/classes/Resource\";\r\nimport AdminTable from \"./AdminTable\";\r\nimport Pagination from \"./Pagination\";\r\nimport { buildPagesTree } from \"../js/helpers\";\r\n\r\nexport default class Reports extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      pages: [],\r\n      currentPage: 1,\r\n      pagesSearch: \"\"\r\n    };\r\n    this.resource = new Resource({ route: \"/admin/ajax/reports\" });\r\n    this.itemsPerPage = 20;\r\n  }\r\n\r\n  getPages = async s => {\r\n    let res = await this.resource.getQueried({ s });\r\n    this.setState(state => {\r\n      return { ...state, pages: res, pagesSearch: s };\r\n    });\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.getPages();\r\n  }\r\n\r\n  changeSearchHandler = e => {\r\n    this.getPages(e.target.value);\r\n  };\r\n\r\n  render() {\r\n    const { currentPage, pages, pagesSearch } = this.state;\r\n    return (\r\n      <div className=\"admin-pages admin-page\">\r\n        <div className=\"admin-heading\">\r\n          <div className=\"admin-breadcrumbs\">\r\n            <a className=\"admin-breadcrumbs__link\" href=\"#\">\r\n              Reports\r\n            </a>\r\n            <span className=\"admin-breadcrumbs__separator\">/</span>\r\n            <span className=\"admin-breadcrumbs__current\">All Reports</span>\r\n          </div>\r\n          <Link className=\"btn\" to=\"/admin/reports/add\">\r\n            Add New Report\r\n          </Link>\r\n          <div className=\"admin-filters\">\r\n            <span className=\"admin-filters__current\">\r\n              All ({this.state.pages.length || \"0\"})\r\n            </span>\r\n          </div>\r\n        </div>\r\n        <div className=\"admin-content\">\r\n          <AdminTable\r\n            columns={[\r\n              {\r\n                name: \"title\",\r\n                title: \"Title\",\r\n                editUrl: true,\r\n                tag: \"Link\"\r\n              },\r\n              {\r\n                name: \"author\",\r\n                title: \"Author\"\r\n              },\r\n              {\r\n                name: \"path\",\r\n                title: \"Path\",\r\n                url: true,\r\n                target: \"_blank\"\r\n              }\r\n            ]}\r\n            quickActions={[\r\n              {\r\n                tag: \"button\",\r\n                route: `/admin/ajax/pages/:id`,\r\n                method: \"delete\",\r\n                confirm: \"Are You Sure?\",\r\n                after: this.getPages,\r\n                className: \"quick-action-menu__item_danger\",\r\n                title: \"Trash\"\r\n              }\r\n            ]}\r\n            rows={buildPagesTree(pages).slice(\r\n              currentPage * this.itemsPerPage - this.itemsPerPage,\r\n              currentPage * this.itemsPerPage\r\n            )}\r\n            search={{\r\n              value: pagesSearch || \"\",\r\n              changeHandler: this.changeSearchHandler\r\n            }}\r\n          />\r\n          <Pagination\r\n            pageCount={Math.ceil(pages.length / this.itemsPerPage) || 1}\r\n            currentPage={currentPage}\r\n            changePage={page => {\r\n              if (currentPage !== page) {\r\n                this.setState({ currentPage: page });\r\n              }\r\n            }}\r\n            itemsCount={pages.length}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, {Component} from \"react\";\r\nimport AdminTable from \"./AdminTable\";\r\nimport Resource from \"../../../editor/src/js/classes/Resource\";\r\nimport {Link} from \"react-router-dom\";\r\n\r\n\r\n/*\r\nimport store from \"../js/store/store\";\r\nimport {setModalSettings, toggleModal} from \"../js/store/modal-settings/actions\";\r\nimport {generateId, redirect} from \"../js/helpers\";*/\r\n\r\nexport default class Tables extends Component{\r\n\t\r\n\tconstructor(props) {\r\n            super(props);\r\n            this.state = {\r\n                editUrl: \"/admin/tables\",\r\n              tag: 'Link',\r\n                modules: [],\r\n                columns: [\r\n                    {\r\n                        name: 'title',\r\n                        title: 'Title',\r\n                        url: true,\r\n                      editUrl: true,\r\n                      tag : 'Link',\r\n                    },\r\n                    {\r\n                        name: 'name',\r\n                        title: 'Name',\r\n                        url: true,\r\n                      editUrl: true,\r\n                      tag : 'Link',\r\n                    },\r\n                    {\r\n                        name: 'description',\r\n                        title: 'Description',\r\n                    },\r\n                    {\r\n                        name: 'setting',\r\n                        title: 'Setting',\r\n                        url: true,\r\n                    },\r\n                    {\r\n                        name: 'updated_at',\r\n                        title: 'Updated At',\r\n                    },\r\n\t\t]\r\n            };\r\n            \r\n            this.resource = new Resource({\r\n                route: '/admin/ajax/tables'\r\n            });\r\n\t\t\r\n\t}\r\n\t\r\n\tasync componentDidMount(){\r\n            this.resource.getAll().then(modules=>{\r\n                this.setModules(modules);\r\n            });\r\n        }\r\n\t\r\n\tsetModules(modules){\r\n            let urlModules = modules.map((row) => {\r\n                row.editUrl = \"/admin/tables/edit/\" + row.id;\r\n                return row;\r\n            });\r\n            \r\n            console.log(urlModules);\r\n            this.setState((state) => {\r\n\t\treturn {modules: urlModules};\r\n            });\r\n        }\r\n\t\r\n\trender(){\r\n            return <div className=\"admin-tables admin-page\">\r\n                <div className=\"admin-heading\">\r\n                    <div className=\"admin-breadcrumbs\">\r\n                        <a className=\"admin-breadcrumbs__link\" href=\"#\">Tables</a>\r\n                        <span className=\"admin-breadcrumbs__separator\">/</span>\r\n                        <span className=\"admin-breadcrumbs__current\">All Tables</span>\r\n                    </div>\r\n                    <Link className=\"btn\" to=\"/admin/tables/add\">Add New</Link>\r\n                    <div className=\"admin-filters\">\r\n                        <span className=\"admin-filters__current\">All ({this.state.modules.length || '0'})</span>\r\n                    </div>\r\n                </div>\r\n                <div className=\"admin-content\">\r\n                    <AdminTable columns={this.state.columns} rows={this.state.modules}/>\r\n                </div>\r\n            </div>;\r\n\t}\r\n\t\t\r\n    \r\n}\r\n","import React, { Component } from \"react\";\r\nimport Resource from \"../../../editor/src/js/classes/Resource\";\r\nimport AdminTable from \"./AdminTable\";\r\nimport store from \"../js/store/store\";\r\nimport { setModalSettings } from \"../js/store/modal-settings/actions\";\r\nimport { generateId, redirect, objectDeepCleaning } from \"../js/helpers\";\r\nimport Pagination from \"./Pagination\";\r\n\r\n\r\nexport default class Templates extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      templates: [],\r\n      allTemplates: [],\r\n      templateAreas: [],\r\n      activeTemplateArea: {},\r\n      pageCount: 1,\r\n      currentPage: 1,\r\n      templateSearch: '',\r\n      sorting: {}\r\n    };\r\n    this.resource = new Resource({\r\n      route: '/admin/ajax/templates'\r\n    });\r\n    this.templateTypesResource = new Resource({\r\n      route: '/admin/ajax/areas'\r\n    });\r\n    this.onClick = this.onClick.bind(this);\r\n    this.changePage = this.changePage.bind(this);\r\n    this.changeActiveArea = this.changeActiveArea.bind(this);\r\n    this.generateTemplateJSON = this.generateTemplateJSON.bind(this);\r\n  }\r\n  changeActiveArea(e) {\r\n    let areaId = parseInt(e.target.dataset.area);\r\n    let activeTemplateArea = {};\r\n    this.state.templateAreas.forEach(area => {\r\n      if (area.id === areaId) {\r\n        activeTemplateArea = area;\r\n      }\r\n    });\r\n    this.setActiveArea(activeTemplateArea)\r\n  }\r\n\r\n  /**\r\n   * Смена текущей страницы\r\n   */\r\n  changePage(currentPage) {\r\n    this.updateTemplates(currentPage, this.state.activeTemplateArea);\r\n    this.setState(state => ({ ...state, currentPage }));\r\n  }\r\n\r\n  /**\r\n   * Сменить текущую область шаблона (вкладка)\r\n   * @param activeTemplateArea\r\n   */\r\n  setActiveArea(activeTemplateArea) {\r\n    this.updateTemplates(1, activeTemplateArea);\r\n    this.setState(state => {\r\n      return { ...state, activeTemplateArea };\r\n    })\r\n  }\r\n\r\n  /**\r\n   * Метод для обновления списка шаблонов\r\n   * @param currentPage\r\n   * @param activeTemplateArea\r\n   */\r\n  updateTemplates = (currentPage = this.state.currentPage, activeTemplateArea = this.state.activeTemplateArea) => {\r\n    this.resource.getQueried({\r\n      area: activeTemplateArea.name,\r\n      page: currentPage,\r\n      pageSize: 10,\r\n      s: this.state.templateSearch,\r\n      ...this.state.sorting\r\n    }).then(res => {\r\n      this.setState(state => {\r\n        return {\r\n          ...state,\r\n          pageCount: res.pageCount,\r\n          templates: res.templates\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  /** @function generateTemplateJSON\r\n  * Генерируем контент файла template в формате JSON\r\n  * @param {object} template Данные, получаемые с сервера\r\n  * @return {string} Строка в формате JSON\r\n  */\r\n  generateTemplateJSON(template) {\r\n    const data = objectDeepCleaning(JSON.parse(template.data));\r\n    return JSON.stringify({\r\n      area: this.state.activeTemplateArea.name,\r\n      data,\r\n      title: template.title,\r\n      name: template.name,\r\n      __exported_metas__: template.__exported_metas__,\r\n    });\r\n  }\r\n  /** @function downloadJSONFile\r\n  * Скачиваем файл\r\n  * @param {object} template Данные, получаемые с сервера\r\n  */\r\n  downloadJSONFile(template) {\r\n    const element = document.createElement(\"a\");\r\n    const file = new Blob([this.generateTemplateJSON(template)], { type: 'text/plain' });\r\n    element.href = URL.createObjectURL(file);\r\n    element.download = `${template.name}.json`;\r\n    document.body.appendChild(element); // Required for this to work in FireFox\r\n    element.click();\r\n  }\r\n\r\n  /**\r\n   * Компонент загрузился\r\n   */\r\n  async componentDidMount() {\r\n    let templateAreas = await this.templateTypesResource.getAll();\r\n    this.setActiveArea(templateAreas[0]);\r\n    this.setState(state => {\r\n      return { ...state, templateAreas }\r\n    });\r\n    this.updateTemplates(this.state.currentPage, this.state.activeTemplateArea)\r\n  }\r\n\r\n  /**\r\n   * Показываем/скрываем форму импорта\r\n   */\r\n  toggleImportForm = () => {\r\n    this.setState(state => ({ ...state, showImportForm: !this.state.showImportForm }))\r\n  };\r\n  /**\r\n   * Импортируем шаблон из файла\r\n   */\r\n  importTemplate = (e) => {\r\n    e.preventDefault();\r\n    let files = _.get(e, 'target.files.files', []);\r\n    let uploadedFilesCount = 0;\r\n    if (files.length) {\r\n      _.forEach(files, f => {\r\n        let fr = new FileReader();\r\n        fr.onload = async (e) => {\r\n          let importedTemplateData = _.get(e, 'target.result', '{}');\r\n          importedTemplateData = JSON.parse(importedTemplateData);\r\n          importedTemplateData.isImported = true;\r\n          let areaExists = false;\r\n          this.state.templateAreas.forEach(ta => {\r\n            if (ta.name === importedTemplateData.area) {\r\n              importedTemplateData.area = ta.id;\r\n              areaExists = true;\r\n            }\r\n          });\r\n          if (!areaExists) {\r\n            importedTemplateData.area = _.filter(this.state.templateAreas, ta => {\r\n              return ta.name === 'content';\r\n            });\r\n          }\r\n          // let res = await this.templateImportModule.importTemplate(importedTemplateData)\r\n          try {\r\n            let res = await this.resource.post(importedTemplateData);\r\n            if(res.redirect && res.url){\r\n              const newLink = document.createElement('a');\r\n              newLink.href = res.url\r\n              newLink.setAttribute('target', '_blank');\r\n              newLink.click()\r\n            }\r\n          }catch (error){\r\n            console.error(error);\r\n          }\r\n          this.updateTemplates(this.state.currentPage)\r\n        };\r\n\r\n        fr.readAsText(f);\r\n      })\r\n    }\r\n  };\r\n\r\n  onClick() {\r\n    let modalSettings = {\r\n      title: 'Add New Template',\r\n      submitButton: 'Add',\r\n      submit: function (formData) {\r\n        let data = {\r\n          name: formData.title,\r\n          title: formData.title,\r\n          area: formData.area,\r\n          data: {\r\n            children: [],\r\n            id: generateId(),\r\n            name: \"root-element\",\r\n            settings: {},\r\n            type: \"root-element\",\r\n          }\r\n        };\r\n        return (new Resource({ route: '/admin/ajax/templates' })).post(data)\r\n      },\r\n      fields: [\r\n        {\r\n          name: 'title',\r\n          label: 'Template Name',\r\n          required: true,\r\n        },\r\n        {\r\n          name: 'area',\r\n          label: 'Area Name',\r\n          required: true,\r\n          type: 'select',\r\n          options: this.getAreasOptions(),\r\n          defaultValue: this.state.activeTemplateArea.id\r\n        }\r\n      ],\r\n      success: function (res) {\r\n        if (res.redirect && res.url) {\r\n          redirect(res.url)\r\n        }\r\n      },\r\n      active: true,\r\n    };\r\n    store.dispatch(setModalSettings(modalSettings));\r\n  }\r\n  getAreasOptions() {\r\n    return this.state.templateAreas;\r\n  }\r\n  setTemplates(templates) {\r\n    let allTemplates = templates;\r\n    templates = templates.filter(template => {\r\n      return template.area === this.state.activeTemplateArea.name;\r\n    });\r\n    this.setState(state => {\r\n      return { ...state, templates, allTemplates };\r\n    });\r\n  }\r\n\r\n  sortingHandler = (order_by, order) => {\r\n    this.setState({ sorting: { order_by, order } }, this.updateTemplates);\r\n  }\r\n\r\n  searchTemplates = e => {\r\n    e.preventDefault();\r\n    this.updateTemplates();\r\n  }\r\n\r\n  render() {\r\n    const { templateSearch, sorting } = this.state\r\n    return <div className=\"admin-templates admin-page\">\r\n      <div className=\"admin-heading\">\r\n        <div className=\"admin-breadcrumbs\">\r\n          <a className=\"admin-breadcrumbs__link\" href=\"#\">Templates</a>\r\n          <span className=\"admin-breadcrumbs__separator\">/</span>\r\n          <span className=\"admin-breadcrumbs__current\">All Templates</span>\r\n        </div>\r\n        <button onClick={this.onClick} className=\"btn\">Add New</button>\r\n        <button onClick={this.toggleImportForm} className=\"btn ml-3\">Import Template</button>\r\n        <div className=\"admin-filters\">\r\n          <span className=\"admin-filters__current\">All ({this.state.allTemplates.length || ''})</span>\r\n        </div>\r\n      </div>\r\n      <div className=\"admin-content\">\r\n        {this.state.showImportForm &&\r\n        <form className={\"admin-form justify-content-center\" + (this.state.showImportForm ? ' d-flex' : ' d-none')}\r\n          onSubmit={this.importTemplate}>\r\n          <input type=\"file\"\r\n            name=\"files\"\r\n            multiple={true}\r\n            required={true}\r\n            accept=\"application/json\"\r\n            className=\"form__input\" />\r\n          <button className=\"btn\">Import</button>\r\n        </form>}\r\n        <ul className=\"nav nav-pills admin-pills\">\r\n          {this.state.templateAreas.map(area => {\r\n            let tabClasses = ['nav-link',];\r\n            if (this.state.activeTemplateArea.name === area.name) {\r\n              tabClasses.push('active');\r\n            }\r\n            return <li className=\"nav-item\" key={area.id}>\r\n              <button className={tabClasses.join(' ')}\r\n                onClick={this.changeActiveArea}\r\n                data-area={area.id}>{area.title}</button>\r\n            </li>\r\n          })}\r\n        </ul>\r\n        <form className=\"admin-panel py-2\" onSubmit={this.searchTemplates}>\r\n          <input className=\"input-sm mr-2\" value={templateSearch} onChange={e => this.setState({ templateSearch: e.target.value })} />\r\n          <button className=\"btn btn_bare admin-users-button\">Search</button>\r\n        </form>\r\n        <AdminTable columns={[\r\n          {\r\n            name: 'title',\r\n            title: 'Title',\r\n            url: true,\r\n            target: '_blank',\r\n          },\r\n          {\r\n            name: 'author',\r\n            title: 'Author',\r\n          },\r\n        ]}\r\n          rows={this.state.templates}\r\n          quickActions={[{\r\n            tag: 'a', props: {\r\n              href: '/admin/editor?template_id=:id',\r\n              target: '_blank',\r\n              // className: ''\r\n            },\r\n            title: 'Edit'\r\n          }, {\r\n            tag: 'button',\r\n            route: '/admin/ajax/templates/:id/reviews',\r\n            method: 'delete',\r\n            // className: ''\r\n            title: 'Clear History'\r\n          }, {\r\n            tag: 'button',\r\n            route: '/admin/ajax/exports/templates',\r\n            method: 'get',\r\n            after: response => this.downloadJSONFile(response),\r\n            title: 'Export'\r\n          }, {\r\n            tag: 'button',\r\n            route: '/admin/ajax/templates/:id',\r\n            method: 'delete',\r\n            confirm: 'Are You Sure?',\r\n            after: () => this.updateTemplates(this.state.currentPage, this.state.activeTemplateArea),\r\n            className: 'quick-action-menu__item_danger',\r\n            title: 'Trash'\r\n          }]}\r\n          sortingHandler={this.sortingHandler}\r\n          sortingField={sorting.order_by}\r\n        />\r\n        <Pagination pageCount={this.state.pageCount || 1}\r\n          currentPage={this.state.currentPage}\r\n          changePage={this.changePage}\r\n          itemsCount={this.state.templates.length}\r\n        />\r\n      </div>\r\n    </div>;\r\n  }\r\n\r\n}\r\n","import React, { Component } from \"react\";\r\nimport Resource from \"../../../editor/src/js/classes/Resource\";\r\nimport AdminTable from \"./AdminTable\";\r\nimport store from \"../js/store/store\";\r\nimport { setModalSettings } from \"../js/store/modal-settings/actions\";\r\nimport { redirect } from \"../js/helpers\";\r\n\r\nexport default class Robots extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      robots: [],\r\n      model_id: false\r\n    };\r\n\r\n    this.resource = new Resource({\r\n      route: \"ajax/robots\"\r\n    });\r\n\r\n    this.addNew = this.addNew.bind(this);\r\n  }\r\n\r\n  async componentDidMount() {\r\n    await this.fetchData();\r\n    console.log(this.state);\r\n  }\r\n\r\n  async fetchData() {\r\n    const robots = await this.resource.getAll();\r\n\r\n    if (_.isArray(robots)) {\r\n      robots.map(item =>{\r\n        item.url = `/admin/robots-editor?robot_id=${item.id}`;\r\n        return item;\r\n      });\r\n    }\r\n    console.log(robots);\r\n\r\n    this.setState(state => ({ ...state, robots }));\r\n  }\r\n\r\n  goToRobotsEditor() {\r\n    window.location.href = \"/admin/robots-editor\";\r\n  }\r\n\r\n  addNew() {\r\n    const modalSettings = {\r\n      title: \"Add new Robot\",\r\n      submitButton: \"Add\",\r\n      submit: data =>\r\n        this.resource.post({\r\n          name: data.name,\r\n        }),\r\n      fields: [\r\n        {\r\n          name: \"name\",\r\n          label: \"Robot name\",\r\n          required: true\r\n        },\r\n      ],\r\n      active: true,\r\n      success: res => {\r\n        if (res.redirect_route) {\r\n          redirect(res.redirect_route);\r\n        }\r\n      }\r\n    };\r\n\r\n    store.dispatch(setModalSettings(modalSettings));\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"admin-templates admin-page\">\r\n        <div className=\"admin-heading\">\r\n          <div className=\"admin-breadcrumbs\">\r\n            <a className=\"admin-breadcrumbs__link\" href=\"#\">\r\n              Robots\r\n            </a>\r\n            <span className=\"admin-breadcrumbs__separator\">/</span>\r\n            <span className=\"admin-breadcrumbs__current\">All Robots</span>\r\n          </div>\r\n          <button onClick={this.addNew} className=\"btn\">\r\n            Add New\r\n          </button>\r\n          {/* <button className=\"btn ml-3\">Import Robot</button> */}\r\n          <div className=\"admin-filters\">\r\n            <span className=\"admin-filters__current\">\r\n              {/* All ({this.state.allTemplates.length || \"\"}) */}\r\n            </span>\r\n          </div>\r\n        </div>\r\n        <div className=\"admin-content\">\r\n          <AdminTable\r\n            columns={[\r\n              {\r\n                name: \"name\",\r\n                title: \"Name\",\r\n                url: true,\r\n                target: \"_blank\"\r\n              },\r\n              {\r\n                name: \"author\",\r\n                title: \"Author\",\r\n              },\r\n              {\r\n                name: \"model_id\",\r\n                title: \"Model\",\r\n              },\r\n              {\r\n                name: \"start_condition\",\r\n                title: \"Start Condition\",\r\n              },\r\n              {\r\n                name: \"enabled\",\r\n                title: \"Enabled\",\r\n              }\r\n            ]}\r\n            rows={this.state.robots}\r\n            quickActions={[\r\n              {\r\n                tag: \"a\",\r\n                props: {\r\n                  href: \"/admin/robots-editor?robot_id=:id\",\r\n                  target: \"_blank\"\r\n                },\r\n                title: \"Edit\"\r\n              }, {\r\n                // tag: \"button\",\r\n                // route: \"/admin/ajax/robots\",\r\n                // method: \"put\",\r\n                // data: {name: 1},\r\n                // after: () => this.fetchData(),\r\n                // title: \"Rename\"\r\n\r\n\r\n                tag: \"button\",\r\n                route: \"/admin/ajax/robots\",\r\n                method: \"put\",\r\n                data: {power: 1},\r\n                after: () => this.fetchData(),\r\n                title: \"Enable\"\r\n              }, {\r\n                tag: \"button\",\r\n                route: \"/admin/ajax/robots/:id\",\r\n                method: \"delete\",\r\n                confirm: \"Are You Sure?\",\r\n                after: () => this.fetchData(),\r\n                className: \"quick-action-menu__item_danger\",\r\n                title: \"Trash\"\r\n              }\r\n            ]}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\nexport default (({\n  styles = {},\n  ...props\n}) => <svg width=\"10\" height=\"11\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" {...props}><path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M5.583 5.354L9.23 1.707 8.523 1 4.9 4.622 1.753 1.024 1 1.683l3.212 3.67L1 9.025l.753.659L4.9 6.085l3.622 3.622L9.23 9 5.583 5.354z\" fill=\"#343B4C\" /><path d=\"M9.23 1.707l.177.177.176-.177-.176-.177-.177.177zM5.583 5.354l-.176-.177-.177.177.177.176.176-.176zM8.523 1L8.7.823 8.523.646l-.177.177.177.177zM4.9 4.622l-.188.165.175.2.19-.188-.177-.177zM1.753 1.024L1.94.86 1.776.672l-.188.164.165.188zM1 1.683l-.165-.188-.188.164.165.188L1 1.683zm3.212 3.67l.188.165.144-.164-.144-.165-.188.165zM1 9.025L.812 8.86l-.165.188.188.164L1 9.024zm.753.659l-.165.188.188.165.165-.189-.188-.164zM4.9 6.085l.176-.177-.189-.189-.175.201.188.165zm3.622 3.622l-.177.177.177.177.177-.177-.177-.177zM9.23 9l.177.177L9.583 9l-.176-.177L9.23 9zm-.177-7.47L5.407 5.177l.353.353 3.647-3.646-.354-.354zm-.707-.353l.707.707.354-.354L8.7.823l-.354.354zM5.077 4.799L8.7 1.177 8.346.823 4.724 4.445l.353.354zm-3.513-3.61l3.149 3.598.376-.33L1.94.86l-.377.329zm-.4.682l.753-.659-.33-.376-.752.659.33.376zM4.4 5.189l-3.212-3.67-.376.328 3.212 3.671.376-.33zm-.376 0L.812 8.859l.376.33L4.4 5.519l-.376-.33zM.835 9.212l.753.659.33-.376-.753-.659-.33.376zm1.106.635L5.089 6.25l-.377-.33-3.148 3.598.377.33zm2.783-3.585l3.622 3.622.354-.354-3.623-3.622-.353.354zM8.7 9.884l.707-.707-.354-.354-.707.707.354.354zm.707-1.06L5.76 5.176l-.353.353 3.646 3.647.354-.354z\" fill=\"#000\" /></svg>);","import {connect} from \"react-redux\";\r\nimport React, {Component} from \"react\";\r\nimport TimesIcon from '../svgs/times.svg';\r\nimport store from \"../js/store/store\";\r\nimport {toggleModal} from \"../js/store/modal-settings/actions\";\r\n\r\n\r\nclass AdminModal extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.toggleModal = this.toggleModal.bind(this);\r\n    this.changeValue = this.changeValue.bind(this);\r\n    this.storeSubscribe = this.storeSubscribe.bind(this);\r\n    this.submit = this.submit.bind(this);\r\n    this.formData = {};\r\n    props.fields.forEach(field=>{\r\n      if(field.defaultValue){\r\n        this.formData[field.name] = field.defaultValue;\r\n      }\r\n    });\r\n    this.state = {\r\n      errors: [],\r\n    };\r\n    store.subscribe(this.storeSubscribe);\r\n  }\r\n  storeSubscribe(){\r\n    store.getState().modalSettings.fields.forEach(field=>{\r\n      if(field.defaultValue){\r\n        this.formData[field.name] = field.defaultValue;\r\n      }\r\n    });\r\n  }\r\n  submit() {\r\n    let valid = true;\r\n    let errors = this.props.fields.map(field => {\r\n      if (field.required &&\r\n          !this.formData[field.name]) {\r\n        valid = false;\r\n        return field.errorMessage || `Need complete this field`;\r\n      }\r\n    });\r\n    if (! valid) {\r\n      this.setState(state => {\r\n        return {...state, errors}\r\n      });\r\n      return;\r\n    }\r\n    this.props.submit(this.formData).then(this.props.success)\r\n  }\r\n\r\n  changeValue(e) {\r\n    let target = e.target;\r\n    this.formData[target.dataset.field] = target.value;\r\n    let errors = [...this.state.errors];\r\n    errors[target.dataset.error] = '';\r\n    this.setState(state => {\r\n      return {...state, errors}\r\n    });\r\n  }\r\n\r\n  toggleModal() {\r\n    store.dispatch(toggleModal());\r\n  }\r\n\r\n  render() {\r\n    let modalClasses = 'admin-modal';\r\n    if (this.props.active) {\r\n      modalClasses += ' admin-modal_active';\r\n    }\r\n    return <div className={modalClasses}>\r\n      <div className=\"admin-modal__bg\" onClick={this.toggleModal}/>\r\n      <div className=\"admin-modal-content\">\r\n        <button className=\"admin-modal__close\" onClick={this.toggleModal}><TimesIcon className=\"icon\"/></button>\r\n        <div className=\"admin-caption\">{this.props.title}</div>\r\n        <div className=\"admin-modal-form form\">\r\n          {\r\n            this.props.fields.map((field, idx) => <label className=\"form-label\"\r\n                                                         data-field={field.name}\r\n                                                         key={field.name}>{field.label}\r\n              {(field.type !== 'select') ?\r\n                  <input type={field.type || 'text'}\r\n                         className=\"form__input\"\r\n                         data-field={field.name}\r\n                         data-error={idx}\r\n                         defaultValue={field.defaultValue || ''}\r\n                         onChange={this.changeValue}/> :\r\n                  <select className=\"form__input\"\r\n                          data-field={field.name}\r\n                          data-error={idx}\r\n                          defaultValue={field.defaultValue || ''}\r\n                          onChange={this.changeValue}>\r\n                    <option value=\"\"/>\r\n                    {\r\n                      field.options.map(option =>\r\n                          <option key={option.id}\r\n                                  value={option.id}\r\n                                  children={option.title || option.name}/>)\r\n                    }\r\n                  </select>\r\n              }\r\n              {this.state.errors[idx] ? <span className=\"form-label__error\">{this.state.errors[idx]}</span> : ''}\r\n            </label>)\r\n          }\r\n          <div className=\"form-bottom\">\r\n            <button className=\"btn btn_success\" onClick={this.submit}>{this.props.submitButton}</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    ...state.modalSettings\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps)(AdminModal);\r\n","import React, { Component } from \"react\";\r\nimport TimesIcon from '../svgs/times.svg';\r\n\r\nclass AdminModal2 extends Component {\r\n  render() {\r\n    const { closeHandler, children } = this.props;\r\n\r\n    return ReactDOM.createPortal(<div className=\"admin-modal admin-modal_active\">\r\n      <div className=\"admin-modal__bg\" onClick={closeHandler} />\r\n      <div className=\"admin-modal-content\">\r\n        <button className=\"admin-modal__close\" onClick={closeHandler}><TimesIcon className=\"icon\" /></button>\r\n        {children}\r\n      </div>\r\n    </div>, document.body)\r\n  }\r\n}\r\n\r\nexport default AdminModal2;\r\n","import React, {Component} from \"react\";\r\nimport TimesIcon from '../../svgs/times.svg'\r\nclass ParamItem extends Component {\r\n\r\n  /**\r\n   * Меняем значение параметра\r\n   */\r\n  changeValue=(e)=>{\r\n    const param = {...this.props.param, paramValue: e.target.value || ''};\r\n    this.props.onChange(param)\r\n  };\r\n  /**\r\n   * Меняем имя параметра\r\n   */\r\n  changeName=(e)=>{\r\n    const param = {...this.props.param, paramName: e.target.value || ''};\r\n    this.props.onChange(param)\r\n  };\r\n  /**\r\n   * Меняем обязательность параметра\r\n   */\r\n  changeRequired=(e)=>{\r\n    const param = {...this.props.param, required: e.target.checked};\r\n    this.props.onChange(param)\r\n  };\r\n render(){\r\n   return <div className=\"param-item pb-2\">\r\n     <button type=\"button\"\r\n             className=\"close\"\r\n             aria-label=\"Delete\"\r\n             onClick={this.props.onDelete}>\r\n       <TimesIcon/>\r\n     </button>\r\n     <input type=\"text\"\r\n            className=\"form-control form-control-sm ml-0 mb-1\"\r\n            onChange={this.changeName}\r\n            value={this.props.param.paramName || ''}\r\n            placeholder=\"Parameter Name\"/>\r\n     <input type=\"text\"\r\n            className=\"form-control  form-control-sm ml-0\"\r\n            onChange={this.changeValue}\r\n            value={this.props.param.paramValue || ''}\r\n            placeholder=\"Parameter Value\"/>\r\n     <div className=\"d-flex mt-1 align-items-center\">\r\n       <input type=\"checkbox\"\r\n              className=\"form-check-input mr-1 ml-0 mt-0 position-static\"\r\n              id={this.props.param.key}\r\n              onChange={this.changeRequired}\r\n              checked={this.props.param.required}/>\r\n       <label htmlFor={this.props.param.key}\r\n              className=\"form-check-label\">Required</label>\r\n     </div>\r\n   </div>\r\n }\r\n}\r\n\r\nexport default ParamItem","import React, {Component} from \"react\";\r\nimport {altrpRandomId, mbParseJSON} from \"../../../../front-app/src/js/helpers\";\r\nimport ParamItem from \"./ParamItem\";\r\n\r\nclass PageDataSourceParams extends Component {\r\n  /**\r\n   * Добавляем элемент\r\n   */\r\n  addItem=()=>{\r\n    let parameters = mbParseJSON(this.props.parameters, []);\r\n    parameters.push({\r\n      required: false,\r\n      paramName: '',\r\n      paramValue: '',\r\n      key: altrpRandomId(),\r\n    });\r\n    this.props.onChange(parameters)\r\n  };\r\n  render(){\r\n    const parameters = mbParseJSON(this.props.parameters, []) ;\r\n    return <div className=\"page-data-source-params\">\r\n      {\r\n        parameters.map((param, idx)=>{\r\n          return <ParamItem param={param}\r\n                            onChange={param=>{\r\n                              let _parameters = [...parameters];\r\n                              _parameters[idx] = param;\r\n                              this.props.onChange(_parameters);\r\n                            }}\r\n                            onDelete={()=>{\r\n                              let _parameters = [...parameters];\r\n                              _parameters.splice(idx, 1);\r\n                              this.props.onChange(_parameters);\r\n                            }}\r\n                            key={param.key}/>\r\n        })\r\n      }\r\n      <div className=\"d-flex justify-content-end\">\r\n        <button className=\"btn btn_success\"\r\n                onClick={this.addItem}\r\n                type=\"button\">+</button>\r\n      </div>\r\n    </div>\r\n  }\r\n}\r\n\r\nexport default PageDataSourceParams","import React, { Component } from \"react\";\r\nimport { withRouter } from 'react-router-dom';\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\nimport AltrpSelect from \"../altrp-select/AltrpSelect\";\r\nimport {altrpRandomId, isJSON, mbParseJSON, parseParamsFromString} from \"../../../../front-app/src/js/helpers\";\r\nimport PageDataSourceParams from \"./PageDataSourceParams\";\r\n\r\nclass PageDataSourceForm extends Component {\r\n  state = {\r\n    source_id: '',\r\n    alias: '',\r\n    priority: 100,\r\n    parameters: '',\r\n    dataSourceOptions: [],\r\n    autoload: true,\r\n    isExtendedSettings: isJSON(_.get(this.props, 'dataSource.parameters')),\r\n    ...this.props.dataSource\r\n  };\r\n\r\n  changeHandler = ({ target: { value, name, checked } }) => {\r\n    if(name === 'autoload' || name === 'server_side'){\r\n      value = checked;\r\n    }\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  async componentDidMount() {\r\n    const resource = new Resource({ route: '/admin/ajax/data_sources' });\r\n    const { data_sources } = await resource.getAll();\r\n    this.setState({ dataSourceOptions: data_sources })\r\n  }\r\n\r\n  submitHandler = e => {\r\n    e.preventDefault();\r\n    const { id } = this.props.match.params;\r\n    const resource = new Resource({ route: `/admin/ajax/page_data_sources` });\r\n    const data = { ...this.state };\r\n    delete data.dataSourceOptions;\r\n    if (this.props.dataSource) {\r\n        resource.put(data.id, data);\r\n    } else {\r\n      resource.post({ page_id: id, ...data });\r\n    }\r\n    this.props.updateHandler();\r\n  };\r\n  /**\r\n   * Переключаем тип настройки параметров с раширинных до обычных\r\n   */\r\n  toggleParamsSettings=()=>{\r\n    let isExtendedSettings = ! this.state.isExtendedSettings;\r\n    let parameters;\r\n    if(isExtendedSettings){\r\n      parameters = parseParamsFromString(this.state.parameters, {}, false, false, false);\r\n      parameters = _.map(parameters, (paramValue, paramName) => {\r\n        return {\r\n          paramValue,\r\n          paramName,\r\n          key: altrpRandomId(),\r\n          required: false,\r\n        }\r\n      });\r\n      parameters = JSON.stringify(parameters);\r\n    } else {\r\n      parameters = mbParseJSON(this.state.parameters) || [];\r\n      let _parameters = '';\r\n      parameters.forEach(param => {\r\n        _parameters += `${param.paramName || ''} | ${param.paramValue || ''}\\n`\r\n      });\r\n      parameters = _parameters;\r\n    }\r\n    this.setState(state => ({...state, isExtendedSettings, parameters}));\r\n  };\r\n  render() {\r\n    let { source_id, alias, priority, parameters, dataSourceOptions, autoload, isExtendedSettings, server_side } = this.state;\r\n    dataSourceOptions = dataSourceOptions.map(source=>({value:source.id, label:source.title || source.name}));\r\n    return <form className=\"admin-form\" onSubmit={this.submitHandler}>\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"source_id\">Data Source</label>\r\n        {/*<select id=\"source_id\"*/}\r\n          {/*name=\"source_id\"*/}\r\n          {/*value={source_id}*/}\r\n          {/*onChange={this.changeHandler}*/}\r\n          {/*className=\"form-control\"*/}\r\n        {/*>*/}\r\n          {/*<option value=\"\" />*/}\r\n          {/*{dataSourceOptions.map(({ id, name }) => <option value={id} key={id}>{name}</option>)}*/}\r\n        {/*</select>*/}\r\n        <AltrpSelect options={dataSourceOptions}\r\n                     onChange={({value})=>{\r\n                       this.setState(state => ({...state, source_id: value}));\r\n                     }}\r\n                     value={dataSourceOptions.find(({value})=>value === source_id)}/>\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"alias\">Alias</label>\r\n        <input type=\"text\" id=\"alias\" required\r\n          name=\"alias\"\r\n          value={alias}\r\n          onChange={this.changeHandler}\r\n          className=\"form-control\"\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"priority\">Priority</label>\r\n        <input type=\"number\" id=\"priority\" required\r\n          name=\"priority\"\r\n          value={priority}\r\n          onChange={this.changeHandler}\r\n          className=\"form-control\"\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"autoload\">Autoload</label>\r\n        <input type=\"checkbox\" id=\"autoload\"\r\n          name=\"autoload\"\r\n          checked={autoload}\r\n          onChange={this.changeHandler}\r\n          className=\"form-check-input position-static ml-2\"\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"server_side\">Server Side</label>\r\n        <input type=\"checkbox\" id=\"server_side\"\r\n          name=\"server_side\"\r\n          checked={server_side}\r\n          onChange={this.changeHandler}\r\n          className=\"form-check-input position-static ml-2\"\r\n        />\r\n      </div>\r\n      <div className=\"admin_switcher\">\r\n        <div className=\"admin_switcher__label\">Extended Params Settings</div>\r\n        <div className={`control-switcher ${isExtendedSettings ? 'control-switcher_on' : 'control-switcher_off'}`}\r\n             onClick={this.toggleParamsSettings}>\r\n          <div className=\"control-switcher__on-text\">ON</div>\r\n          <div className=\"control-switcher__caret\"/>\r\n          <div className=\"control-switcher__off-text\">OFF</div>\r\n        </div>\r\n      </div>\r\n      {! isExtendedSettings && <div className=\"form-group\">\r\n        <label htmlFor=\"parameters\">Parameters:</label>\r\n        <textarea name=\"parameters\"\r\n          id=\"parameters\"\r\n          value={parameters || ''}\r\n          onChange={this.changeHandler}\r\n          className=\"form-control\"\r\n        />\r\n      </div>}\r\n      {isExtendedSettings && <PageDataSourceParams parameters={parameters || ''} onChange={parameters=>{\r\n        this.setState(state=>({...state, parameters: JSON.stringify(parameters)}));\r\n      }}/>}\r\n\r\n      <div className=\"btn__wrapper\">\r\n        <button className=\"btn btn_success\" type=\"submit\">Add</button>\r\n      </div>\r\n    </form>;\r\n  }\r\n}\r\n\r\nexport default withRouter(PageDataSourceForm);\r\n","import React, {Component} from \"react\";\r\nimport store from '../../js/store/store'\r\nimport {assetsShow} from \"../../../../editor/src/js/store/assets-browser/actions\";\r\nimport { iconsManager } from \"../../js/helpers\";\r\nimport styled from \"styled-components\";\r\n\r\nconst IconSelectWrapper = styled.div`\r\n  & svg{\r\n    max-width: ${({maxWidth}) => maxWidth || '200px'};\r\n    max-height: ${({maxHeight}) => maxHeight || '200px'};\r\n  }\r\n  & .altrp-icon-select__content{\r\n    padding: 20px;\r\n    background-color: #F7F8F9;\r\n    display: flex;\r\n    justify-content: center;\r\n  }\r\n`;\r\n\r\nclass IconSelect extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      value: props.value,\r\n    }\r\n  }\r\n  openAssetsBrowser = ()=>{\r\n    const assetsSettings = {\r\n      tabs: ['icons'],\r\n      onChoose: async (icon)=>{\r\n        let returnType = this.props.returnType;\r\n        if(! returnType){\r\n          returnType = 'object';\r\n        }\r\n        switch (returnType){\r\n          case 'object':{\r\n            this.props.onChange && this.props.onChange(icon)\r\n          }break;\r\n          case 'text':{\r\n            try {\r\n              fetch(icon.url).then(res => res.text()).then(res=>{\r\n                this.props.onChange && this.props.onChange(res)\r\n              });\r\n            }catch (e) {\r\n              console.error(e);\r\n              this.props.onChange && this.props.onChange('')\r\n            }\r\n          }break;\r\n        }\r\n      }\r\n    };\r\n    store.dispatch(assetsShow(assetsSettings))\r\n  }\r\n\r\n  updateValue(){\r\n    if(this.state.value && ! _.isString(this.state.value)){\r\n      fetch(icon.url).then(res => res.text()).then(res=>{\r\n        this.setState(state =>({...state, value: res}))\r\n      });\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.updateValue();\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {{}} prevProps\r\n   * @param {{}} prevState\r\n   */\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if(this.props.value !== prevProps.value){\r\n      this.setState(state =>({...state, value: this.props.value}), ()=>{\r\n        this.updateValue();\r\n      });\r\n    }\r\n  }\r\n\r\n  render(){\r\n    return <IconSelectWrapper\r\n      className={\"altrp-icon-select \" + this.props.className || ''}\r\n      id={this.props.id}\r\n      onClick={this.openAssetsBrowser} {...this.props}>\r\n      {this.props.value ?\r\n        <div className=\"altrp-icon-select__content \" dangerouslySetInnerHTML={{__html: this.props.value}}/>\r\n        : iconsManager().renderIcon('add')}\r\n    </IconSelectWrapper>\r\n  }\r\n}\r\n\r\nexport default IconSelect\r\n","import React, { Component } from \"react\";\r\nimport Resource from \"../../../editor/src/js/classes/Resource\";\r\nimport { Link, Redirect, withRouter } from \"react-router-dom\";\r\nimport AltrpSelect from \"./altrp-select/AltrpSelect\";\r\nimport AdminTable from \"./AdminTable\";\r\nimport AdminModal2 from \"./AdminModal2\";\r\nimport PageDataSourceForm from \"./pages/PageDataSourceForm\";\r\nimport { titleToPath } from \"../js/helpers\";\r\nimport IconSelect from \"./icon-select/IconSelect\";\r\nimport mutate from \"dot-prop-immutable\";\r\n\r\nconst columns = [\r\n  {\r\n    name: \"source.name\",\r\n    title: \"Datasource\",\r\n    url: true\r\n    // editUrl: true,\r\n    // tag: 'Link'\r\n  },\r\n  {\r\n    name: \"alias\",\r\n    title: \"Alias\"\r\n  },\r\n  {\r\n    name: \"priority\",\r\n    title: \"Priority\"\r\n  },\r\n  {\r\n    name: \"server_side\",\r\n    title: \"Server Side\",\r\n  },\r\n];\r\n\r\n/**\r\n * @class\r\n * @property {Resource} resource\r\n */\r\n\r\nclass AddPage extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      page: {},\r\n      value: {},\r\n      redirectAfterSave: false,\r\n      templates: [],\r\n      models: [],\r\n      isModalOpened: false,\r\n      dataSources: [],\r\n      editingDataSource: null,\r\n      pagesOptions: [],\r\n      currentTab: 'content',\r\n    };\r\n    this.resource = new Resource({ route: \"/admin/ajax/pages\" });\r\n    this.pagesOptionsResource = new Resource({\r\n      route: \"/admin/ajax/pages_options\"\r\n    });\r\n    this.model_resource = new Resource({ route: \"/admin/ajax/models_options\" });\r\n    this.templateResource = new Resource({ route: \"/admin/ajax/templates\" });\r\n    this.dataSourceResource = new Resource({\r\n      route: \"/admin/ajax/page_data_sources/pages\"\r\n    });\r\n\r\n    this.savePage = this.savePage.bind(this);\r\n  }\r\n\r\n  /**\r\n   * Компонент загрузился\r\n   * получыаем данный страницы + опции для шаблона\r\n   * @return {Promise<void>}\r\n   */\r\n  async componentDidMount() {\r\n    this.pagesOptionsResource\r\n      .getAll()\r\n      .then(pagesOptions => this.setState({ pagesOptions }));\r\n\r\n    let res = await this.templateResource.getOptions();\r\n    this.setState(state => {\r\n      return { ...state, templates: res };\r\n    });\r\n\r\n    let models_res = await this.model_resource.getAll();\r\n    this.setState(state => {\r\n      return { ...state, models: models_res };\r\n    });\r\n    let id = this.props.match.params.id;\r\n    id = parseInt(id);\r\n    if (id) {\r\n      this.getDataSources();\r\n      let pageData = await this.resource.get(id);\r\n      this.setState(state => {\r\n        return { ...state, value: pageData, id };\r\n      });\r\n    }\r\n  }\r\n\r\n  getDataSources = async () => {\r\n    let id = this.props.match.params.id;\r\n    const dataSources = await this.dataSourceResource.get(id);\r\n    this.setState({ dataSources });\r\n    this.setState({ isModalOpened: false, editingDataSource: null });\r\n  };\r\n\r\n  editHandler = editingDataSource => {\r\n    this.setState({ editingDataSource, isModalOpened: true });\r\n  };\r\n\r\n  /**\r\n   * Сохранить страницу или добавить новую\r\n   * @param e\r\n   * @return {Promise<void>}\r\n   */\r\n  async savePage(e) {\r\n    if(this.state.value.path === undefined ||\r\n      this.state.value.path === ''  ||\r\n      this.state.value.title === undefined ||\r\n      this.state.value.title === '') {\r\n        this.setState(state => {\r\n          return {...state, currentTab: 'content'}\r\n        });\r\n        return;\r\n      }\r\n\r\n    e.preventDefault();\r\n    let res;\r\n    const { parent_page_id } = this.state.value;\r\n    let path = this.state.value.path;\r\n    path = path.split(\"\\\\\").join(\"/\");\r\n    path = path[0] !== \"/\" ? `/${path}` : path;\r\n\r\n    let redirect = this.state.value.redirect;\r\n    redirect = (redirect || \"\").split(\"\\\\\").join(\"/\");\r\n    if (redirect) {\r\n      redirect = redirect[0] !== \"/\" ? `/${redirect}` : redirect;\r\n    }\r\n    this.state.value.redirect = redirect;\r\n    this.state.value.path = path;\r\n    if (this.state.id) {\r\n      res = await this.resource.put(this.state.id, {\r\n        ...this.state.value,\r\n        parent_page_id: parent_page_id === \"root\" ? null : parent_page_id\r\n      });\r\n    } else {\r\n      res = await this.resource.post({\r\n        ...this.state.value,\r\n        parent_page_id: parent_page_id === \"root\" ? null : parent_page_id\r\n      });\r\n    }\r\n    if (res.success) {\r\n      this.setState(state => {\r\n        return { ...state, redirectAfterSave: true };\r\n      }, ()=>{this.props.history.push('/admin/pages')});\r\n    } else {\r\n      this.setState(state => {\r\n        return { ...state, value: {} };\r\n      });\r\n    }\r\n  }\r\n\r\n  changeValue(value, field) {\r\n    if (field === \"path\") {\r\n      value = value.split(\"\\\\\").join(\"/\");\r\n      value = value[0] !== \"/\" ? `/${value}` : value;\r\n    }\r\n    if (field === \"redirect\") {\r\n      value = value.split(\"\\\\\").join(\"/\");\r\n      if (value) {\r\n        value = value[0] !== \"/\" ? `/${value}` : value;\r\n      }\r\n    }\r\n    this.setState(state => {\r\n      const newState = _.cloneDeep(state);\r\n      newState.value[field] = value;\r\n      return newState;\r\n    });\r\n  }\r\n\r\n  parentChangeHandler = parentId => {\r\n    if (parentId === \"root\") {\r\n      this.setState({\r\n        value: { ...this.state.value, parent_page_id: parentId, path: \"/\" }\r\n      });\r\n    } else {\r\n      this.resource.get(parentId).then(({ path }) =>\r\n        this.setState({\r\n          value: {\r\n            ...this.state.value,\r\n            parent_page_id: parentId,\r\n            path:\r\n              path +\r\n              (path.endsWith(\"/\") ? \"\" : \"/\") +\r\n              titleToPath(this.state.value.title)\r\n          }\r\n        })\r\n      );\r\n    }\r\n  };\r\n\r\n  changeCurrentTab(currentTab) {\r\n    return () => this.setState((state)=> {\r\n      return {...state, currentTab }\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { isModalOpened, editingDataSource } = this.state;\r\n\r\n    let { dataSources } = this.state;\r\n\r\n    dataSources = _.sortBy(dataSources, dataSource => dataSource.priority);\r\n    return (\r\n      <div className=\"admin-pages admin-page\">\r\n        <div className=\"admin-heading\">\r\n          <div className=\"admin-breadcrumbs\">\r\n            <Link className=\"admin-breadcrumbs__link\" to=\"/admin/pages\">\r\n              Pages\r\n            </Link>\r\n            <span className=\"admin-breadcrumbs__separator\">/</span>\r\n            <span className=\"admin-breadcrumbs__current\">\r\n              {this.state.value.title || \"Add New Page\"}\r\n            </span>\r\n          </div>\r\n        </div>\r\n        <div className=\"admin-content\">\r\n          <div className=\"custom-tab__tabs\">\r\n            <button\r\n              className={this.state.currentTab === \"content\" ?\r\n              \"custom-tab__tab custom-tab__tab--selected\" :\r\n              \"custom-tab__tab\"}\r\n              onClick={this.changeCurrentTab('content')}\r\n            >\r\n              content\r\n            </button>\r\n            <button\r\n              className={this.state.currentTab === \"SEO\" ?\r\n              \"custom-tab__tab custom-tab__tab--selected\" :\r\n              \"custom-tab__tab\"}\r\n              onClick={this.changeCurrentTab('SEO')}\r\n            >\r\n              SEO\r\n            </button>\r\n          </div>\r\n          <div className=\"custom-tab__tab-panel\">\r\n            <form\r\n              className=\"admin-form mb-2\"\r\n              onSubmit={this.savePage}\r\n            >\r\n              {(() => {\r\n                if(this.state.currentTab === 'content') {\r\n                return (\r\n                  <React.Fragment>\r\n                    <div className=\"form-group\">\r\n                      <label htmlFor=\"page-title\">Title</label>\r\n                      <input\r\n                        type=\"text\"\r\n                        id=\"page-title\"\r\n                        required={1}\r\n                        value={this.state.value.title || \"\"}\r\n                        onChange={e => {\r\n                          this.changeValue(e.target.value, \"title\");\r\n                        }}\r\n                        className=\"form-control\"\r\n                      />\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                      <label htmlFor=\"parent_page_id\">Parent Page</label>\r\n                      <select\r\n                        id=\"parent_page_id\"\r\n                        value={this.state.value.parent_page_id || \"\"}\r\n                        onChange={e => {\r\n                          // this.changeValue(e.target.value, 'parent_page_id');\r\n                          this.parentChangeHandler(e.target.value);\r\n                        }}\r\n                        className=\"form-control\"\r\n                      >\r\n                        <option value=\"\" disabled />\r\n                        <option value=\"root\">Root</option>\r\n                        {this.state.pagesOptions.map(page => {\r\n                          return (\r\n                            <option value={page.value} key={page.value}>\r\n                              {page.label}\r\n                            </option>\r\n                          );\r\n                        })}\r\n                      </select>\r\n                      {/* <AltrpSelect id=\"parent_page_id\"\r\n                      // isMulti={true}\r\n                      optionsRoute=\"/admin/ajax/pages_options\"\r\n                      placeholder=\"\"\r\n                      defaultOptions={[\r\n                        {\r\n                          value: '',\r\n                          label: '',\r\n                        }\r\n                      ]}\r\n                      value={this.state.value.parent_page_id || ''}\r\n                      onChange={({ value }) => { this.parentChangeHandler(value) }}\r\n                    /> */}\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                      <label htmlFor=\"page-path\">Path</label>\r\n                      <input\r\n                        type=\"text\"\r\n                        id=\"page-path\"\r\n                        required={1}\r\n                        value={this.state.value.path || \"\"}\r\n                        onChange={e => {\r\n                          this.changeValue(e.target.value, \"path\");\r\n                        }}\r\n                        className=\"form-control\"\r\n                      />\r\n                    </div>\r\n\r\n                    {/*<div className=\"form-group\">*/}\r\n                    {/*<label htmlFor=\"page-template\">Content Template</label>*/}\r\n                    {/*<select id=\"page-template\"*/}\r\n                    {/*value={this.state.value.template_id || ''}*/}\r\n                    {/*onChange={e => {this.changeValue(e.target.value, 'template_id')}}*/}\r\n                    {/*className=\"form-control\">*/}\r\n                    {/*<option value=\"\"/>*/}\r\n                    {/*{*/}\r\n                    {/*this.state.templates.map(template=>{*/}\r\n                    {/*return <option value={template.value} key={template.value}>{template.label}</option>*/}\r\n                    {/*})*/}\r\n                    {/*}*/}\r\n                    {/*</select>*/}\r\n                    {/*</div>*/}\r\n                    <div className=\"form-group\">\r\n                      <label htmlFor=\"page-model\">Model</label>\r\n                      <select\r\n                        id=\"page-model\"\r\n                        value={this.state.value.model_id || \"\"}\r\n                        onChange={e => {\r\n                          this.changeValue(e.target.value, \"model_id\");\r\n                        }}\r\n                        className=\"form-control\"\r\n                      >\r\n                        <option value=\"\" />\r\n                        {this.state.models.map(model => {\r\n                          return (\r\n                            <option value={model.value} key={model.value}>\r\n                              {model.label}\r\n                            </option>\r\n                          );\r\n                        })}\r\n                      </select>\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                      <label htmlFor=\"page-roles\">Roles</label>\r\n                      <AltrpSelect\r\n                        id=\"page-roles\"\r\n                        isMulti={true}\r\n                        optionsRoute=\"/admin/ajax/role_options\"\r\n                        placeholder=\"All\"\r\n                        defaultOptions={[\r\n                          {\r\n                            value: \"guest\",\r\n                            label: \"Guest\"\r\n                          }\r\n                        ]}\r\n                        value={this.state.value.roles}\r\n                        onChange={value => {\r\n                          this.changeValue(value, \"roles\");\r\n                        }}\r\n                      />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                      <label htmlFor=\"redirect\">Redirect</label>\r\n                      <input\r\n                        type=\"text\"\r\n                        id=\"redirect\"\r\n                        value={this.state.value.redirect || \"\"}\r\n                        onChange={e => {\r\n                          this.changeValue(e.target.value, \"redirect\");\r\n                        }}\r\n                        className=\"form-control\"\r\n                      />\r\n                    </div>\r\n                    <div className=\"row col-12\">\r\n                      <div className=\"form-group col-3 position-static ml-0 align-self-start\">\r\n                        <input type=\"checkbox\" id=\"caching\"\r\n                          checked={this.state.value.is_cached || \"\"}\r\n                          onChange={e => {\r\n                            this.changeValue(e.target.checked, \"is_cached\");\r\n                          }}\r\n                          className=\"form-check-input mr-1 form-check-input_inline\" />\r\n                        <label htmlFor=\"caching\" className=\"label_checkbox\">Сaching (Only for Static Pages)</label>\r\n                      </div>\r\n                      <div className=\"form-group col-1 position-static ml-0 align-self-start\">\r\n                        <input type=\"checkbox\" id=\"404\"\r\n                          checked={this.state.value.not_found || \"\"}\r\n                          onChange={e => {\r\n                            this.changeValue(e.target.checked, \"not_found\");\r\n                          }}\r\n                          className=\"form-check-input mr-1 form-check-input_inline\" />\r\n                        <label htmlFor=\"404\" className=\"label_checkbox\">404</label>\r\n                      </div>\r\n                      {/*<div className=\"form-group col-3 position-static ml-0 align-self-start\">*/}\r\n                      {/*  <label htmlFor=\"sections_count\" className=\"label_checkbox\">Sections Count:</label>*/}\r\n                      {/*  <input type=\"number\" id=\"sections_count\"*/}\r\n                      {/*    value={this.state.value.sections_count || \"\"}*/}\r\n                      {/*    onChange={e => {*/}\r\n                      {/*      this.changeValue(e.target.value, \"sections_count\");*/}\r\n                      {/*    }}*/}\r\n                      {/*    className=\"form-control\" />*/}\r\n                      {/*</div>*/}\r\n                      <div className=\"form-group col-5 position-static ml-0 align-self-start\">\r\n                        <label htmlFor=\"icon\" className=\"label_checkbox\">Page Icon</label>\r\n                        <IconSelect\r\n                          id=\"icon\"\r\n                          returnType=\"text\"\r\n                          value={this.state.value.icon}\r\n                          maxWidth=\"50px\"\r\n                          maxHeight=\"50px\"\r\n                          className=\"col-4\"\r\n                          onChange={(icon) => {\r\n                            let value = mutate.set(this.state.value, 'icon', icon);\r\n                            this.setState(state=>({...state, value}));\r\n                          }}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </React.Fragment>\r\n                );\r\n              } else if(this.state.currentTab === 'SEO') {\r\n                return (\r\n                  <React.Fragment>\r\n                    <div className=\"form-group\">\r\n                      <label htmlFor=\"seo-title\">Title</label>\r\n                      <input\r\n                        type=\"text\"\r\n                        id=\"seo-title\"\r\n                        value={this.state.value.seo_title || \"\"}\r\n                        onChange={e => {\r\n                          this.changeValue(e.target.value, \"seo_title\");\r\n                        }}\r\n                        className=\"form-control\"\r\n                      />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                      <label htmlFor=\"seo-keywords\">Keywords</label>\r\n                      <input\r\n                        type=\"text\"\r\n                        id=\"seo-keywords\"\r\n                        value={this.state.value.seo_keywords || \"\"}\r\n                        onChange={e => {\r\n                          this.changeValue(e.target.value, \"seo_keywords\");\r\n                        }}\r\n                        className=\"form-control\"\r\n                      />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                      <label htmlFor=\"seo_description\">Description</label>\r\n                      <textarea\r\n                        id=\"seo_description\"\r\n                        value={this.state.value.seo_description || \"\"}\r\n                        onChange={e => {\r\n                          this.changeValue(e.target.value, \"seo_description\");\r\n                        }}\r\n                        className=\"form-control\"\r\n                      >\r\n                      </textarea>\r\n                    </div>\r\n                  </React.Fragment>\r\n                );\r\n              }})()}\r\n              <button className= {this.state.value.path ? \"btn btn_success\" : \"btn btn_disable\"}>\r\n                {this.state.id ? \"Save\" : \"Add\"}\r\n              </button>\r\n            </form>\r\n          </div>\r\n\r\n          {Boolean(dataSources.length) && <AdminTable\r\n            columns={columns}\r\n            quickActions={[\r\n              {\r\n                callBack: data => this.editHandler(data),\r\n                title: 'Edit'\r\n              },\r\n              {\r\n                tag: 'button',\r\n                route: `/admin/ajax/page_data_sources/:id`,\r\n                method: 'delete',\r\n                confirm: 'Are You Sure?',\r\n                after: () => this.getDataSources(),\r\n                className: 'quick-action-menu__item_danger',\r\n                title: 'Trash'\r\n              }\r\n            ]}\r\n            rows={dataSources}\r\n          />}\r\n\r\n        {this.props.match.params.id &&\r\n          <button onClick={() => this.setState({ isModalOpened: true })} className=\"btn btn_add\">\r\n            Add Data Source\r\n          </button>}\r\n\r\n          {isModalOpened && (\r\n            <AdminModal2\r\n              closeHandler={() =>\r\n                this.setState({ isModalOpened: false, editingDataSource: null })\r\n              }\r\n            >\r\n              <PageDataSourceForm\r\n                updateHandler={this.getDataSources}\r\n                dataSource={editingDataSource}\r\n              />\r\n            </AdminModal2>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(AddPage);\r\n","import React, { Component } from \"react\";\r\nimport Resource from \"../../../editor/src/js/classes/Resource\";\r\nimport { Link, Redirect, withRouter } from \"react-router-dom\";\r\nimport AltrpSelect from \"./altrp-select/AltrpSelect\";\r\nimport AdminTable from \"./AdminTable\";\r\nimport AdminModal2 from \"./AdminModal2\";\r\nimport PageDataSourceForm from \"./pages/PageDataSourceForm\";\r\nimport { titleToPath } from \"../js/helpers\";\r\n\r\nconst columns = [\r\n  {\r\n    name: \"source.name\",\r\n    title: \"Datasource\",\r\n    url: true\r\n    // editUrl: true,\r\n    // tag: 'Link'\r\n  },\r\n  {\r\n    name: \"alias\",\r\n    title: \"Alias\"\r\n  },\r\n  {\r\n    name: \"priority\",\r\n    title: \"Priority\"\r\n  },\r\n  {\r\n    name: \"parameters\",\r\n    title: \"Parameters\"\r\n  }\r\n];\r\n\r\n/**\r\n * @class\r\n * @property {Resource} resource\r\n */\r\n\r\nclass AddReport extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      page: {},\r\n      value: {},\r\n      redirectAfterSave: false,\r\n      templates: [],\r\n      models: [],\r\n      isModalOpened: false,\r\n      dataSources: [],\r\n      editingDataSource: null,\r\n      pagesOptions: []\r\n    };\r\n    this.resource = new Resource({ route: \"/admin/ajax/reports\" });\r\n    this.pagesOptionsResource = new Resource({\r\n      route: \"/admin/ajax/reports_options\"\r\n    });\r\n    this.model_resource = new Resource({ route: \"/admin/ajax/models_options\" });\r\n    this.templateResource = new Resource({ route: \"/admin/ajax/templates\" });\r\n    this.dataSourceResource = new Resource({\r\n      route: \"/admin/ajax/page_data_sources/pages\"\r\n    });\r\n\r\n    this.savePage = this.savePage.bind(this);\r\n  }\r\n\r\n  /**\r\n   * Компонент загрузился\r\n   * получыаем данный страницы + опции для шаблона\r\n   * @return {Promise<void>}\r\n   */\r\n  async componentDidMount() {\r\n    this.pagesOptionsResource\r\n      .getAll()\r\n      .then(pagesOptions => this.setState({ pagesOptions }));\r\n\r\n    let res = await this.templateResource.getOptions();\r\n    this.setState(state => {\r\n      return { ...state, templates: res };\r\n    });\r\n\r\n    let models_res = await this.model_resource.getAll();\r\n    this.setState(state => {\r\n      return { ...state, models: models_res };\r\n    });\r\n    let id = this.props.match.params.id;\r\n    id = parseInt(id);\r\n    if (id) {\r\n      this.getDataSources();\r\n      let pageData = await this.resource.get(id);\r\n      this.setState(state => {\r\n        return { ...state, value: pageData, id };\r\n      });\r\n    }\r\n  }\r\n\r\n  getDataSources = async () => {\r\n    let id = this.props.match.params.id;\r\n    const dataSources = await this.dataSourceResource.get(id);\r\n    this.setState({ dataSources });\r\n    this.setState({ isModalOpened: false, editingDataSource: null });\r\n  };\r\n\r\n  editHandler = editingDataSource => {\r\n    this.setState({ editingDataSource, isModalOpened: true });\r\n  };\r\n\r\n  /**\r\n   * Сохранить страницу или добавить новую\r\n   * @param e\r\n   * @return {Promise<void>}\r\n   */\r\n  async savePage(e) {\r\n    e.preventDefault();\r\n    let res;\r\n    const { parent_page_id } = this.state.value;\r\n    let path = this.state.value.path;\r\n    path = path.split(\"\\\\\").join(\"/\");\r\n    path = path[0] !== \"/\" ? `/${path}` : path;\r\n\r\n    let redirect = this.state.value.redirect;\r\n    redirect = (redirect || \"\").split(\"\\\\\").join(\"/\");\r\n    if (redirect) {\r\n      redirect = redirect[0] !== \"/\" ? `/${redirect}` : redirect;\r\n    }\r\n    this.state.value.redirect = redirect;\r\n    this.state.value.path = `/reports${path}`;\r\n    this.state.value.type = \"report\";\r\n    if (this.state.id) {\r\n      res = await this.resource.put(this.state.id, {\r\n        ...this.state.value,\r\n        parent_page_id: parent_page_id === \"root\" ? null : parent_page_id\r\n      });\r\n    } else {\r\n      res = await this.resource.post({\r\n        ...this.state.value,\r\n        parent_page_id: parent_page_id === \"root\" ? null : parent_page_id\r\n      });\r\n    }\r\n    if (res.success) {\r\n      this.setState(state => {\r\n        return { ...state, redirectAfterSave: true };\r\n      });\r\n    } else {\r\n      this.setState(state => {\r\n        return { ...state, value: {} };\r\n      });\r\n    }\r\n  }\r\n\r\n  changeValue(value, field) {\r\n    if (field === \"path\") {\r\n      value = value.split(\"\\\\\").join(\"/\");\r\n      value = value[0] !== \"/\" ? `/${value}` : value;\r\n    }\r\n    if (field === \"redirect\") {\r\n      value = value.split(\"\\\\\").join(\"/\");\r\n      if (value) {\r\n        value = value[0] !== \"/\" ? `/${value}` : value;\r\n      }\r\n    }\r\n    this.setState(state => {\r\n      const newState = _.cloneDeep(state);\r\n      newState.value[field] = value;\r\n      return newState;\r\n    });\r\n  }\r\n\r\n  parentChangeHandler = parentId => {\r\n    if (parentId === \"root\") {\r\n      this.setState({\r\n        value: { ...this.state.value, parent_page_id: parentId, path: \"/\" }\r\n      });\r\n    } else {\r\n      this.resource.get(parentId).then(({ path }) =>\r\n        this.setState({\r\n          value: {\r\n            ...this.state.value,\r\n            parent_page_id: parentId,\r\n            path:\r\n              path +\r\n              (path.endsWith(\"/\") ? \"\" : \"/\") +\r\n              titleToPath(this.state.value.title)\r\n          }\r\n        })\r\n      );\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { isModalOpened, editingDataSource } = this.state;\r\n    if (this.state.redirectAfterSave) {\r\n      return <Redirect to=\"/admin/pages\" />;\r\n    }\r\n    let { dataSources } = this.state;\r\n\r\n    dataSources = _.sortBy(dataSources, dataSource => dataSource.priority);\r\n    return (\r\n      <div className=\"admin-pages admin-page\">\r\n        <div className=\"admin-heading\">\r\n          <div className=\"admin-breadcrumbs\">\r\n            <Link className=\"admin-breadcrumbs__link\" to=\"/admin/reports\">\r\n              Reports\r\n            </Link>\r\n            <span className=\"admin-breadcrumbs__separator\">/</span>\r\n            <span className=\"admin-breadcrumbs__current\">\r\n              {this.state.value.title || \"Add New Page\"}\r\n            </span>\r\n          </div>\r\n        </div>\r\n        <div className=\"admin-content\">\r\n          <form\r\n            className=\"admin-form\"\r\n            onSubmit={this.savePage}\r\n            className=\"mb-2\"\r\n          >\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"page-title\">Title</label>\r\n              <input\r\n                type=\"text\"\r\n                id=\"page-title\"\r\n                required={1}\r\n                value={this.state.value.title || \"\"}\r\n                onChange={e => {\r\n                  this.changeValue(e.target.value, \"title\");\r\n                }}\r\n                className=\"form-control\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"page-path\">Path</label>\r\n              <input\r\n                type=\"text\"\r\n                id=\"page-path\"\r\n                required={1}\r\n                value={this.state.value.path || \"\"}\r\n                onChange={e => {\r\n                  this.changeValue(e.target.value, \"path\");\r\n                }}\r\n                className=\"form-control\"\r\n              />\r\n            </div>\r\n\r\n            {/*<div className=\"form-group\">*/}\r\n            {/*<label htmlFor=\"page-template\">Content Template</label>*/}\r\n            {/*<select id=\"page-template\"*/}\r\n            {/*value={this.state.value.template_id || ''}*/}\r\n            {/*onChange={e => {this.changeValue(e.target.value, 'template_id')}}*/}\r\n            {/*className=\"form-control\">*/}\r\n            {/*<option value=\"\"/>*/}\r\n            {/*{*/}\r\n            {/*this.state.templates.map(template=>{*/}\r\n            {/*return <option value={template.value} key={template.value}>{template.label}</option>*/}\r\n            {/*})*/}\r\n            {/*}*/}\r\n            {/*</select>*/}\r\n            {/*</div>*/}\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"page-model\">Model</label>\r\n              <select\r\n                id=\"page-model\"\r\n                value={this.state.value.model_id || \"\"}\r\n                onChange={e => {\r\n                  this.changeValue(e.target.value, \"model_id\");\r\n                }}\r\n                className=\"form-control\"\r\n              >\r\n                <option value=\"\" />\r\n                {this.state.models.map(model => {\r\n                  return (\r\n                    <option value={model.value} key={model.value}>\r\n                      {model.label}\r\n                    </option>\r\n                  );\r\n                })}\r\n              </select>\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"page-roles\">Roles</label>\r\n              <AltrpSelect\r\n                id=\"page-roles\"\r\n                isMulti={true}\r\n                optionsRoute=\"/admin/ajax/role_options\"\r\n                placeholder=\"All\"\r\n                defaultOptions={[\r\n                  {\r\n                    value: \"guest\",\r\n                    label: \"Guest\"\r\n                  }\r\n                ]}\r\n                value={this.state.value.roles}\r\n                onChange={value => {\r\n                  this.changeValue(value, \"roles\");\r\n                }}\r\n              />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"redirect\">Redirect</label>\r\n              <input\r\n                type=\"text\"\r\n                id=\"redirect\"\r\n                value={this.state.value.redirect || \"\"}\r\n                onChange={e => {\r\n                  this.changeValue(e.target.value, \"redirect\");\r\n                }}\r\n                className=\"form-control\"\r\n              />\r\n            </div>\r\n            <button className=\"btn btn_success\">\r\n              {this.state.id ? \"Save\" : \"Add\"}\r\n            </button>\r\n          </form>\r\n\r\n          {Boolean(dataSources.length) && (\r\n            <AdminTable\r\n              columns={columns}\r\n              quickActions={[\r\n                {\r\n                  callBack: data => this.editHandler(data),\r\n                  title: \"Edit\"\r\n                },\r\n                {\r\n                  tag: \"button\",\r\n                  route: `/admin/ajax/page_data_sources/:id`,\r\n                  method: \"delete\",\r\n                  confirm: \"Are You Sure?\",\r\n                  after: () => this.getDataSources(),\r\n                  className: \"quick-action-menu__item_danger\",\r\n                  title: \"Trash\"\r\n                }\r\n              ]}\r\n              rows={dataSources.map(dataSource => ({\r\n                ...dataSource /* editUrl: `/admin/tables/models/${model.id}/fields/edit/${field.id}` */\r\n              }))}\r\n            />\r\n          )}\r\n\r\n          {this.props.match.params.id && (\r\n            <button\r\n              onClick={() => this.setState({ isModalOpened: true })}\r\n              className=\"btn btn_add\"\r\n            >\r\n              Add Data Source\r\n            </button>\r\n          )}\r\n\r\n          {isModalOpened && (\r\n            <AdminModal2\r\n              closeHandler={() =>\r\n                this.setState({ isModalOpened: false, editingDataSource: null })\r\n              }\r\n            >\r\n              <PageDataSourceForm\r\n                updateHandler={this.getDataSources}\r\n                dataSource={editingDataSource}\r\n              />\r\n            </AdminModal2>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(AddReport);\r\n","import React from \"react\";\nexport default (({\n  styles = {},\n  ...props\n}) => <svg width=\"20\" height=\"22\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" {...props}><path d=\"M10 22a2.75 2.75 0 002.749-2.75H7.25A2.75 2.75 0 0010 22zm9.255-6.433c-.83-.892-2.383-2.234-2.383-6.63 0-3.338-2.341-6.01-5.498-6.667v-.895a1.375 1.375 0 10-2.748 0v.895C5.469 2.926 3.128 5.6 3.128 8.938c0 4.395-1.553 5.737-2.383 6.63a1.343 1.343 0 00-.37.932 1.376 1.376 0 001.38 1.375h16.49c.822 0 1.376-.67 1.38-1.375a1.342 1.342 0 00-.37-.933z\" fill=\"#8E94AA\" /></svg>);","import React from \"react\";\nexport default (({\n  styles = {},\n  ...props\n}) => <svg width=\"18\" height=\"18\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" {...props}><path d=\"M11.625 13.5h-.75a.375.375 0 00-.375.375V16.5h-9v-15h9v2.625c0 .207.168.375.375.375h.75A.375.375 0 0012 4.125V1.5A1.5 1.5 0 0010.5 0h-9A1.5 1.5 0 000 1.5v15A1.5 1.5 0 001.5 18h9a1.5 1.5 0 001.5-1.5v-2.625a.375.375 0 00-.375-.375z\" fill=\"#8E94AA\" /><path d=\"M17.878 8.724l-4.5-4.125a.374.374 0 00-.628.276v.75c0 .106.045.208.124.279l2.607 2.346H4.875a.375.375 0 00-.375.375v.75c0 .208.168.375.375.375h10.606l-2.607 2.347a.375.375 0 00-.124.278v.75a.375.375 0 00.628.277l4.5-4.125a.374.374 0 000-.553z\" fill=\"#8E94AA\" /></svg>);","import React, {Component} from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport BellIcon from './../svgs/bell.svg';\r\nimport UserIcon from './../svgs/user.svg';\r\nimport LogoutIcon from './../svgs/logout.svg';\r\nimport {logout} from \"../js/helpers\";\r\n\r\n\r\nclass UserTopPanel extends Component {\r\n  render(){\r\n    return<div className=\"admin-user-top-panel top-panel d-flex align-items-center\">\r\n      <a href=\"#\" className=\"top-panel-notification notification\">\r\n        <BellIcon className=\"notification__icon\"/>\r\n      </a>\r\n      <UserIcon className=\"top-panel__portrait\"/>\r\n      <div className=\"top-panel__greeting\">Hello, {this.props.userName || \"administrator\"}</div>\r\n      <button className=\"top-panel-logout logout\" onClick={logout}>\r\n        <LogoutIcon className=\"logout__icon\"/>\r\n      </button>\r\n    </div>\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    userName: state.currentUser.name\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps)(UserTopPanel);","import React, { Component } from \"react\";\r\nimport { Tab, TabList, TabPanel, Tabs } from \"react-tabs\";\r\nimport 'react-tabs/style/react-tabs.scss';\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport AdminTable from \"./AdminTable\";\r\nimport Pagination from \"./Pagination\";\r\nimport Resource from \"../../../editor/src/js/classes/Resource\";\r\n\r\nconst columnsModel = [\r\n  {\r\n    name: 'title',\r\n    title: 'Title',\r\n    url: true,\r\n    editUrl: true,\r\n    tag: 'Link'\r\n  },\r\n  {\r\n    name: 'name',\r\n    title: 'Name'\r\n  },\r\n  {\r\n    name: 'description',\r\n    title: 'Description'\r\n  },\r\n  {\r\n    name: 'updated_at',\r\n    title: 'Updated At'\r\n  }\r\n];\r\nconst columnsDataSource = [\r\n  {\r\n    name: 'name',\r\n    title: 'Name',\r\n    url: true,\r\n    editUrl: true,\r\n    tag: 'Link'\r\n  },\r\n  {\r\n    name: 'model.title',\r\n    title: 'Model'\r\n  },\r\n  {\r\n    name: 'route',\r\n    title: 'Route'\r\n  },\r\n  {\r\n    name: 'type',\r\n    title: 'Type'\r\n  }\r\n];\r\n\r\nexport default class Models extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      activeTab: 0,\r\n      modelsCurrentPage: 1,\r\n      dataSourcesCurrentPage: 1,\r\n      models: [],\r\n      modelsSearch: '',\r\n      modelsPageCount: 1,\r\n      modelsCount: 0,\r\n      modelsSorting: {},\r\n      dataSources: [],\r\n      dataSourcesSearch: '',\r\n      dataSourcesPageCount: 1,\r\n      dataSourcesCount: 0,\r\n      dataSourcesSorting: {}\r\n    };\r\n    this.switchTab = this.switchTab.bind(this);\r\n    this.changePage = this.changePage.bind(this);\r\n    this.modelsResource = new Resource({ route: '/admin/ajax/models' });\r\n    this.dataSourcesResource = new Resource({ route: '/admin/ajax/data_sources' });\r\n    this.itemsPerPage = 10;\r\n  }\r\n\r\n  switchTab(activeTab) {\r\n    this.setState(state => ({ ...state, activeTab }))\r\n  }\r\n\r\n  changePage(currentPage, pagination) {\r\n    this.setState(state => ({ ...state, [pagination]: { ...state[pagination], currentPage } }));\r\n  }\r\n\r\n  /**\r\n   * Обновить список источников данных\r\n   */\r\n  getDataSources = async () => {\r\n    let res = await this.dataSourcesResource.getQueried({\r\n      page: this.state.dataSourcesCurrentPage,\r\n      pageSize: this.itemsPerPage,\r\n      preset: false,\r\n      s: this.state.dataSourcesSearch,\r\n      ...this.state.dataSourcesSorting\r\n    });\r\n    this.setState(state => {\r\n      return {\r\n        ...state,\r\n        dataSources: res.data_sources,\r\n        dataSourcesPageCount: res.pageCount || 1\r\n      }\r\n    });\r\n  };\r\n\r\n  /**\r\n   * Обновить список моделей\r\n   */\r\n  getModels = async () => {\r\n    let res = await this.modelsResource.getQueried({\r\n      page: this.state.modelsCurrentPage,\r\n      pageSize: this.itemsPerPage,\r\n      preset: false,\r\n      s: this.state.modelsSearch,\r\n      ...this.state.modelsSorting\r\n    });\r\n    this.setState(state => {\r\n      return {\r\n        ...state,\r\n        models: res.models,\r\n        modelsPageCount: res.pageCount\r\n      }\r\n    });\r\n  };\r\n\r\n  // slicePage = (array, page, itemsPerPage) => {\r\n  //   return array.slice(page * itemsPerPage - itemsPerPage, page * itemsPerPage);\r\n  // }\r\n\r\n  async componentDidMount() {\r\n    // get: /admin/ajax/models .then(models => {\r\n    //   this.setState({models});\r\n    // });\r\n    // let models = await this.modelsResource.getAll();\r\n    // this.setState(state => ({\r\n    //   ...state,\r\n    //   modelsCount: models.models.length\r\n    // }));\r\n\r\n    // let data_sources = await this.dataSourcesResource.getAll();\r\n    // this.setState(state => ({\r\n    //   ...state,\r\n    //   dataSourcesCount: data_sources.data_sources.length\r\n    // }));\r\n\r\n    this.getModels();\r\n    this.getDataSources();\r\n  }\r\n\r\n  modelsSortingHandler = (order_by, order) => {\r\n    this.setState({ modelsSorting: { order_by, order } }, this.getModels);\r\n  }\r\n\r\n  dataSourcesSortingHandler = (order_by, order) => {\r\n    this.setState({ dataSourcesSorting: { order_by, order } }, this.getDataSources);\r\n  }\r\n\r\n  searchModel = e => {\r\n    e.preventDefault();\r\n    this.getModels();\r\n  }\r\n\r\n  searchDataSources = e => {\r\n    e.preventDefault();\r\n    this.getDataSources();\r\n  }\r\n\r\n  render() {\r\n    const { activeTab, models, dataSources, modelsCurrentPage, dataSourcesCurrentPage, modelsSearch, dataSourcesSearch,\r\n      modelsPageCount, dataSourcesPageCount, modelsCount, dataSourcesCount, modelsSorting, dataSourcesSorting } = this.state;\r\n\r\n    return <div className=\"admin-settings admin-page\">\r\n      <div className=\"admin-heading\">\r\n        <div className=\"admin-breadcrumbs\">\r\n          <a className=\"admin-breadcrumbs__link\" href=\"#\">Tables</a>\r\n          <span className=\"admin-breadcrumbs__separator\">/</span>\r\n          <span className=\"admin-breadcrumbs__current\">{activeTab === 0 ? 'All Models' : 'All Data Sources'}</span>\r\n        </div>\r\n        <Link className=\"btn\" to={`/admin/tables/${activeTab === 0 ? 'models' : 'data-sources'}/add`}>Add New</Link>\r\n      </div>\r\n      <div className=\"admin-content\">\r\n        <Tabs selectedIndex={activeTab} onSelect={this.switchTab}>\r\n          <TabList className=\"nav nav-pills admin-pills\">\r\n            <Tab>\r\n              Models\r\n            </Tab>\r\n            <Tab>\r\n              Data Sources\r\n            </Tab>\r\n          </TabList>\r\n          <TabPanel>\r\n            <form className=\"admin-panel py-2\" onSubmit={this.searchModel}>\r\n              <input className=\"input-sm mr-2\" value={modelsSearch} onChange={e => this.setState({ modelsSearch: e.target.value })} />\r\n              <button className=\"btn btn_bare admin-users-button\">Search</button>\r\n            </form>\r\n            <AdminTable\r\n              columns={columnsModel}\r\n              quickActions={[\r\n                {\r\n                  tag: 'Link',\r\n                  props: { href: '/admin/tables/models/edit/:id' },\r\n                  title: 'Edit'\r\n                },\r\n                {\r\n                  tag: 'button',\r\n                  route: '/admin/ajax/models/:id',\r\n                  method: 'delete',\r\n                  confirm: 'Are You Sure?',\r\n                  after: () => { this.getModels() },\r\n                  className: 'quick-action-menu__item_danger',\r\n                  title: 'Trash'\r\n                }\r\n              ]}\r\n              rows={models.map(model => ({\r\n                ...model,\r\n                editUrl: '/admin/tables/models/edit/' + model.id\r\n              }))}\r\n              sortingHandler={this.modelsSortingHandler}\r\n              sortingField={modelsSorting.order_by}\r\n            />\r\n            <Pagination pageCount={modelsPageCount || 1}\r\n              currentPage={modelsCurrentPage || 1}\r\n              changePage={modelsCurrentPage => {\r\n                if (this.state.modelsCurrentPage !== modelsCurrentPage) {\r\n                  this.setState({ modelsCurrentPage }, this.getModels)\r\n                }\r\n              }\r\n              }\r\n              itemsCount={modelsCount}\r\n            />\r\n          </TabPanel>\r\n          <TabPanel>\r\n            <form className=\"admin-panel py-2\" onSubmit={this.searchDataSources}>\r\n              <input className=\"input-sm mr-2\" value={dataSourcesSearch} onChange={e => this.setState({ dataSourcesSearch: e.target.value })} />\r\n              <button className=\"btn btn_bare admin-users-button\">Search</button>\r\n            </form>\r\n            <AdminTable\r\n              columns={columnsDataSource}\r\n              quickActions={[\r\n                {\r\n                  tag: 'Link',\r\n                  props: { href: '/admin/tables/data-sources/edit/:id' },\r\n                  title: 'Edit'\r\n                },\r\n                {\r\n                  tag: 'button',\r\n                  route: '/admin/ajax/data_sources/:id',\r\n                  method: 'delete',\r\n                  confirm: 'Are You Sure?',\r\n                  after: () => { this.getDataSources() },\r\n                  className: 'quick-action-menu__item_danger',\r\n                  title: 'Trash'\r\n                }\r\n              ]}\r\n              rows={dataSources.map(dataSource => ({\r\n                ...dataSource,\r\n                editUrl: '/admin/tables/data-sources/edit/' + dataSource.id\r\n              }))}\r\n              sortingHandler={this.dataSourcesSortingHandler}\r\n              sortingField={dataSourcesSorting.order_by}\r\n            />\r\n            <Pagination pageCount={dataSourcesPageCount}\r\n              currentPage={dataSourcesCurrentPage}\r\n              changePage={dataSourcesCurrentPage => this.setState({ dataSourcesCurrentPage }, this.getDataSources)}\r\n              itemsCount={dataSourcesCount}\r\n            />\r\n          </TabPanel>\r\n        </Tabs>\r\n      </div>\r\n    </div>\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport {Link, Redirect} from \"react-router-dom\";\r\nimport { titleToName }from \"../../js/helpers\";\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\nimport AltrpSelect from \"../altrp-select/AltrpSelect\";\r\n\r\nclass EditModelForm extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      value: {...this.props.model}\r\n    };\r\n    this.submitHandler = this.submitHandler.bind(this);\r\n    this.deleteHandler = this.deleteHandler.bind(this);\r\n    this.titleChangeHandler = this.titleChangeHandler.bind(this);\r\n  }\r\n\r\n  /**\r\n   * Сменить значение поля модели\r\n   * @param value\r\n   * @param field\r\n   */\r\n  changeValue(value, field) {\r\n    this.setState(state => {\r\n      state = { ...state };\r\n      state.value[field] = value;\r\n      return state\r\n    });\r\n  }\r\n\r\n  titleChangeHandler(e) {\r\n    e.persist();\r\n    this.setState(state => ({\r\n      ...state, value: {\r\n        ...state.value,\r\n        title: e.target.value,\r\n        name: titleToName(e.target.value)\r\n      }\r\n    }))\r\n  }\r\n\r\n  /**\r\n   * Обновляем state при получении новых props (model)\r\n   */\r\n  componentDidUpdate(prevProps){\r\n    if(this.props !== prevProps){\r\n      this.setState(state => {\r\n        state = { ...state };\r\n        state.value = {...this.props.model};\r\n        return state\r\n      });\r\n    }\r\n  }\r\n  /**\r\n   * Обработка формы\r\n   * @param e\r\n   */\r\n  submitHandler(e) {\r\n    e.preventDefault();\r\n    if(_.isFunction(this.props.onSubmit)){\r\n      delete this.state.value.created_at;\r\n      delete this.state.value.updated_at;\r\n      this.props.onSubmit(this.state.value);\r\n    } else {\r\n      console.log(this.state.value);\r\n    }\r\n  }\r\n\r\n  async deleteHandler() {\r\n    // delete: /admin/ajax/models/{model_id}\r\n    let res = await (new Resource({route: '/admin/ajax/models'}).delete(this.props.model.id));\r\n    this.setState(state=>({...state, redirect: '/admin/tables/models/'}))\r\n  }\r\n\r\n  render() {\r\n    const model = this.state.value;\r\n    if(this.state.redirect){\r\n      return <Redirect to={this.state.redirect} push={true}/>\r\n    }\r\n    return <form className=\"admin-form row\" onSubmit={this.submitHandler}>\r\n      <div className=\"form-group col-12\">\r\n        <label htmlFor=\"page-title\">Model Title</label>\r\n        <input type=\"text\" id=\"page-title\" required\r\n          value={model.title || ''}\r\n          onChange={this.titleChangeHandler}\r\n          className=\"form-control\" />\r\n      </div>\r\n      <div className=\"form-group col-4\">\r\n        <label htmlFor=\"page-name\">Model Name</label>\r\n        <input type=\"text\" id=\"page-name\" required\r\n          value={model.name || ''}\r\n          onChange={e => { this.changeValue(e.target.value, 'name') }}\r\n          className=\"form-control\" />\r\n      </div>\r\n      <div className=\"form-group col-4\">\r\n        <label htmlFor=\"page-description\">Parent Model</label>\r\n        <input type=\"text\" id=\"page-description\"\r\n               value={model.parent_model_id || ''}\r\n               onChange={e => { this.changeValue(e.target.value, 'parent_model_id') }}\r\n               className=\"form-control\" />\r\n      </div>\r\n      <div className=\"form-group col-4\">\r\n        <label htmlFor=\"page-description\">Model Description</label>\r\n        <input type=\"text\" id=\"page-description\"\r\n          value={model.description || ''}\r\n          onChange={e => { this.changeValue(e.target.value, 'description') }}\r\n          className=\"form-control\" />\r\n      </div>\r\n      {(model.id) ? '' : <div className=\"form-group col-12 \">\r\n        <label htmlFor=\"model-table_id\" className=\"label_checkbox\">Table</label>\r\n        <AltrpSelect\r\n            id=\"model-table_id\"\r\n            defaultOptions={[\r\n              {\r\n                value: '',\r\n                label: ' ',\r\n              }\r\n            ]}\r\n            value={this.state.value.table_id || ''}\r\n            isDisabled={model.id}\r\n            onChange={value => {this.changeValue(value, 'table_id')}}\r\n            optionsRoute=\"/admin/ajax/tables/options\"/>\r\n      </div>}\r\n      <div className=\"row col-12\">\r\n        <div className=\"form-group col-6 form-check-inline\">\r\n          <input type=\"checkbox\" id=\"page-soft_deletes\"\r\n            checked={model.soft_deletes}\r\n            onChange={e => { this.changeValue(e.target.checked, 'soft_deletes') }}\r\n            className=\"form-check-input form-check-input\" />\r\n          <label htmlFor=\"page-soft_deletes\" className=\"label_checkbox\">Soft Deletes</label>\r\n        </div>\r\n        <div className=\"form-group col-6 form-check-inline\">\r\n          <input type=\"checkbox\" id=\"page-time_stamps\"\r\n            checked={model.time_stamps}\r\n            onChange={e => { this.changeValue(e.target.checked, 'time_stamps') }}\r\n            className=\"form-check-input form-check-input_inline\" />\r\n          <label htmlFor=\"page-time_stamps\" className=\"label_checkbox\">Time Stamps</label>\r\n        </div>\r\n\r\n      </div>\r\n      <div className=\"btn__wrapper\">\r\n        <button className=\"btn btn_success\" type=\"submit\">{this.props.submitText}</button>\r\n        <Link to=\"/admin/tables/models\"><button className=\"btn\">Cancel</button></Link>\r\n        {this.props.edit\r\n            ? <button className=\"btn btn_failure\" type=\"button\" onClick={this.deleteHandler}>Delete</button>\r\n            : ''}\r\n      </div>\r\n    </form>;\r\n  }\r\n}\r\n\r\nexport default EditModelForm;\r\n","import React, { Component } from \"react\";\r\nimport { withRouter } from 'react-router-dom';\r\nimport Resource from \"../../../../../editor/src/js/classes/Resource\";\r\n\r\nclass ValidatedFieldForm extends Component {\r\n  state = {\r\n    name: '',\r\n    column_id: '',\r\n    column_name: '',\r\n    is_created: false,\r\n    is_updated: false,\r\n    source_id: '',\r\n    ...this.props.field\r\n  };\r\n\r\n  changeHandler = ({ target: { value, name } }) => {\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  submitHandler = e => {\r\n    e.preventDefault();\r\n    const model_id = this.props.match.params.id\r\n    this.props.field ?\r\n      this.props.validationsResource.put(this.props.field.id, { ...this.state, model_id }) :\r\n      this.props.validationsResource.post({ ...this.state, model_id });\r\n    this.props.updateValidations();\r\n  };\r\n\r\n  render() {\r\n    const { name, column_id, column_name, is_created, is_updated, source_id } = this.state;\r\n    const { fieldsOptions, data_source_options } = this.props;\r\n    return <form className=\"admin-form\" onSubmit={this.submitHandler}>\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"name\">Name</label>\r\n        <input type=\"text\" id=\"name\" required\r\n          name=\"name\"\r\n          value={name}\r\n          onChange={this.changeHandler}\r\n          className=\"form-control\"\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"column_id\">Column</label>\r\n        <select id=\"column_id\" required\r\n          name=\"column_id\"\r\n          value={column_id}\r\n          onChange={this.changeHandler}\r\n          className=\"form-control\"\r\n        >\r\n          <option value=\"\" />\r\n          {fieldsOptions.map(({ id, name }) => <option value={id} key={id}>{name}</option>)}\r\n        </select>\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"source_id\">Data Source</label>\r\n        <select id=\"source_id\" required\r\n          name=\"source_id\"\r\n          value={source_id}\r\n          onChange={this.changeHandler}\r\n          className=\"form-control\"\r\n        >\r\n          <option value=\"\" />\r\n          {data_source_options.map(({ value, label }) => <option value={value} key={value}>{label}</option>)}\r\n        </select>\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"column_name\">Column Name</label>\r\n        <input type=\"text\" id=\"column_name\"\r\n          name=\"column_name\"\r\n          value={column_name}\r\n          onChange={this.changeHandler}\r\n          className=\"form-control\"\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <input type=\"checkbox\" id=\"is_created\"\r\n          checked={is_created}\r\n          onChange={e => this.setState({ is_created: e.target.checked })}\r\n        />\r\n        <label className=\"checkbox-label\" htmlFor=\"is_created\">is Created</label>\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <input type=\"checkbox\" id=\"is_updated\"\r\n          checked={is_updated}\r\n          onChange={e => this.setState({ is_updated: e.target.checked })}\r\n        />\r\n        <label className=\"checkbox-label\" htmlFor=\"is_updated\">is Updated</label>\r\n      </div>\r\n\r\n      <div className=\"btn__wrapper\">\r\n        <button className=\"btn btn_success\" type=\"submit\">Submit</button>\r\n      </div>\r\n    </form>;\r\n  }\r\n}\r\n\r\nexport default withRouter(ValidatedFieldForm);","import React, { Component } from \"react\";\r\nimport Resource from \"../../../../../editor/src/js/classes/Resource\";\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nclass RuleForm extends Component {\r\n  state = {\r\n    rule: this.props.editingRule ? this.props.editingRule.rule : ''\r\n  };\r\n\r\n  changeHandler = ({ target: { value, name } }) => {\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  submitHandler = async (e) => {\r\n    e.preventDefault();\r\n    const { validation_field_id } = this.props\r\n    const resource = new Resource({ route: `/admin/ajax/models/${this.props.match.params.id}/validations/${validation_field_id}/validation_rules` });\r\n    this.props.editingRule ?\r\n      await resource.put(this.props.editingRule.id, { ...this.state, validation_field_id }) :\r\n      await resource.post({ ...this.state, validation_field_id });\r\n    this.props.submitHandler();\r\n  };\r\n\r\n  render() {\r\n    const { rule } = this.state;\r\n\r\n    return <form className=\"admin-form\" onSubmit={this.submitHandler}>\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"rule\">Rule</label>\r\n        <input type=\"text\" id=\"rule\" required\r\n          name=\"rule\"\r\n          value={rule}\r\n          onChange={this.changeHandler}\r\n          className=\"form-control\"\r\n        />\r\n      </div>\r\n\r\n      <div className=\"btn__wrapper\">\r\n        <button className=\"btn btn_success\" type=\"submit\">Submit</button>\r\n      </div>\r\n    </form>;\r\n  }\r\n}\r\n\r\nexport default withRouter(RuleForm);","import React, { Component } from \"react\";\r\nimport Resource from \"../../../../../editor/src/js/classes/Resource\";\r\nimport RuleForm from \"./RuleForm\";\r\nimport AdminModal2 from \"../../AdminModal2\";\r\nimport ValidatedFieldForm from \"./ValidatedFieldForm\";\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nclass ValidationTableRow extends Component {\r\n  state = {\r\n    isRowExpanded: false,\r\n    isRuleModalOpened: false,\r\n    editingRule: null,\r\n    isFieldModalOpened: false\r\n  }\r\n\r\n  submitRuleHandler = () => {\r\n    this.props.updateValidations();\r\n    this.setState({ isRuleModalOpened: false });\r\n  }\r\n\r\n  deleteRuleHandler = id => {\r\n    const resource = new Resource({ route: `/admin/ajax/models/${this.props.match.params.id}/validations/${this.props.field.id}/validation_rules` });\r\n    resource.delete(id)\r\n      .then(() => this.props.updateValidations());\r\n  }\r\n\r\n  deleteFieldHandler = e => {\r\n    e.stopPropagation();\r\n    const { field, validationsResource } = this.props;\r\n    if (confirm(\"Are you sure?\")) {\r\n      validationsResource.delete(field.id);\r\n      this.props.updateValidations();\r\n    }\r\n  }\r\n\r\n  editFieldHandler = e => {\r\n    e.stopPropagation();\r\n    this.setState({ isFieldModalOpened: true });\r\n  }\r\n\r\n  render() {\r\n    const { field, fieldsOptions, validationsResource, data_source_options, updateValidations } = this.props;\r\n    const { isRowExpanded, isRuleModalOpened, isFieldModalOpened, editingRule } = this.state;\r\n\r\n    return <>\r\n      <tr className=\"admin-table-row\" onClick={() => this.setState({ isRowExpanded: !isRowExpanded })}>\r\n        <td className=\"admin-table__td\">{isRowExpanded ? \"➖\" : \"➕\"}</td>\r\n        <td className=\"admin-table__td\">\r\n          {field.name}\r\n          <span className=\"quick-action-menu\">\r\n            <span className=\"quick-action-menu__item_wrapper\">\r\n              <button onClick={this.editFieldHandler} className=\"quick-action-menu__item\">Edit</button>\r\n            </span>\r\n            <span className=\"quick-action-menu__item_wrapper\">\r\n              <button onClick={this.deleteFieldHandler} className=\"quick-action-menu__item quick-action-menu__item_danger\"> Delete</button>\r\n            </span>\r\n          </span>\r\n        </td>\r\n        <td className=\"admin-table__td\">{field.column_name || field.column.name}</td>\r\n      </tr>\r\n      {isRowExpanded && <tr className=\"admin-table-row\">\r\n        <td className=\"admin-table__td\" colSpan={3}>\r\n          <ol>\r\n            {field.rules.map(rule => <li key={rule.id}>\r\n              {rule.rule}\r\n              <span className=\"quick-action-menu quick-action-menu--li\">\r\n                <span className=\"quick-action-menu__item_wrapper\">\r\n                  <button onClick={() => this.setState({ isRuleModalOpened: true, editingRule: rule })} className=\"quick-action-menu__item\">\r\n                    Edit\r\n                  </button>\r\n                </span>\r\n                <span className=\"quick-action-menu__item_wrapper\">\r\n                  <button onClick={() => this.deleteRuleHandler(rule.id)} className=\"quick-action-menu__item quick-action-menu__item_danger\"> Delete</button>\r\n                </span>\r\n              </span>\r\n            </li>)}\r\n          </ol>\r\n          <button onClick={() => this.setState({ isRuleModalOpened: true, editingRule: null })} className=\"btn btn_add\">\r\n            Add Rule\r\n          </button>\r\n        </td>\r\n      </tr>}\r\n      {isRuleModalOpened && <AdminModal2 closeHandler={() => this.setState({ isRuleModalOpened: false })}>\r\n        <RuleForm \r\n          validation_field_id={field.id} \r\n          submitHandler={this.submitRuleHandler} \r\n          editingRule={editingRule}\r\n        />\r\n      </AdminModal2>}\r\n      {isFieldModalOpened && <AdminModal2 closeHandler={() => this.setState({ isFieldModalOpened: false })}>\r\n        <ValidatedFieldForm\r\n          fieldsOptions={fieldsOptions}\r\n          validationsResource={validationsResource}\r\n          data_source_options={data_source_options}\r\n          updateValidations={() => {\r\n            updateValidations();\r\n            this.setState({ isFieldModalOpened: false })\r\n          }}\r\n          field={field}\r\n        />\r\n      </AdminModal2>}\r\n    </>\r\n  }\r\n};\r\n\r\nexport default withRouter(ValidationTableRow);\r\n\r\n","import React, { Component } from \"react\";\r\nimport ValidationTableRow from \"./ValidationTableRow\";\r\n\r\nclass ValidationTable extends Component {\r\n\r\n  render() {\r\n    const { validations, updateValidations, fieldsOptions, validationsResource, data_source_options } = this.props;\r\n    return <table className=\"admin-table\">\r\n      <thead className=\"admin-table-head\">\r\n        <tr className=\"admin-table-row\">\r\n          <th className=\"admin-table__td\"></th>\r\n          <th className=\"admin-table__td\">Title</th>\r\n          <th className=\"admin-table__td\">Field Name</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody className=\"admin-table-body\">\r\n        {validations.map(field => <ValidationTableRow key={field.id}\r\n          field={field}\r\n          fieldsOptions={fieldsOptions}\r\n          validationsResource={validationsResource}\r\n          data_source_options={data_source_options}\r\n          updateValidations={updateValidations}\r\n        />)}\r\n      </tbody>\r\n    </table>\r\n  }\r\n};\r\n\r\nexport default ValidationTable;\r\n","import React, { Component } from \"react\";\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nimport Resource from \"../../../../../editor/src/js/classes/Resource\";\r\nimport AltrpSelect from \"../../altrp-select/AltrpSelect\";\r\n\r\nclass ModelsRemoteFieldForm extends Component {\r\n  state = {\r\n    name: '',\r\n    column_id: '',\r\n    remote_find_column: '',\r\n    remote_need_column: '',\r\n    as_object: true,\r\n    single_source_id: '',\r\n    list_source_id: '',\r\n    enabled: true,\r\n    dataSourceOptions: [],\r\n    ...this.props.field\r\n  };\r\n\r\n  changeHandler = ({ target: { value, name } }) => {\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  async componentDidMount() {\r\n    const resource = new Resource({ route: '/admin/ajax/data_source_options' });\r\n    const { options } = await resource.getAll();\r\n    this.setState({ dataSourceOptions: options });\r\n  }\r\n\r\n  submitHandler = async (e) => {\r\n    e.preventDefault();\r\n    const model_id = this.props.match.params.id\r\n    this.props.field ?\r\n      await this.props.remoteFieldsResource.put(this.props.field.id, { ...this.state, model_id }) :\r\n      await this.props.remoteFieldsResource.post({ ...this.state, model_id });\r\n    this.props.updateRemoteFields();\r\n  };\r\n\r\n  render() {\r\n    const { name, column_id, remote_find_column, remote_need_column, as_object, single_source_id,\r\n      list_source_id, enabled, dataSourceOptions } = this.state;\r\n    const { fieldsOptions } = this.props;\r\n\r\n    return <form className=\"admin-form\" onSubmit={this.submitHandler}>\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"name\">Name</label>\r\n        <input type=\"text\" id=\"name\" required\r\n          name=\"name\"\r\n          value={name}\r\n          onChange={this.changeHandler}\r\n          className=\"form-control\"\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"column_id\">Column</label>\r\n        <select id=\"column_id\"\r\n          name=\"column_id\"\r\n          value={column_id}\r\n          onChange={this.changeHandler}\r\n          className=\"form-control\"\r\n        >\r\n          <option value=\"\" />\r\n          {fieldsOptions.map(({ id, name }) => <option value={id} key={id}>{name}</option>)}\r\n        </select>\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"remote_find_column\">Remote Find Column</label>\r\n        <input type=\"text\" id=\"remote_find_column\"\r\n          required\r\n          name=\"remote_find_column\"\r\n          value={remote_find_column}\r\n          onChange={this.changeHandler}\r\n          className=\"form-control\"\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"remote_need_column\">Remote Need Column</label>\r\n        <input type=\"text\" id=\"remote_need_column\"\r\n          required\r\n          name=\"remote_need_column\"\r\n          value={remote_need_column}\r\n          onChange={this.changeHandler}\r\n          className=\"form-control\"\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <input type=\"checkbox\" id=\"as_object\"\r\n          checked={as_object}\r\n          onChange={e => this.setState({ as_object: e.target.checked })}\r\n        />\r\n        <label className=\"checkbox-label\" htmlFor=\"as_object\">As Object</label>\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"single_source_id\">Single Source</label>\r\n        <AltrpSelect options={dataSourceOptions}\r\n          onChange={({ value }) => {\r\n            this.setState(state => ({ ...state, single_source_id: value }));\r\n          }}\r\n          value={dataSourceOptions.find(({ value }) => value === single_source_id)} />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"list_source_id\">List Source</label>\r\n        <AltrpSelect options={dataSourceOptions}\r\n          onChange={({ value }) => {\r\n            this.setState(state => ({ ...state, list_source_id: value }));\r\n          }}\r\n          value={dataSourceOptions.find(({ value }) => value === list_source_id)} />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <input type=\"checkbox\" id=\"enabled\"\r\n          checked={enabled}\r\n          onChange={e => this.setState({ enabled: e.target.checked })}\r\n        />\r\n        <label className=\"checkbox-label\" htmlFor=\"enabled\">Enabled</label>\r\n      </div>\r\n\r\n      <div className=\"btn__wrapper\">\r\n        <button className=\"btn btn_success\" type=\"submit\">Submit</button>\r\n      </div>\r\n    </form>;\r\n  }\r\n}\r\n\r\nexport default withRouter(ModelsRemoteFieldForm);","import React, { Component } from \"react\";\r\nimport { Link, withRouter, Redirect } from \"react-router-dom\";\r\nimport EditModelForm from \"./EditModelForm\";\r\nimport AdminTable from \"../AdminTable\";\r\nimport AdminModal2 from \"../AdminModal2\";\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\nimport ValidatedFieldForm from \"./ValidationSection/ValidatedFieldForm\";\r\nimport ValidationTable from \"./ValidationSection/ValidationTable\";\r\nimport ModelsRemoteFieldForm from \"./RemoteFieldForms/ModelsRemoteFieldForm\";\r\n\r\nconst columns = [\r\n  {\r\n    name: 'title',\r\n    title: 'Title',\r\n    url: true,\r\n    editUrl: true,\r\n    tag: 'Link'\r\n  },\r\n  {\r\n    name: 'name',\r\n    title: 'Name'\r\n  },\r\n  {\r\n    name: 'description',\r\n    title: 'Description'\r\n  }\r\n];\r\n\r\nconst remoteFieldsColumns = [\r\n  {\r\n    name: 'name',\r\n    title: 'Name'\r\n  },\r\n  {\r\n    name: 'remote_find_column',\r\n    title: 'Remote Find Column'\r\n  },\r\n  {\r\n    name: 'remote_need_column',\r\n    title: 'Remote Need Column'\r\n  }\r\n];\r\n\r\nclass EditModel extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    const { id } = this.props.match.params;\r\n    this.state = {\r\n      model: {\r\n        name: '',\r\n        title: '',\r\n        description: '',\r\n        bounded_model: '',\r\n        soft_deletes: false,\r\n        time_stamps: false\r\n      },\r\n      fields: [],\r\n      remoteFields: [],\r\n      relations: null,\r\n      accessors: [],\r\n      id,\r\n      queries: [],\r\n      validations: [],\r\n      data_source_options: [],\r\n      isModalOpened: false,\r\n      isFieldRemoteModalOpened: false,\r\n      editingRemoteField: null\r\n    };\r\n\r\n    this.modelsResource = new Resource({ route: '/admin/ajax/models' });\r\n    if (id) {\r\n      this.fieldsResource = new Resource({ route: `/admin/ajax/models/${id}/fields` });\r\n      this.remoteFieldsResource = new Resource({ route: `/admin/ajax/remote_data/model/${id}` });\r\n      this.relationsResource = new Resource({ route: `/admin/ajax/models/${id}/relations` });\r\n      this.queriesResource = new Resource({ route: `/admin/ajax/models/${id}/queries` });\r\n      this.accessorsResource = new Resource({ route: `/admin/ajax/models/${id}/accessors` });\r\n      this.validationsResource = new Resource({ route: `/admin/ajax/models/${id}/validations` });\r\n      this.data_source_optionsResource = new Resource({ route: `/admin/ajax/models/${id}/data_source_options` });\r\n    }\r\n  }\r\n\r\n  updateFields = async () => {\r\n    let fields = await this.fieldsResource.getAll();\r\n    fields = fields.filter(({ name }) => name !== 'id');\r\n    this.setState(state => ({ ...state, fields }));\r\n  }\r\n\r\n  updateRelations = async () => {\r\n    let relations = await this.relationsResource.getAll();\r\n    this.setState(state => ({ ...state, relations }));\r\n  }\r\n\r\n  updateQueries = async () => {\r\n    let queries = await this.queriesResource.getAll();\r\n    this.setState(state => ({ ...state, queries }));\r\n  }\r\n\r\n  updateAccessors = async () => {\r\n    let accessors = await this.accessorsResource.getAll();\r\n    this.setState(state => ({ ...state, accessors }));\r\n  }\r\n\r\n  updateValidations = async () => {\r\n    let validations = await this.validationsResource.getAll();\r\n    this.setState(state => ({ ...state, validations, isModalOpened: false }));\r\n  }\r\n\r\n  updateRemoteFields = async () => {\r\n    let remoteFields = await this.remoteFieldsResource.getAll();\r\n    this.setState(state => ({ ...state, remoteFields, isFieldRemoteModalOpened: false, editingRemoteField: null }));\r\n  }\r\n\r\n  /**\r\n   * Загрузим данные модели\r\n   * @return {Promise<void>}\r\n   */\r\n  async componentDidMount() {\r\n    if (this.state.id) {\r\n      this.modelsResource.get(this.state.id)\r\n        .then(model => {\r\n          this.setState({ model });\r\n          this.modelName = model.name;\r\n        });\r\n\r\n      this.fieldsResource.getAll()\r\n        .then(fields => this.setState({ fields: fields.filter(({ name }) => name !== 'id') }));\r\n\r\n      this.remoteFieldsResource.getAll()\r\n        .then(remoteFields => this.setState({ remoteFields }));\r\n\r\n      this.relationsResource.getAll()\r\n        .then(relations => this.setState({ relations }));\r\n\r\n      this.queriesResource.getAll()\r\n        .then(queries => this.setState({ queries }));\r\n\r\n      this.accessorsResource.getAll()\r\n        .then(accessors => this.setState({ accessors }));\r\n\r\n      this.validationsResource.getAll()\r\n        .then(validations => this.setState({ validations }));\r\n\r\n      this.data_source_optionsResource.getAll()\r\n        .then(data_source_options => this.setState({ data_source_options }));\r\n    }\r\n  }\r\n  /**\r\n   * Обработка формы\r\n   * @return {*}\r\n   */\r\n  onSubmit = async (model) => {\r\n    let res;\r\n    const isNameTaken = !this.state.id || this.modelName !== model.name ?\r\n      await fetch(`/admin/ajax/model_name_is_free/?name=${model.name}`)\r\n        .then(res => res.json())\r\n        .then(res => !res.taken) :\r\n      null;\r\n    \r\n    if (isNameTaken) {\r\n      return alert(`Name ${model.name} is already taken. Use another one.`)\r\n    }\r\n\r\n    if (this.state.id) {\r\n      res = await this.modelsResource.put(this.state.id, model);\r\n    } else {\r\n\r\n      res = await this.modelsResource.post(model);\r\n    }\r\n    this.props.history.push(\"/admin/tables/models\");\r\n  };\r\n  render() {\r\n    const { model, fields, remoteFields, relations, queries, sql_editors, accessors, isModalOpened,\r\n      isFieldRemoteModalOpened, editingRemoteField, data_source_options, validations } = this.state;\r\n\r\n    const { id } = this.props.match.params;\r\n    return <div className=\"admin-pages admin-page\">\r\n      <div className=\"admin-heading\">\r\n        <div className=\"admin-breadcrumbs\">\r\n          <Link className=\"admin-breadcrumbs__link\" to=\"/admin/tables/models\">Tables / All Models</Link>\r\n          <span className=\"admin-breadcrumbs__separator\">/</span>\r\n          <span className=\"admin-breadcrumbs__current\">{this.state.id ? 'Edit Model' : 'Add Model'}</span>\r\n        </div>\r\n      </div>\r\n      <div className=\"admin-content\">\r\n        <EditModelForm model={model}\r\n          submitText={model.id ? 'Save' : 'Add'}\r\n          edit={model.id}\r\n          onSubmit={this.onSubmit} />\r\n\r\n        {fields ? <><h2 className=\"sub-header\">Fields</h2>\r\n          <AdminTable\r\n            columns={columns}\r\n            quickActions={[{\r\n              tag: 'Link', props: {\r\n                href: `/admin/tables/models/${id}/fields/edit/:id`,\r\n              },\r\n              title: 'Edit'\r\n            }, {\r\n              tag: 'button',\r\n              route: `/admin/ajax/models/${id}/fields/:id`,\r\n              method: 'delete',\r\n              confirm: 'Are You Sure?',\r\n              after: () => this.updateFields(),\r\n              className: 'quick-action-menu__item_danger',\r\n              title: 'Trash'\r\n            }]}\r\n            rows={fields.map(field => ({ ...field, editUrl: `/admin/tables/models/${model.id}/fields/edit/${field.id}` }))}\r\n          />\r\n          <Link className=\"btn btn_add\" to={`/admin/tables/models/${model.id}/fields/add`}>Add Field</Link>\r\n        </> : ''}\r\n\r\n\r\n        <h2 className=\"sub-header\">Remote Fields</h2>\r\n        <AdminTable\r\n          columns={remoteFieldsColumns}\r\n          quickActions={[{\r\n            callBack: field => this.setState({ isFieldRemoteModalOpened: true, editingRemoteField: field }),\r\n            title: 'Edit'\r\n          }, {\r\n            tag: 'button',\r\n            route: `/admin/ajax/remote_data/:id`,\r\n            method: 'delete',\r\n            confirm: 'Are You Sure?',\r\n            after: () => this.updateRemoteFields(),\r\n            className: 'quick-action-menu__item_danger',\r\n            title: 'Trash'\r\n          }]}\r\n          rows={remoteFields}\r\n        />\r\n        <button onClick={() => this.setState({ isFieldRemoteModalOpened: true, editingRemoteField: null })} className=\"btn btn_add\">\r\n          Add Remote Field\r\n        </button>\r\n        {isFieldRemoteModalOpened && <AdminModal2 closeHandler={() => this.setState({ isFieldRemoteModalOpened: false, editingRemoteField: null })}>\r\n          <ModelsRemoteFieldForm\r\n            fieldsOptions={fields}\r\n            remoteFieldsResource={this.remoteFieldsResource}\r\n            updateRemoteFields={this.updateRemoteFields}\r\n            field={editingRemoteField}\r\n          />\r\n        </AdminModal2>}\r\n\r\n        {relations ? <>\r\n          <h2 className=\"sub-header\">Relations</h2>\r\n          <AdminTable\r\n            columns={columns}\r\n            quickActions={[{\r\n              tag: 'Link', props: {\r\n                href: `/admin/tables/models/${id}/relations/edit/:id`,\r\n              },\r\n              title: 'Edit'\r\n            }, {\r\n              tag: 'button',\r\n              route: `/admin/ajax/models/${id}/relations/:id`,\r\n              method: 'delete',\r\n              confirm: 'Are You Sure?',\r\n              after: () => this.updateRelations(),\r\n              className: 'quick-action-menu__item_danger',\r\n              title: 'Trash'\r\n            }]}\r\n            rows={relations.map(relation => ({ ...relation, editUrl: `/admin/tables/models/${model.id}/relations/edit/${relation.id}` }))}\r\n          />\r\n          <Link className=\"btn btn_add\" to={`/admin/tables/models/${model.id}/relations/add`}>Add Relation</Link>\r\n        </> : ''}\r\n        {accessors ? <>\r\n          <h2 className=\"sub-header\">Accessors</h2>\r\n          <AdminTable\r\n            columns={columns}\r\n            quickActions={[{\r\n              tag: 'Link', props: {\r\n                href: `/admin/tables/models/${id}/accessors/edit/:id`,\r\n              },\r\n              title: 'Edit'\r\n            }, {\r\n              tag: 'button',\r\n              route: `/admin/ajax/models/${id}/accessors/:id`,\r\n              method: 'delete',\r\n              confirm: 'Are You Sure?',\r\n              after: () => this.updateAccessors(),\r\n              className: 'quick-action-menu__item_danger',\r\n              title: 'Trash'\r\n            }]}\r\n            rows={accessors.map(accessor => ({ ...accessor, editUrl: `/admin/tables/models/${model.id}/accessors/edit/${accessor.id}` }))}\r\n          />\r\n          <Link className=\"btn btn_add\" to={`/admin/tables/models/${model.id}/accessors/add`}>Add Accessor</Link>\r\n        </> : ''}\r\n        {queries ? <>\r\n          <h2 className=\"sub-header\">Queries</h2>\r\n          <AdminTable\r\n            columns={columns}\r\n            rows={queries.map(query => ({ ...query, editUrl: `/admin/tables/models/${model.id}/queries/edit/${query.id}` }))}\r\n            quickActions={[{\r\n              tag: 'Link', props: {\r\n                href: `/admin/tables/models/${model.id}/queries/edit/:id`,\r\n              },\r\n              title: 'Edit'\r\n            }, {\r\n              tag: 'button',\r\n              route: `/admin/ajax/models/${model.id}/queries/:id`,\r\n              method: 'delete',\r\n              confirm: 'Are You Sure?',\r\n              after: () => this.updateQueries(),\r\n              className: 'quick-action-menu__item_danger',\r\n              title: 'Trash'\r\n            }]}\r\n          />\r\n          <Link className=\"btn btn_add\" to={`/admin/tables/models/${model.id}/queries/add`}>Add Query</Link>\r\n        </> : ''}\r\n        {sql_editors ? <>\r\n          <h2 className=\"sub-header\">SQL Editors</h2>\r\n          <AdminTable\r\n            columns={columns}\r\n            rows={sql_editors.map(query => ({ ...query, editUrl: `/admin/tables/models/${model.id}/sql_editors/edit/${query.id}` }))}\r\n          />\r\n          <Link className=\"btn btn_add\" to={`/admin/tables/models/${model.id}/sql_editors/add`}>Add Editor</Link>\r\n        </> : ''}\r\n        <h2 className=\"sub-header\">Validation</h2>\r\n        {id && <>\r\n          <ValidationTable\r\n            validations={validations}\r\n            updateValidations={this.updateValidations}\r\n            fieldsOptions={fields}\r\n            validationsResource={this.validationsResource}\r\n            data_source_options={data_source_options}\r\n          />\r\n          <button onClick={() => this.setState({ isModalOpened: true })} className=\"btn btn_add\">\r\n            Add Field\r\n          </button>\r\n        </>}\r\n        {isModalOpened && <AdminModal2 closeHandler={() => this.setState({ isModalOpened: false })}>\r\n          <ValidatedFieldForm\r\n            fieldsOptions={fields}\r\n            validationsResource={this.validationsResource}\r\n            data_source_options={data_source_options}\r\n            updateValidations={this.updateValidations}\r\n          />\r\n        </AdminModal2>}\r\n      </div>\r\n    </div>;\r\n  }\r\n}\r\n\r\nexport default withRouter(EditModel);\r\n","import React, { Component } from \"react\";\r\nimport AltrpCodeEditor from \"../altrp-editor/AltrpCodeEditor\";\r\n\r\nclass FieldCalculationLogic extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      rightType: \"string\",\r\n      is1stString: true,\r\n      is2ndString: true,\r\n      right: {\r\n        string: '',\r\n        fieldId: '',\r\n        string_1: '',\r\n        fieldId_1: '',\r\n        string_2: '',\r\n        fieldId_2: '',\r\n      }\r\n    };\r\n    this.rightTypeHandler = this.rightTypeHandler.bind(this);\r\n    this.rightChangeHandler = this.rightChangeHandler.bind(this);\r\n    this.setRight = this.setRight.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { right } = this.props.item;\r\n    if (right) {\r\n      typeof this.props.item.right === \"string\" ?\r\n        this.setState({ rightType: \"string\", right: { ...this.state.right, string: right } }) :\r\n        this.setState({ rightType: \"object\", right: { ...this.state.right, fieldId: right.id } })\r\n    }\r\n  }\r\n\r\n  rightTypeHandler(type) {\r\n    this.setState(_state => ({ rightType: type }), this.setRight)\r\n  }\r\n\r\n  rightChangeHandler({ target: { value, name } }) {\r\n    this.setState(state => {\r\n      state.right[name] = value;\r\n      return state;\r\n    }, this.setRight)\r\n  }\r\n\r\n  operatorChangeHandler(value) {\r\n    switch (value) {\r\n      case \"not-null\":\r\n      case \"null\":\r\n        this.rightTypeHandler(\"null\");\r\n        break;\r\n      case \"between\":\r\n        this.rightTypeHandler(\"array\");\r\n        break;\r\n      default:\r\n        this.rightTypeHandler(\"string\");\r\n        break;\r\n    }\r\n    this.props.changeHandler({ value, name: \"operator\" });\r\n  }\r\n\r\n  setRight() {\r\n    const { rightType, is1stString, is2ndString, right } = this.state;\r\n    let value;\r\n\r\n    switch (rightType) {\r\n      case \"string\":\r\n        value = right.string;\r\n        break;\r\n      case \"object\":\r\n        value = { id: right.fieldId }\r\n        break;\r\n      case \"null\":\r\n        value = null\r\n        break;\r\n      case \"array\":\r\n        value = [\r\n          is1stString ? right.string_1 : { id: right.fieldId_1 },\r\n          is2ndString ? right.string_2 : { id: right.fieldId_2 }\r\n        ]\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n\r\n    this.props.changeHandler({ name: \"right\", value });\r\n  }\r\n\r\n  render() {\r\n    const { item, index, fieldsOptions, changeHandler, deleteItemHandler } = this.props;\r\n    const { rightType, right, is1stString, is2ndString } = this.state;\r\n    return <>\r\n      <div className=\"flex-container\">\r\n        <p>if</p>\r\n        <button className=\"btn btn_failure\" type=\"button\" onClick={deleteItemHandler}>\r\n          Delete\r\n        </button>\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label htmlFor={\"left\" + index}>Field Name</label>\r\n        <select className=\"form-control\" id={\"left\" + index} name=\"left\" required\r\n          value={item.left}\r\n          onChange={({ target: { value, name } }) => changeHandler({ value, name })}\r\n        >\r\n          <option disabled value=\"\" />\r\n          {fieldsOptions.map(({ value, label }) =>\r\n            <option value={value} key={value}>{label}</option>)}\r\n        </select>\r\n      </div>\r\n\r\n      <p>Comparison Operators</p>\r\n\r\n      <div className=\"form-group\">\r\n        <select className=\"form-control\" name=\"operator\" required\r\n          value={item.operator}\r\n          onChange={({ target: { value } }) => this.operatorChangeHandler(value)}\r\n        >\r\n          <option value=\"\" disabled />\r\n          {/* <option value=\"not-null\">Not Null</option>\r\n          <option value=\"null\">Null</option> */}\r\n          <option value=\"==\">Equals</option>\r\n          <option value=\"<>\">Not Equals</option>\r\n          {/* <option value=\"between\">Between</option> */}\r\n          <option value=\">\">&gt;</option>\r\n          <option value=\">=\">&gt;=</option>\r\n          <option value=\"<\">&lt;</option>\r\n          <option value=\"<=\">&lt;=</option>\r\n        </select>\r\n      </div>\r\n\r\n      {[\"string\", \"object\"].includes(rightType) &&\r\n        <div className=\"form-group__inline-wrapper\">\r\n          <div className=\"form-group form-group_width47\">\r\n            <label>Value\r\n              <input type=\"radio\" className=\"disabling-radio\"\r\n                checked={rightType === \"string\"}\r\n                onChange={() => this.rightTypeHandler(\"string\")}\r\n              />\r\n            </label>\r\n            <input type=\"text\" className=\"form-control\" name=\"string\"\r\n              required={rightType === \"string\"}\r\n              value={right.string}\r\n              disabled={rightType !== \"string\"}\r\n              onChange={this.rightChangeHandler}\r\n            />\r\n\r\n          </div>\r\n\r\n          <p className=\"form-group__inline-wrapper__divider\">or</p>\r\n\r\n          <div className=\"form-group form-group_width47\">\r\n            <label htmlFor={\"right\" + index}>Field Name\r\n              <input type=\"radio\" className=\"disabling-radio\"\r\n                checked={rightType === \"object\"}\r\n                onChange={() => this.rightTypeHandler(\"object\")}\r\n              />\r\n            </label>\r\n            <select className=\"form-control\" id={\"right\" + index} name=\"fieldId\"\r\n              required={rightType === \"object\"}\r\n              value={right.fieldId}\r\n              disabled={rightType !== \"object\"}\r\n              onChange={this.rightChangeHandler}\r\n            >\r\n              <option disabled value=\"\" />\r\n              {fieldsOptions.map(({ value, label }) =>\r\n                <option value={value} key={value}>{label}</option>)}\r\n            </select>\r\n          </div>\r\n        </div>}\r\n\r\n      {rightType === \"array\" && <>\r\n        <div className=\"form-group__inline-wrapper\">\r\n          <div className=\"form-group form-group_width47\">\r\n            <label>Value\r\n              <input type=\"radio\" className=\"disabling-radio\"\r\n                checked={is1stString}\r\n                onChange={() => this.setState({ is1stString: true }, this.setRight)}\r\n              />\r\n            </label>\r\n            <input type=\"text\" className=\"form-control\" name=\"string_1\"\r\n              required={is1stString}\r\n              value={right.string_1}\r\n              disabled={!is1stString}\r\n              onChange={this.rightChangeHandler}\r\n            />\r\n          </div>\r\n\r\n          <p className=\"form-group__inline-wrapper__divider\">or</p>\r\n\r\n          <div className=\"form-group form-group_width47\">\r\n            <label htmlFor={\"right\" + index}>Field Name\r\n              <input type=\"radio\" className=\"disabling-radio\"\r\n                checked={!is1stString}\r\n                onChange={() => this.setState({ is1stString: false }, this.setRight)}\r\n              />\r\n            </label>\r\n            <select className=\"form-control\" id={\"right\" + index} name=\"fieldId_1\"\r\n              required={!is1stString}\r\n              value={right.fieldId_1}\r\n              disabled={is1stString}\r\n              onChange={this.rightChangeHandler}\r\n            >\r\n              <option disabled value=\"\" />\r\n              {fieldsOptions.map(({ value, label }) =>\r\n                <option value={value} key={value}>{label}</option>)}\r\n            </select>\r\n          </div>\r\n        </div>\r\n\r\n        <p className=\"centred\">and</p>\r\n\r\n        <div className=\"form-group__inline-wrapper\">\r\n          <div className=\"form-group form-group_width47\">\r\n            <label>Value\r\n              <input type=\"radio\" className=\"disabling-radio\"\r\n                checked={is2ndString}\r\n                onChange={() => this.setState({ is2ndString: true }, this.setRight)}\r\n              />\r\n            </label>\r\n            <input type=\"text\" className=\"form-control\" name=\"string_2\"\r\n              required={is2ndString}\r\n              value={right.string_2}\r\n              disabled={!is2ndString}\r\n              onChange={this.rightChangeHandler}\r\n            />\r\n          </div>\r\n\r\n          <p className=\"form-group__inline-wrapper__divider\">or</p>\r\n\r\n          <div className=\"form-group form-group_width47\">\r\n            <label htmlFor={\"right\" + index}>Field Name\r\n              <input type=\"radio\" className=\"disabling-radio\"\r\n                checked={!is2ndString}\r\n                onChange={() => this.setState({ is2ndString: false }, this.setRight)}\r\n              />\r\n            </label>\r\n            <select className=\"form-control\" id={\"right\" + index} name=\"fieldId_2\"\r\n              required={!is2ndString}\r\n              value={right.fieldId_2}\r\n              disabled={is2ndString}\r\n              onChange={this.rightChangeHandler}\r\n            >\r\n              <option disabled value=\"\" />\r\n              {fieldsOptions.map(({ value, label }) =>\r\n                <option value={value} key={value}>{label}</option>)}\r\n            </select>\r\n          </div>\r\n        </div>\r\n      </>}\r\n\r\n      <p>Then = </p>\r\n\r\n      <div className=\"form-group\">\r\n        <label htmlFor={\"result\" + index}>Value</label>\r\n        <input type=\"text\" className=\"form-control\" id={\"result\" + index} name=\"result\" required\r\n          value={item.result}\r\n          onChange={({ target: { value, name } }) => changeHandler({ value, name })}\r\n        />\r\n        <AltrpCodeEditor value={item.result}\r\n                         onChange={value => {\r\n                           // if(value[0] !== \"'\" ){\r\n                           //   value = `'${value}`;\r\n                           // }\r\n                           // if(value[value.length - 1] !== \"'\" ){\r\n                           //   value = `${value}'`;\r\n                           // }\r\n                           // console.log(value);\r\n                           changeHandler({\r\n                               value,\r\n                               name: 'result'\r\n                           });\r\n                         }}\r\n                         mode=\"wrapped json\"/>\r\n      </div>\r\n      <p>E.g. [field_name]*[field_name] + 10</p>\r\n    </>\r\n  }\r\n}\r\n\r\nexport default FieldCalculationLogic;\r\n","import React, { Component } from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\n\r\nimport FieldCalculationLogic from \"./FieldCalculationLogic\";\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\nimport { titleToName } from \"../../js/helpers\";\r\n\r\nconst fieldTypeOptions = [\r\n  {\r\n    value: 'string',\r\n    label: 'String'\r\n  },\r\n  {\r\n    value: 'integer',\r\n    label: 'integer'\r\n  },\r\n  {\r\n    value: 'bigInteger',\r\n    label: 'Big Integer'\r\n  },\r\n  {\r\n    value: 'float',\r\n    label: 'Float'\r\n  },\r\n  {\r\n    value: 'boolean',\r\n    label: 'Boolean'\r\n  },\r\n  {\r\n    value: 'text',\r\n    label: 'Text'\r\n  },\r\n  {\r\n    value: 'longText',\r\n    label: 'Long Text'\r\n  },\r\n  {\r\n    value: 'calculated',\r\n    label: 'Calculated'\r\n  },\r\n  {\r\n    value: 'date',\r\n    label: 'Date'\r\n  },\r\n  {\r\n    value: 'time',\r\n    label: 'Time'\r\n  },\r\n  {\r\n    value: 'year',\r\n    label: 'Year'\r\n  },\r\n  {\r\n    value: 'dateTime',\r\n    label: 'Datetime'\r\n  },\r\n  {\r\n    value: 'geometry',\r\n    label: 'Geometry'\r\n  },\r\n  {\r\n    value: 'json',\r\n    label: 'JSON'\r\n  },\r\n  {\r\n    value: 'binary',\r\n    label: 'Binary'\r\n  },\r\n];\r\nconst attributeOptions = [\r\n\r\n  {\r\n    value: 'unsigned',\r\n    label: 'UNSIGNED'\r\n  }\r\n];\r\nconst inputTipeOptions = ['textarea', 'text', 'number', 'slider', 'WYSIWYG', 'color', 'select', 'checkbox', 'radio button'];\r\n\r\n\r\nclass AddFieldForm extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isAlways: false,\r\n      fieldsOptions: [],\r\n      value: {\r\n        name: '',\r\n        title: '',\r\n        description: '',\r\n        is_label: false,\r\n        is_title: false,\r\n        is_auth: false,\r\n        type: 'string',\r\n        length_value: '',\r\n        default: '',\r\n        attribute: '',\r\n        input_type: 'text',\r\n        options: '',\r\n        null: false,\r\n        indexed: false,\r\n        editable: true,\r\n        calculation: '',\r\n        calculation_logic: [\r\n          { left: '', operator: '', result: '', right: '' }\r\n        ],\r\n      },\r\n      // value: this.props.field || {},\r\n    };\r\n    this.submitHandler = this.submitHandler.bind(this);\r\n    this.itemChangeHandler = this.itemChangeHandler.bind(this);\r\n    this.addItemHandler = this.addItemHandler.bind(this);\r\n    this.deleteItemHandler = this.deleteItemHandler.bind(this);\r\n    this.titleChangeHandler = this.titleChangeHandler.bind(this);\r\n\r\n    this.filedsResource = new Resource({ route: `/admin/ajax/models/${this.props.match.params.modelId}/fields` });\r\n    this.fieldsOptionsResource = new Resource({\r\n      route: `/admin/ajax/models/${this.props.match.params.modelId}/field_options`\r\n    });\r\n  }\r\n  /**\r\n   * новый field в props\r\n   * */\r\n  // componentDidUpdate(prevProps){\r\n  //   if(this.props !== prevProps){\r\n  //     this.setState(state => {\r\n  //       state = { ...state };\r\n  //       state.value = {...this.props.field};\r\n  //       return state\r\n  //     });\r\n  //   }\r\n  // }\r\n  /**\r\n   * Изменение данны с валидацией\r\n   * @param {string} value\r\n   * @param {string} field\r\n   */\r\n\r\n  changeValue(value, field) {\r\n    this.setState(state => {\r\n      state = { ...state };\r\n      if (field === 'default') {\r\n\r\n        if(state.value.size && value.length > state.value.size){\r\n          value = value.substring(0, parseInt(state.value.size))\r\n        }\r\n        switch (state.value.type) {\r\n          case 'boolean':{\r\n            if(value === ''){\r\n              value = null;\r\n            } else if (value != '0' && value != '1'){\r\n              value = 1;\r\n            }\r\n          }\r\n          break;\r\n          case 'bigInteger':{\r\n            if(!isNaN(value) && value !== '0'){\r\n              value = parseInt(value);\r\n            } else if(value === ''){\r\n              value = null;\r\n            } else {\r\n              value = '0';\r\n            }\r\n          }\r\n          break;\r\n          case 'integer':{\r\n            if(!isNaN(value) && value !== '0'){\r\n              value = parseInt(value);\r\n            } else if(value === ''){\r\n              value = null;\r\n            } else {\r\n              value = '0';\r\n            }\r\n          }\r\n          break;\r\n        }\r\n      }\r\n      state.value[field] = value;\r\n      return state\r\n    })\r\n  }\r\n\r\n  titleChangeHandler(e) {\r\n    e.persist();\r\n    this.setState(state => ({\r\n      ...state, value: {\r\n        ...state.value,\r\n        title: e.target.value,\r\n        name: this.props.match.params.id ? state.value.name : titleToName(e.target.value)\r\n      }\r\n    }))\r\n  }\r\n\r\n  submitHandler(e) {\r\n    e.preventDefault();\r\n    const { history, match } = this.props;\r\n    const { name, title, description, is_label, is_title, is_auth, type, size, default: default_, attribute, input_type,\r\n      options, null: _null, indexed, editable, calculation, calculation_logic } = this.state.value;\r\n\r\n    let data = {};\r\n\r\n    if (type === \"calculated\") {\r\n      this.state.isAlways ?\r\n        data = { title, description, type, calculation, name, } :\r\n        data = { title, description, type, calculation_logic, name, };\r\n    } else {\r\n      data = { name, title, description, is_label, is_title, is_auth, type, size, default: default_, attribute, input_type, null: _null, indexed, editable };\r\n      if (['select', 'checkbox', 'radio button'].includes(input_type)) {\r\n        data = { ...data, options };\r\n      }\r\n      console.log(default_);\r\n      if (['integer', 'bigInteger'].includes(type)) {\r\n        data.default = default_;\r\n      }\r\n    }\r\n\r\n    if (_.isFunction(this.props.onSubmit)) {\r\n      const isNeedToCheckName = this.fieldName && this.fieldName !== data.name;\r\n      this.props.onSubmit(data, isNeedToCheckName);\r\n    }\r\n  }\r\n\r\n  addItemHandler() {\r\n    this.setState(state => {\r\n      state.value.calculation_logic\r\n        .push({ left: '', operator: '', result: '', right: '' });\r\n      return state;\r\n    })\r\n  }\r\n\r\n  deleteItemHandler(index) {\r\n    this.setState(state => {\r\n      state.value.calculation_logic.splice(index, 1);\r\n      return state;\r\n    })\r\n  }\r\n\r\n  itemChangeHandler({ name, value }, index) {\r\n    this.setState(state => {\r\n      state.value.calculation_logic[index][name] = value;\r\n      return state\r\n    })\r\n  }\r\n\r\n  async componentDidMount() {\r\n    let { options } = await this.fieldsOptionsResource.getAll();\r\n\r\n    if (this.props.match.params.id) {\r\n      let value = await this.filedsResource.get(this.props.match.params.id);\r\n      this.fieldName = value.name;\r\n      if (typeof value.calculation_logic === 'string') {\r\n        value.calculation_logic = JSON.parse(value.calculation_logic);\r\n      }  \r\n      this.setState(state => ({ ...state, isAlways: value.calculation ? true : false ,  value: { ...state.value, ...value } }));\r\n    }\r\n    this.setState(state => ({ ...state, fieldsOptions: options }));\r\n  }\r\n\r\n  render() {\r\n    const { modelId } = this.props.match.params;\r\n    return <form className=\"admin-form field-form\" onSubmit={this.submitHandler}>\r\n      <div className=\"form-group \">\r\n        <label htmlFor=\"field-title\">Field Title</label>\r\n        <input type=\"text\" id=\"field-title\" required\r\n          value={this.state.value.title || ''}\r\n          onChange={this.titleChangeHandler}\r\n          className=\"form-control\" />\r\n      </div>\r\n      <div className=\"form-group__inline-wrapper\">\r\n\r\n        <div className=\"form-group form-group_width30\">\r\n          <label htmlFor=\"field-name\">Field Name</label>\r\n          <input type=\"text\" id=\"field-name\" required readOnly={this.props.match.params.id}\r\n            value={this.state.value.name || ''}\r\n            onChange={e => { this.changeValue(e.target.value, 'name') }}\r\n            className=\"form-control\" />\r\n        </div>\r\n        <div className=\"form-group form-group_width65\">\r\n          <label htmlFor=\"field-description\">Field Description</label>\r\n          <input type=\"text\" id=\"field-description\"\r\n            value={this.state.value.description || ''}\r\n            onChange={e => { this.changeValue(e.target.value, 'description') }}\r\n            className=\"form-control\" />\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"field-type\">Field Type</label>\r\n        <select id=\"field-type\" required\r\n          value={this.state.value.type || ''}\r\n          onChange={e => { this.changeValue(e.target.value, 'type') }}\r\n          className=\"form-control\"\r\n        >\r\n          <option value=\"\" />\r\n          {fieldTypeOptions.map(item =>\r\n            <option key={item.value} value={item.value}>\r\n              {item.label}\r\n            </option>)}\r\n        </select>\r\n      </div>\r\n\r\n      {this.state.value.type === 'calculated' ?\r\n        <>\r\n          <div className=\"form-group col-6 form-check-inline\">\r\n            <input type=\"checkbox\" id=\"always\"\r\n              className=\"form-check-input\"\r\n              checked={this.state.isAlways}\r\n              onChange={e => this.setState({ isAlways: e.target.checked })}\r\n            />\r\n            <label htmlFor=\"always\" className=\"label_checkbox\">Always</label>\r\n          </div>\r\n\r\n          {this.state.isAlways ?\r\n            <>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"calculation\">Calculation</label>\r\n                <input type=\"text\" className=\"form-control\" id=\"calculation\"\r\n                  value={this.state.value.calculation}\r\n                  onChange={e => { this.changeValue(e.target.value, 'calculation') }}\r\n                />\r\n              </div>\r\n              <p>E.g. [field_name]*[field_name] + 10</p>\r\n            </> :\r\n            <>\r\n              {this.state.value.calculation_logic.map((item, index) => <React.Fragment key={index}>\r\n                {index !== 0 && <hr />}\r\n                <FieldCalculationLogic\r\n                  item={item}\r\n                  index={index}\r\n                  fieldsOptions={this.state.fieldsOptions}\r\n                  key={index + 'logic'}\r\n                  changeHandler={item => this.itemChangeHandler(item, index)}\r\n                  deleteItemHandler={() => this.deleteItemHandler(index)}\r\n                />\r\n              </React.Fragment>)}\r\n              <button className=\"btn\" type=\"button\" onClick={this.addItemHandler}>\r\n                + Calculated Logic\r\n              </button>\r\n            </>}\r\n        </> :\r\n        <>\r\n          <div className=\"checkbox-group\">\r\n            <div className=\"form-group\">\r\n              <input type=\"checkbox\" id=\"field-is_label\"\r\n                checked={this.state.value.is_label}\r\n                onChange={e => { this.changeValue(e.target.checked, 'is_label') }}\r\n              />\r\n              <label className=\"checkbox-label\" htmlFor=\"field-is_label\">As Label</label>\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <input type=\"checkbox\" id=\"field-is_title\"\r\n                checked={this.state.value.is_title}\r\n                onChange={e => { this.changeValue(e.target.checked, 'is_title') }}\r\n              />\r\n              <label className=\"checkbox-label\" htmlFor=\"field-is_title\">As Title</label>\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <input type=\"checkbox\" id=\"field-is_auth\"\r\n                     checked={this.state.value.is_auth}\r\n                     onChange={e => { this.changeValue(e.target.checked, 'is_auth') }}\r\n              />\r\n              <label className=\"checkbox-label\" htmlFor=\"field-is_auth\">Set Auth</label>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"form-group__inline-wrapper\">\r\n            <div className=\"form-group form-group_width47\">\r\n              <label htmlFor=\"field-length_value\">Length/Value</label>\r\n              <input type=\"number\" id=\"field-length_value\"\r\n                value={this.state.value.size || ''}\r\n                onChange={e => { this.changeValue(+e.target.value, 'size') }}\r\n                className=\"form-control\" />\r\n            </div>\r\n\r\n            <div className=\"form-group form-group_width47\">\r\n              <label htmlFor=\"field-default\">Default</label>\r\n              <input type=\"text\" id=\"field-default\"\r\n                value={this.state.value.default || ''}\r\n                onChange={e => { this.changeValue(e.target.value, 'default') }}\r\n                className=\"form-control\" />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"field-attribute\">Attribute</label>\r\n            <select id=\"field-attribute\"\r\n              value={this.state.value.attribute || ''}\r\n              onChange={e => { this.changeValue(e.target.value, 'attribute') }}\r\n              className=\"form-control\"\r\n            >\r\n              <option value=\"\" />\r\n              {attributeOptions.map(item =>\r\n                <option key={item.value} value={item.value}>\r\n                  {item.label}\r\n                </option>)}\r\n            </select>\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"field-input_type\">Input Type</label>\r\n            <select id=\"field-input_type\" required\r\n              value={this.state.value.input_type || ''}\r\n              onChange={e => { this.changeValue(e.target.value, 'input_type') }}\r\n              className=\"form-control\"\r\n            >\r\n              <option disabled value=\"\" />\r\n              {inputTipeOptions.map(item =>\r\n                <option key={item} value={item}>\r\n                  {item}\r\n                </option>)}\r\n            </select>\r\n          </div>\r\n\r\n          {['select', 'checkbox', 'radio button'].includes(this.state.value.input_type) && <>\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"field-options\">Options</label>\r\n              <textarea id=\"field-options\"\r\n                value={this.state.value.options || ''}\r\n                onChange={e => { this.changeValue(e.target.value, 'options') }}\r\n                className=\"form-control\"\r\n              />\r\n            </div>\r\n            <p>Enter each choice on a new line.</p>\r\n            <p>Fro more control, you may specify both a value and label like this:</p>\r\n            <p>red | Red</p>\r\n          </>}\r\n\r\n          <div className=\"checkbox-group\">\r\n            <div className=\"form-group\">\r\n              <input type=\"checkbox\" id=\"field-nullable\"\r\n                checked={this.state.value.null}\r\n                onChange={e => { this.changeValue(e.target.checked, 'null') }}\r\n              />\r\n              <label className=\"checkbox-label\" htmlFor=\"field-nullable\">Nullable</label>\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <input type=\"checkbox\" id=\"field-indexed\"\r\n                checked={this.state.value.indexed}\r\n                onChange={e => { this.changeValue(e.target.checked, 'indexed') }}\r\n              />\r\n              <label className=\"checkbox-label\" htmlFor=\"field-indexed\">Indexed</label>\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <input type=\"checkbox\" id=\"field-editable\"\r\n                checked={this.state.value.editable}\r\n                onChange={e => { this.changeValue(e.target.checked, 'editable') }}\r\n              />\r\n              <label className=\"checkbox-label\" htmlFor=\"field-editable\">Editable</label>\r\n            </div>\r\n          </div>\r\n        </>\r\n      }\r\n      <div className=\"btn__wrapper btn_add\">\r\n        <button className=\"btn btn_success\" type=\"submit\">Add</button>\r\n        <Link className=\"btn\" to={`/admin/tables/models/edit/${modelId}`}>Cancel</Link>\r\n        {/* TODO: отображать кнопку если в форме редактируются данные\r\n          повесить обработчик удаления\r\n        <button className=\"btn btn_failure\">Delete</button> */}\r\n      </div>\r\n    </form>;\r\n  }\r\n}\r\n\r\nexport default withRouter(AddFieldForm);\r\n","import React, { Component } from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport AddFieldForm from \"./AddFieldForm\";\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\n\r\nclass EditField extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      modelTitle: 'Model Title',\r\n      field: {},\r\n    };\r\n    this.modelsResource = new Resource({ route: '/admin/ajax/models' });\r\n    this.filedsResource = new Resource({ route: `/admin/ajax/models/${this.props.match.params.modelId}/fields` });\r\n  }\r\n  async componentDidMount() {\r\n    const { modelId } = this.props.match.params;\r\n    let model = await this.modelsResource.get(modelId);\r\n    this.setState({ modelTitle: model.title });\r\n  }\r\n\r\n  /**\r\n   * отправка данных\r\n   * @return {*}\r\n   */\r\n  onSubmit = async (data, isNeedToCheckName) => {\r\n    const { modelId } = this.props.match.params;\r\n    const { history } = this.props;\r\n    if (isNeedToCheckName) {\r\n      fetch(`/admin/ajax/models/${modelId}/field_name_is_free/?name=${data.name}`)\r\n        .then(res => res.json())\r\n        .then(res => {\r\n          if (!res.taken) return alert(`Name ${data.name} is already taken. Use another one.`);\r\n        });\r\n    }\r\n\r\n    if (this.props.match.params.id) {\r\n      let res = await this.filedsResource.put(this.props.match.params.id, data);\r\n      history.push(`/admin/tables/models/edit/${modelId}`);\r\n    } else {\r\n      let res = await this.filedsResource.post(data);\r\n      history.push(`/admin/tables/models/edit/${modelId}`);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { modelTitle } = this.state;\r\n    const { modelId } = this.props.match.params;\r\n    return <div className=\"admin-pages admin-page\">\r\n      <div className=\"admin-heading\">\r\n        <div className=\"admin-breadcrumbs\">\r\n          <Link className=\"admin-breadcrumbs__link\" to=\"/admin/tables/models\">Models / All Models</Link>\r\n          <span className=\"admin-breadcrumbs__separator\">/</span>\r\n          <Link className=\"admin-breadcrumbs__link\" to={`/admin/tables/models/edit/${modelId}`}>\r\n            {modelTitle}\r\n          </Link>\r\n          <span className=\"admin-breadcrumbs__separator\">/</span>\r\n          <span className=\"admin-breadcrumbs__current\">Add New Field</span>\r\n        </div>\r\n      </div>\r\n      <div className=\"admin-content\">\r\n        <AddFieldForm onSubmit={this.onSubmit} />\r\n      </div>\r\n    </div>;\r\n  }\r\n}\r\n\r\nexport default withRouter(EditField);","import React, { Component } from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\nimport {titleToName} from \"../../js/helpers\";\r\n\r\nconst relationTypeOptions = [\r\n  {\r\n    value: 'hasOne',\r\n    label: 'Has One'\r\n  },\r\n  {\r\n    value: 'belongsTo',\r\n    label: 'Belongs To'\r\n  },\r\n  {\r\n    value: 'hasMany',\r\n    label: 'Has Many'\r\n  },\r\n];\r\nconst deleteUpdateOptions = [\r\n  {\r\n    value: 'cascade',\r\n    label: 'cascade'\r\n  },\r\n  {\r\n    value: 'set null',\r\n    label: 'set null'\r\n  },\r\n  {\r\n    value: 'no action',\r\n    label: 'no action'\r\n  },\r\n  {\r\n    value: 'restrict',\r\n    label: 'restrict'\r\n  }\r\n];\r\n\r\nclass AddRelationForm extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      modelsOptions: [],\r\n      value: {\r\n        title: '',\r\n        description: '',\r\n        type: '',\r\n        model_id: this.props.match.params.modelId,\r\n        add_belong_to: false,\r\n        editable: true,\r\n        always_with: false,\r\n        local_key: '',\r\n        foreign_key: '',\r\n        onDelete: 'set null',\r\n        onUpdate: 'set null'\r\n      },\r\n      selfFieldsOptions: [],\r\n      foreignFieldsOptions: [],\r\n      relationTypeOptions,\r\n    };\r\n    this.modelsResource = new Resource({ route: '/admin/ajax/model_options' });\r\n    this.relationsResource = new Resource({ route: `/admin/ajax/models/${this.props.match.params.modelId}/relations` });\r\n    this.submitHandler = this.submitHandler.bind(this);\r\n  }\r\n\r\n  async componentDidMount() {\r\n    let { options } = await this.modelsResource.getAll();\r\n    const { modelId, id } = this.props.match.params;\r\n    //Модель может ссылаться на саму себя\r\n    //options = options.filter(option=>(Number(option.value) !== Number(modelId)));\r\n    this.setState({ modelsOptions: options });\r\n    let fields = await (new Resource({route: `/admin/ajax/models/${modelId}/fields`})).getAll();\r\n    let selfFieldsOptions = fields.map(field=>({\r\n      label: field.title,\r\n      value: field.name,\r\n    }));\r\n    this.setState(state=>({...state, selfFieldsOptions}));\r\n    if(id){\r\n      let value = await this.relationsResource.get(id);\r\n      this.relationName = value.name;\r\n      this.updateForeignFieldOptions(value.target_model_id);\r\n      this.changeTargetModel(value.target_model_id);\r\n      this.setState(state=>({...state, value}));\r\n    }\r\n  }\r\n  /**\r\n   * Проверяем значение при смене модели\r\n   * если модель это User, то скроем Add Reverse Relation\r\n   * и уберем из вариантов связей Has many\r\n   * @param {string} value\r\n   */\r\n  changeTargetModel(value) {\r\n    let modelName = '';\r\n    this.state.modelsOptions.forEach(option=>{\r\n      if(parseInt(option.value) === parseInt(value)){\r\n        modelName = option.label;\r\n      }\r\n    });\r\n    let _relationTypeOptions = relationTypeOptions.filter(option=>{\r\n      if(modelName !== 'User'){\r\n        return true;\r\n      }\r\n      return option.value !== 'hasMany';\r\n    });\r\n    if(modelName === 'User'){\r\n      this.changeValue('hasOne', 'type');\r\n      this.changeValue(false, 'add_belong_to');\r\n    }\r\n    this.setState(state =>({...state, hideAddBelongTo:modelName === 'User', relationTypeOptions:_relationTypeOptions}));\r\n  }\r\n/**\r\n * Изменить значение\r\n * @param {*} value\r\n * @param {string} field\r\n */\r\n  changeValue(value, field) {\r\n  const { id } = this.props.match.params;\r\n\r\n  if(field === 'target_model_id'){\r\n    this.changeTargetModel(value);\r\n  }\r\n  this.setState(state => {\r\n      state = { ...state };\r\n      state.value[field] = value;\r\n      if(field === 'title' && ! id){\r\n        state.value.name = titleToName(value);\r\n      }\r\n      if((field === 'name')){\r\n        state.value.name = titleToName(value);\r\n      }\r\n      if(field === 'foreign_key'){\r\n        state.value[field] = titleToName(value);\r\n      }\r\n      if(field === 'target_model_id'){\r\n        this.updateForeignFieldOptions(value)\r\n      }\r\n      return state\r\n    })\r\n  }\r\n\r\n  /**\r\n   * При изменении модели для связи изменяем опции\r\n   * @param {string} modelId\r\n   */\r\n  async updateForeignFieldOptions(modelId){\r\n    let fields = await (new Resource({route: `/admin/ajax/models/${modelId}/fields`})).getAll();\r\n    let foreignFieldsOptions = fields.map(field=>({\r\n      label: field.title,\r\n      value: field.name,\r\n    }));\r\n    this.setState(state=>({...state, foreignFieldsOptions}))\r\n\r\n  }\r\n  /**\r\n   * Отправка данных\r\n   */\r\n  async submitHandler(e) {\r\n    e.preventDefault();\r\n    const { history, match } = this.props;\r\n    const data = this.state.value;\r\n    const isNameTaken = !this.props.match.params.id || this.relationName !== data.name ?\r\n      await fetch(`/admin/ajax/models/${match.params.modelId}/relation_name_is_free/?name=${data.name}`)\r\n        .then(res => res.json())\r\n        .then(res => !res.taken) :\r\n      null;\r\n\r\n    if (isNameTaken) {\r\n      return alert(`Name ${data.name} is already taken. Use another one.`)\r\n    }\r\n\r\n    if (this.props.match.params.id) {\r\n      let res = await this.relationsResource.put(this.props.match.params.id, data);\r\n    } else {\r\n      let res = await this.relationsResource.post(data);\r\n    }\r\n    history.push(`/admin/tables/models/edit/${match.params.modelId}`);\r\n  }\r\n\r\n  /**\r\n   * вывод поля Local Key\r\n   */\r\n  renderLocalKey(){\r\n    const { id } = this.props.match.params;\r\n\r\n    return <div className=\"form-group form-group_width47\">\r\n      <label htmlFor=\"relation-local_key\">Local Key</label>\r\n      <select  id=\"relation-local_key\"\r\n             value={this.state.value.local_key || ''}\r\n             className=\"form-control\"\r\n             onChange={e => { this.changeValue(e.target.value, 'local_key') }}\r\n      >\r\n        <option disabled value=\"\" />\r\n        {this.state.selfFieldsOptions.map(({ value, label }) =>\r\n            <option key={value} value={value}>\r\n              {label}\r\n            </option>)}\r\n      </select>\r\n    </div>\r\n\r\n  }\r\n\r\n/**\r\n   * вывод поля Foreign Key\r\n   */\r\n  renderForeignKey(){\r\n    const { id } = this.props.match.params;\r\n\r\n    return<div className=\"form-group form-group_width47\">\r\n      <label htmlFor=\"relation-foreign_key\">Foreign Key</label>\r\n      <select id=\"relation-foreign_key\"\r\n        value={this.state.value.foreign_key || ''}\r\n        onChange={e => { this.changeValue(e.target.value, 'foreign_key') }}\r\n        className=\"form-control\"\r\n      >\r\n        <option disabled value=\"\" />\r\n        {this.state.foreignFieldsOptions.map(({ value, label }) =>\r\n          <option key={value} value={value}>\r\n            {label}\r\n          </option>)}\r\n      </select>\r\n    </div>\r\n  }\r\n\r\n\r\n  render() {\r\n    const { id } = this.props.match.params;\r\n    return <form className=\"admin-form\" onSubmit={this.submitHandler}>\r\n      <div className=\"row\">\r\n        <div className=\"form-group col-12\">\r\n          <label htmlFor=\"relation-title\">Relation Title</label>\r\n          <input type=\"text\" id=\"relation-title\" required\r\n            value={this.state.value.title || ''}\r\n            onChange={e => { this.changeValue(e.target.value, 'title') }}\r\n            className=\"form-control\" />\r\n        </div>\r\n        <div className=\"form-group col-4\">\r\n          <label htmlFor=\"relation-title\">Relation Name</label>\r\n          <input type=\"text\" id=\"relation-title\" required readOnly={id}\r\n            value={this.state.value.name || ''}\r\n            onChange={e => { this.changeValue(e.target.value, 'name') }}\r\n            className=\"form-control\" />\r\n        </div>\r\n\r\n        <div className=\"form-group col-8\">\r\n          <label htmlFor=\"relation-description\">Relation Description</label>\r\n          <input type=\"text\" id=\"relation-description\" readOnly={id}\r\n            value={this.state.value.description || ''}\r\n            onChange={e => { this.changeValue(e.target.value, 'description') }}\r\n            className=\"form-control\" />\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"form-group__inline-wrapper\">\r\n        <div className=\"form-group form-group_width47\">\r\n          <label htmlFor=\"relation-type\">Relation Type</label>\r\n          <select id=\"relation-type\" required disabled={id}\r\n            value={this.state.value.type}\r\n            onChange={e => { this.changeValue(e.target.value, 'type') }}\r\n            className=\"form-control\"\r\n          >\r\n            <option disabled value=\"\" />\r\n            {this.state.relationTypeOptions.map(item =>\r\n              <option key={item.value} value={item.value}>\r\n                {item.label}\r\n              </option>)}\r\n          </select>\r\n        </div>\r\n\r\n        <div className=\"form-group form-group_width47\">\r\n          <label htmlFor=\"relation-model_id\">Model to Bound</label>\r\n          <select id=\"relation-model_id\" required\r\n            value={this.state.value.target_model_id || ''}\r\n            onChange={e => { this.changeValue(e.target.value, 'target_model_id') }}\r\n            className=\"form-control\"\r\n          >\r\n            <option disabled value=\"\" />\r\n            {this.state.modelsOptions.map(({ value, label }) =>\r\n              <option key={value} value={value}>\r\n                {label}\r\n              </option>)}\r\n          </select>\r\n        </div>\r\n      </div>\r\n      <div className=\"row\">\r\n        <div className=\"form-group col-4\">\r\n          {this.state.hideAddBelongTo || this.state.value.type === 'belongsTo' ? '' : <><input type=\"checkbox\" id=\"relation-add_belong_to\"\r\n            checked={this.state.value.add_belong_to} readOnly={id}\r\n            onChange={e => { this.changeValue(e.target.checked, 'add_belong_to') }}\r\n          />\r\n          <label className=\"checkbox-label\" htmlFor=\"relation-add_belong_to\">Add Reverse Relation</label></>}\r\n        </div>\r\n        <div className=\"form-group col-4\">\r\n          { (! ['hasMany', 'belongsTo'].includes(this.state.value.type)) ?\r\n              <><input type=\"checkbox\"\r\n                       id=\"field-editable\"\r\n                       checked={this.state.value.editable}\r\n                       onChange={e => { this.changeValue(e.target.checked, 'editable') }}\r\n          />\r\n            <label className=\"checkbox-label\" htmlFor=\"field-editable\">Editable</label></> : ''}\r\n\r\n        </div>\r\n        <div className=\"form-group col-4\">\r\n         <input type=\"checkbox\"\r\n                id=\"field-always_with\"\r\n                checked={this.state.value.always_with}\r\n                onChange={e => { this.changeValue(e.target.checked, 'always_with') }}\r\n          />\r\n            <label className=\"checkbox-label\" htmlFor=\"field-always_with\">Always With</label>\r\n        </div>\r\n      </div>\r\n      <div className=\"form-group__inline-wrapper\">\r\n        {this.renderLocalKey()}\r\n        {this.renderForeignKey()}\r\n      </div>\r\n\r\n      <div className=\"form-group__inline-wrapper\">\r\n        <div className=\"form-group form-group_width47\">\r\n          <label htmlFor=\"onDelete\">On Delete</label>\r\n          <select id=\"onDelete\" required\r\n            value={this.state.value.onDelete}\r\n            onChange={e => { this.changeValue(e.target.value, 'onDelete') }}\r\n            className=\"form-control\"\r\n          >\r\n            <option disabled value=\"\" />\r\n            {deleteUpdateOptions.map(({ value, label }) =>\r\n              <option key={value} value={value}>\r\n                {label.toUpperCase()}\r\n              </option>)}\r\n          </select>\r\n        </div>\r\n\r\n        <div className=\"form-group form-group_width47\">\r\n          <label htmlFor=\"onUpdate\">On Update</label>\r\n          <select id=\"onUpdate\" required\r\n            value={this.state.value.onUpdate}\r\n            onChange={e => { this.changeValue(e.target.value, 'onUpdate') }}\r\n            className=\"form-control\"\r\n          >\r\n            <option disabled value=\"\" />\r\n            {deleteUpdateOptions.map(({ value, label }) =>\r\n              <option key={value} value={value}>\r\n                {label.toUpperCase()}\r\n              </option>)}\r\n          </select>\r\n        </div>\r\n      </div>\r\n\r\n       <div className=\"btn__wrapper\">\r\n        <button className=\"btn btn_success\" type=\"submit\">Add</button>\r\n        <Link className=\"btn\" to=\"/admin/tables/models\">Cancel</Link>\r\n        {/* <button className=\"btn btn_failure\">Delete</button> */}\r\n      </div>\r\n    </form>;\r\n  }\r\n\r\n}\r\n\r\nexport default withRouter(AddRelationForm);\r\n","import React, { Component } from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport AddRelationForm from \"./AddRelationForm\";\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\n\r\nclass AddRelation extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      modelTitle: 'Model Title'\r\n    };\r\n    this.modelsResource = new Resource({ route: '/admin/ajax/models' });\r\n  }\r\n  \r\n  async componentDidMount() {\r\n    const { modelId } = this.props.match.params;\r\n    let model = await this.modelsResource.get(modelId);\r\n    this.setState({ modelTitle: model.title })\r\n  }\r\n\r\n  render() {\r\n    const { modelTitle } = this.state;\r\n    const { modelId } = this.props.match.params;\r\n\r\n    return <div className=\"admin-pages admin-page\">\r\n      <div className=\"admin-heading\">\r\n        <div className=\"admin-breadcrumbs\">\r\n          <Link className=\"admin-breadcrumbs__link\" to=\"/admin/tables/models\">Models / All Models</Link>\r\n          <span className=\"admin-breadcrumbs__separator\">/</span>\r\n          <Link className=\"admin-breadcrumbs__link\" to={`/admin/tables/models/edit/${modelId}`}>\r\n            {modelTitle}\r\n          </Link>\r\n          <span className=\"admin-breadcrumbs__separator\">/</span>\r\n          <span className=\"admin-breadcrumbs__current\">Add New Relation</span>\r\n        </div>\r\n      </div>\r\n      <div className=\"admin-content\">\r\n        <AddRelationForm />\r\n      </div>\r\n    </div>;\r\n  }\r\n}\r\n\r\nexport default withRouter(AddRelation);","import React, { Component } from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\n\r\nimport FieldCalculationLogic from \"./FieldCalculationLogic\";\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\nimport { titleToName } from \"../../js/helpers\";\r\n\r\nconst fieldTypeOptions = [\r\n  {\r\n    value: 'string',\r\n    label: 'String'\r\n  },\r\n  {\r\n    value: 'integer',\r\n    label: 'integer'\r\n  },\r\n  {\r\n    value: 'bigInteger',\r\n    label: 'Big Integer'\r\n  },\r\n  {\r\n    value: 'float',\r\n    label: 'Float'\r\n  },\r\n  {\r\n    value: 'boolean',\r\n    label: 'Boolean'\r\n  },\r\n  {\r\n    value: 'text',\r\n    label: 'Text'\r\n  },\r\n  {\r\n    value: 'longText',\r\n    label: 'Long Text'\r\n  },\r\n  {\r\n    value: 'calculated',\r\n    label: 'Calculated'\r\n  },\r\n  {\r\n    value: 'date',\r\n    label: 'Date'\r\n  },\r\n  {\r\n    value: 'time',\r\n    label: 'Time'\r\n  },\r\n  {\r\n    value: 'year',\r\n    label: 'Year'\r\n  },\r\n  {\r\n    value: 'dateTime',\r\n    label: 'Datetime'\r\n  },\r\n  {\r\n    value: 'geometry',\r\n    label: 'Geometry'\r\n  },\r\n  {\r\n    value: 'json',\r\n    label: 'JSON'\r\n  },\r\n  {\r\n    value: 'binary',\r\n    label: 'Binary'\r\n  },\r\n];\r\nconst attributeOptions = [\r\n\r\n  {\r\n    value: 'unsigned',\r\n    label: 'UNSIGNED'\r\n  }\r\n];\r\nconst inputTipeOptions = ['textarea', 'text', 'number', 'slider', 'WYSIWYG', 'color', 'select', 'checkbox', 'radio button'];\r\n\r\n\r\nclass AddAccessorForm extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      constructor: false,\r\n      fieldsOptions: [],\r\n      value: {\r\n        name: '',\r\n        title: '',\r\n        description: '',\r\n        calculation: '',\r\n        calculation_logic: [\r\n          { left: '', operator: '', result: '', right: '' }\r\n        ],\r\n      },\r\n    };\r\n\r\n    this.submitHandler = this.submitHandler.bind(this);\r\n    this.itemChangeHandler = this.itemChangeHandler.bind(this);\r\n    this.addItemHandler = this.addItemHandler.bind(this);\r\n    this.deleteItemHandler = this.deleteItemHandler.bind(this);\r\n    this.titleChangeHandler = this.titleChangeHandler.bind(this);\r\n\r\n    this.accessorsResource = new Resource({ route: `/admin/ajax/models/${this.props.match.params.modelId}/accessors` });\r\n    this.fieldsOptionsResource = new Resource({\r\n      route: `/admin/ajax/models/${this.props.match.params.modelId}/field_options`\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Изменение данны с валидацией\r\n   * @param {string} value\r\n   * @param {string} field\r\n   */\r\n\r\n  changeValue(value, field) {\r\n    this.setState(state => {\r\n      state = { ...state };\r\n      state.value[field] = value;\r\n      return state\r\n    })\r\n  }\r\n\r\n  titleChangeHandler(e) {\r\n    e.persist();\r\n\r\n    this.setState(state => ({\r\n      ...state, value: {\r\n        ...state.value,\r\n        title: e.target.value,\r\n        name: this.props.match.params.id ? state.value.name : titleToName(e.target.value)\r\n      }\r\n    }))\r\n  }\r\n\r\n  async submitHandler(e) {\r\n    e.preventDefault();\r\n    const { history, match } = this.props;\r\n    const { name, title, description, calculation, calculation_logic } = this.state.value;\r\n\r\n    let data = {};\r\n    this.state.constructor ?\r\n        data = { title, description, calculation, name, } :\r\n        data = { title, description, calculation_logic, name, };\r\n\r\n\r\n    if (this.props.match.params.id) {\r\n      let res = await this.accessorsResource.put(this.props.match.params.id, data);\r\n    } else {\r\n      let res = await this.accessorsResource.post(data);\r\n    }\r\n    history.push(`/admin/tables/models/edit/${match.params.modelId}`);\r\n  }\r\n\r\n  addItemHandler() {\r\n    this.setState(state => {\r\n      state.value.calculation_logic\r\n        .push({ left: '', operator: '', result: '', right: '' });\r\n      return state;\r\n    })\r\n  }\r\n\r\n  deleteItemHandler(index) {\r\n    this.setState(state => {\r\n      state.value.calculation_logic.splice(index, 1);\r\n      return state;\r\n    })\r\n  }\r\n\r\n  itemChangeHandler({ name, value }, index) {\r\n    this.setState(state => {\r\n      state.value.calculation_logic[index][name] = value;\r\n      return state\r\n    })\r\n  }\r\n\r\n  async componentDidMount() {\r\n    let { options } = await this.fieldsOptionsResource.getAll();\r\n\r\n    if (this.props.match.params.id) {\r\n      let value = await this.accessorsResource.get(this.props.match.params.id);\r\n\r\n      if (typeof value.calculation_logic === 'string') {\r\n        value.calculation_logic = JSON.parse(value.calculation_logic);\r\n      }\r\n\r\n      if (value.calculation_logic === null) {\r\n        value.calculation_logic = [{ left: '', operator: '', result: '', right: '' }];\r\n      }\r\n\r\n      this.setState(state => ({ ...state, constructor: value.calculation ? true : false ,  value: { ...state.value, ...value } }));\r\n    }\r\n    this.setState(state => ({ ...state, fieldsOptions: options }));\r\n  }\r\n\r\n  render() {\r\n    const { modelId } = this.props.match.params;\r\n    return <form className=\"admin-form field-form\" onSubmit={this.submitHandler}>\r\n      <div className=\"form-group \">\r\n        <label htmlFor=\"field-title\">Field Title</label>\r\n        <input type=\"text\" id=\"field-title\" required\r\n          value={this.state.value.title || ''}\r\n          onChange={this.titleChangeHandler}\r\n          className=\"form-control\" />\r\n      </div>\r\n      <div className=\"form-group__inline-wrapper\">\r\n\r\n        <div className=\"form-group form-group_width30\">\r\n          <label htmlFor=\"field-name\">Field Name</label>\r\n          <input type=\"text\" id=\"field-name\" required readOnly={this.props.match.params.id}\r\n            value={this.state.value.name || ''}\r\n            onChange={e => { this.changeValue(e.target.value, 'name') }}\r\n            className=\"form-control\" />\r\n        </div>\r\n        <div className=\"form-group form-group_width65\">\r\n          <label htmlFor=\"field-description\">Field Description</label>\r\n          <input type=\"text\" id=\"field-description\"\r\n            value={this.state.value.description || ''}\r\n            onChange={e => { this.changeValue(e.target.value, 'description') }}\r\n            className=\"form-control\" />\r\n        </div>\r\n      </div>\r\n      <div className=\"form-group col-6 form-check-inline\">\r\n        <input type=\"checkbox\" id=\"constructor\"\r\n               className=\"form-check-input\"\r\n               checked={this.state.constructor}\r\n               onChange={e => this.setState({ constructor: e.target.checked })}\r\n        />\r\n        <label htmlFor=\"constructor\" className=\"label_checkbox\">Constructor</label>\r\n      </div>\r\n\r\n      {this.state.constructor ?\r\n        <>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"calculation\">Calculation</label>\r\n            <input type=\"text\" className=\"form-control\" id=\"calculation\"\r\n                   value={this.state.value.calculation}\r\n                   onChange={e => { this.changeValue(e.target.value, 'calculation') }}\r\n            />\r\n          </div>\r\n          <p>E.g. [field_name]*[field_name] + 10</p>\r\n        </> :\r\n        <>\r\n          {this.state.value.calculation_logic.map((item, index) =>\r\n            <FieldCalculationLogic\r\n              item={item}\r\n              index={index}\r\n              fieldsOptions={this.state.fieldsOptions}\r\n              key={index}\r\n              changeHandler={item => this.itemChangeHandler(item, index)}\r\n              deleteItemHandler={() => this.deleteItemHandler(index)}\r\n            />\r\n          )}\r\n          <button className=\"btn\" type=\"button\" onClick={this.addItemHandler}>\r\n            + Calculated Logic\r\n          </button>\r\n        </>}\r\n\r\n      <div className=\"btn__wrapper btn_add\">\r\n        <button className=\"btn btn_success\" type=\"submit\">Add</button>\r\n        <Link className=\"btn\" to={`/admin/tables/models/edit/${modelId}`}>Cancel</Link>\r\n        {/* TODO: отображать кнопку если в форме редактируются данные\r\n          повесить обработчик удаления\r\n        <button className=\"btn btn_failure\">Delete</button> */}\r\n      </div>\r\n    </form>;\r\n  }\r\n}\r\n\r\nexport default withRouter(AddAccessorForm);\r\n","import React, { Component } from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport AddAccessorForm from \"./AddAccessorForm\";\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\n\r\nclass AddAccessor extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      modelTitle: 'Model Title'\r\n    };\r\n    this.modelsResource = new Resource({ route: '/admin/ajax/models' });\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const { modelId } = this.props.match.params;\r\n    let model = await this.modelsResource.get(modelId);\r\n    this.setState({ modelTitle: model.title })\r\n  }\r\n\r\n  render() {\r\n    const { modelTitle } = this.state;\r\n    const { modelId } = this.props.match.params;\r\n\r\n    return <div className=\"admin-pages admin-page\">\r\n      <div className=\"admin-heading\">\r\n        <div className=\"admin-breadcrumbs\">\r\n          <Link className=\"admin-breadcrumbs__link\" to=\"/admin/tables/models\">Models / All Models</Link>\r\n          <span className=\"admin-breadcrumbs__separator\">/</span>\r\n          <Link className=\"admin-breadcrumbs__link\" to={`/admin/tables/models/edit/${modelId}`}>\r\n            {modelTitle}\r\n          </Link>\r\n          <span className=\"admin-breadcrumbs__separator\">/</span>\r\n          <span className=\"admin-breadcrumbs__current\">Add New Accessor</span>\r\n        </div>\r\n      </div>\r\n      <div className=\"admin-content\">\r\n        <AddAccessorForm />\r\n      </div>\r\n    </div>;\r\n  }\r\n}\r\n\r\nexport default withRouter(AddAccessor);\r\n","import React, { Component } from \"react\";\r\n\r\nclass ConditionComponent extends Component {\r\n\r\n  render() {\r\n    const { item: [key, value], changeHandler } = this.props;\r\n\r\n    return <div className=\"form-segment row\">\r\n      <div className=\"form-group col-4\">\r\n        <label>Key\r\n            <input type=\"text\" required name={0}\r\n            value={key}\r\n            onChange={changeHandler}\r\n            className=\"form-control\"\r\n          />\r\n        </label>\r\n      </div>\r\n\r\n      <div className=\"form-group col-8\">\r\n        <label>Value\r\n            <input type=\"text\" name={1}\r\n            value={value}\r\n            onChange={changeHandler}\r\n            className=\"form-control\"\r\n          />\r\n        </label>\r\n      </div>\r\n    </div>\r\n  }\r\n}\r\n\r\nexport default ConditionComponent;","import React, { Component, Fragment } from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport AltrpSelect from \"../altrp-select/AltrpSelect\";\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\nimport { titleToName } from \"../../js/helpers\";\r\nimport HeaderComponent from \"./HeaderComponent\"\r\n\r\nclass AddDataSourceForm extends Component {\r\n  state = {\r\n    modelsOptions: [],\r\n    rolesOptions: [],\r\n    permissionsOptions: [],\r\n    typeIsDisabled: false,\r\n    value: {\r\n      title: '',\r\n      name: '',\r\n      description: '',\r\n      type: 'remote',\r\n      request_type: '',\r\n      model_id: '',\r\n      url: '',\r\n      api_url: '',\r\n      auth: true,\r\n      access: {\r\n        roles: [],\r\n        permissions: []\r\n      },\r\n      headers: [],\r\n      bodies: []\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { id } = this.props.match.params;\r\n\r\n    new Resource({ route: '/admin/ajax/model_options' }).getAll()\r\n      .then(({ options }) => this.setState({ modelsOptions: options }));\r\n    new Resource({ route: '/admin/ajax/role_options' }).getAll()\r\n      .then(rolesOptions => this.setState({ rolesOptions }));\r\n    new Resource({ route: '/admin/ajax/permissions_options' }).getAll()\r\n      .then(permissionsOptions => this.setState({ permissionsOptions }));\r\n\r\n    if (id) {\r\n      const resource = new Resource({ route: '/admin/ajax/data_sources' });\r\n      resource.get(id).then(value => this.setState({\r\n            value: {...value, headers: Object.entries(value.headers || {}), bodies: Object.entries(value.bodies || {})},\r\n            typeIsDisabled: value.type === 'remote'\r\n          }))\r\n    }\r\n  }\r\n\r\n  changeValue = (value, field) => {\r\n    this.setState(state => {\r\n      state = { ...state };\r\n      state.value[field] = value;\r\n      return state\r\n    })\r\n  }\r\n\r\n  titleChangeHandler = e => {\r\n    e.persist();\r\n    this.setState(state => ({\r\n      ...state, value: {\r\n        ...state.value,\r\n        title: e.target.value,\r\n        name: titleToName(e.target.value)\r\n      }\r\n    }))\r\n  }\r\n\r\n  /**\r\n   * Смена ролей\r\n   */\r\n  changeRoles = (roles) => {\r\n    let _roles = [];\r\n    if (roles) roles.forEach(r => {\r\n      _roles.push(r.value)\r\n    });\r\n    this.setState(state => {\r\n      const newState = _.cloneDeep(state);\r\n      newState.value.access.roles = _roles;\r\n      return newState;\r\n    });\r\n  };\r\n  /**\r\n   * Смена разрешений\r\n   */\r\n  changePermission = (permissions) => {\r\n    let _permissions = [];\r\n    if (permissions) permissions.forEach(p => {\r\n      _permissions.push(p.value)\r\n    });\r\n    this.setState(state => {\r\n      const newState = _.cloneDeep(state);\r\n      newState.value.access.permissions = _permissions;\r\n      return newState;\r\n    });\r\n  };\r\n\r\n  headerDeleteHandler = index => {\r\n    this.setState(state => {\r\n      const headers = [...state.value.headers];\r\n      headers.splice(index, 1);\r\n      return {\r\n        ...state,\r\n        value: { ...state.value, headers }\r\n      };\r\n    });\r\n  };\r\n\r\n  headerChangeHandler = (e, index) => {\r\n    const { name, value } = e.target;\r\n\r\n    this.setState(state => {\r\n      let headers = [...state.value.headers];\r\n      headers[index][+name] = value;\r\n      return {\r\n        ...state,\r\n        value: { ...state.value, headers }\r\n      };\r\n    });\r\n  };\r\n\r\n  headerAddHandler = () => {\r\n    this.setState(state => {\r\n      const headers = [...state.value.headers, [\"\", \"\"]];\r\n      return {\r\n        ...state,\r\n        value: { ...state.value, headers }\r\n      };\r\n    });\r\n  };\r\n\r\n  bodyDeleteHandler = index => {\r\n    this.setState(state => {\r\n      const bodies = [...state.value.bodies];\r\n      bodies.splice(index, 1);\r\n      return {\r\n        ...state,\r\n        value: { ...state.value, bodies }\r\n      };\r\n    });\r\n  };\r\n\r\n  bodyChangeHandler = (e, index) => {\r\n    const { name, value } = e.target;\r\n\r\n    this.setState(state => {\r\n      let bodies = [...state.value.bodies];\r\n      bodies[index][+name] = value;\r\n      return {\r\n        ...state,\r\n        value: { ...state.value, bodies }\r\n      };\r\n    });\r\n  };\r\n\r\n  bodyAddHandler = () => {\r\n    this.setState(state => {\r\n      const bodies = [...state.value.bodies, [\"\", \"\"]];\r\n      return {\r\n        ...state,\r\n        value: { ...state.value, bodies }\r\n      };\r\n    });\r\n  };\r\n\r\n  submitHandler = e => {\r\n    e.preventDefault();\r\n    const resource = new Resource({ route: '/admin/ajax/data_sources' });\r\n    const { id } = this.props.match.params;\r\n    const headers = Object.fromEntries(this.state.value.headers);\r\n    const bodies = Object.fromEntries(this.state.value.bodies);\r\n    const data = { ...this.state.value, headers, bodies };\r\n\r\n    (id ? resource.put(id, data) : resource.post(data))\r\n      .then(() => this.props.history.goBack());\r\n  }\r\n\r\n  render() {\r\n    const { roles, permissions } = this.state.value.access;\r\n    const { rolesOptions, permissionsOptions } = this.state;\r\n    const { headers, bodies } = this.state.value;\r\n    const { id } = this.props.match.params;\r\n\r\n\r\n\r\n    return <form className=\"admin-form\" onSubmit={this.submitHandler}>\r\n      <div className=\"form-group__inline-wrapper\">\r\n        <div className=\"form-group form-group_width47\">\r\n          <label htmlFor=\"data-source-title\">Data Source Title</label>\r\n          <input type=\"text\" id=\"data-source-title\" required\r\n            value={this.state.value.title}\r\n            onChange={this.titleChangeHandler}\r\n            className=\"form-control\" />\r\n        </div>\r\n\r\n        <div className=\"form-group form-group_width47\">\r\n          <label htmlFor=\"data-source-title\">Data Source Name</label>\r\n          <input type=\"text\" id=\"data-source-title\" required\r\n            value={this.state.value.name}\r\n            onChange={e => { this.changeValue(e.target.value, 'name') }}\r\n            className=\"form-control\" />\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"data-source-description\">Data Source Description</label>\r\n        <input type=\"text\" id=\"data-source-description\"\r\n          value={this.state.value.description}\r\n          onChange={e => { this.changeValue(e.target.value, 'description') }}\r\n          className=\"form-control\" />\r\n      </div>\r\n\r\n      <div className=\"form-group__inline-wrapper\">\r\n        <div className=\"form-group form-group_width47\">\r\n          <label htmlFor=\"data-source-type\">Data Source Type</label>\r\n          <select id=\"data-source-type\" required\r\n            name=\"type\"\r\n            value={this.state.value.type}\r\n            onChange={e => { this.changeValue(e.target.value, 'type') }}\r\n            className=\"form-control\"\r\n            disabled={!this.props.match.params.id || this.state.typeIsDisabled}\r\n          >\r\n            {/* <option disabled value=\"\" /> */}\r\n            <option value=\"get\">get</option>\r\n            <option value=\"show\">show</option>\r\n            <option value=\"options\">options</option>\r\n            <option value=\"filters\">filters</option>\r\n            <option value=\"add\">add</option>\r\n            <option value=\"update\">update</option>\r\n            <option value=\"update_column\">update_column</option>\r\n            <option value=\"delete\">delete</option>\r\n            <option value=\"remote\">remote</option>\r\n          </select>\r\n        </div>\r\n\r\n        <div className=\"form-group form-group_width47\">\r\n          <label htmlFor=\"data-source-type\">Request Type</label>\r\n          <select id=\"data-source-type\" required\r\n            name=\"type\"\r\n            value={this.state.value.request_type}\r\n            onChange={e => { this.changeValue(e.target.value, 'request_type') }}\r\n            className=\"form-control\"\r\n          >\r\n            <option disabled value=\"\" />\r\n            <option value=\"get\">get</option>\r\n            <option value=\"post\">post</option>\r\n            <option value=\"put\">put</option>\r\n            <option value=\"delete\">delete</option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"data-source-model_id\">Model</label>\r\n        <select id=\"data-source-model_id\" required\r\n          value={this.state.value.model_id}\r\n          onChange={e => { this.changeValue(e.target.value, 'model_id') }}\r\n          className=\"form-control\"\r\n          disabled={this.props.match.params.id}\r\n        >\r\n          <option disabled value=\"\" />\r\n          {this.state.modelsOptions.map(({ value, label }) =>\r\n            <option key={value} value={value}>\r\n              {label}\r\n            </option>)}\r\n        </select>\r\n      </div>\r\n\r\n      <div className=\"form-group__inline-wrapper\">\r\n        <div className=\"form-group form-group_width47\">\r\n          <label htmlFor=\"data-source-url\">Route</label>\r\n          <input type=\"text\" id=\"data-source-url\" required\r\n            value={this.state.value.url}\r\n            onChange={e => { this.changeValue(e.target.value, 'url') }}\r\n            className=\"form-control\" />\r\n        </div>\r\n\r\n        <div className=\"form-group form-group_width47\">\r\n          <label htmlFor=\"data-source-api_url\">API Route</label>\r\n          <input type=\"text\" id=\"data-source-api_url\" required\r\n            value={this.state.value.api_url}\r\n            onChange={e => { this.changeValue(e.target.value, 'api_url') }}\r\n            className=\"form-control\" />\r\n        </div>\r\n      </div>\r\n\r\n      <h2 className=\"admin-form__subheader centred\">Headers</h2>\r\n\r\n      {headers && headers.map((item, index) => <Fragment key={index}>\r\n        {index !== 0 && <hr />}\r\n        <div className=\"text-right\">\r\n          <button className=\"btn btn_failure\" type=\"button\" onClick={() => this.headerDeleteHandler(index)}>\r\n            ✖\r\n          </button>\r\n        </div>\r\n        <HeaderComponent item={item} changeHandler={e => this.headerChangeHandler(e, index)} />\r\n      </Fragment>)}\r\n      <div className=\"centred\">\r\n        <button className=\"btn btn_success\" type=\"button\" onClick={this.headerAddHandler}>\r\n          + New Header\r\n        </button>\r\n      </div>\r\n\r\n      <h2 className=\"admin-form__subheader centred\">Bodies</h2>\r\n\r\n      {bodies && bodies.map((item, index) => <Fragment key={index}>\r\n        {index !== 0 && <hr />}\r\n        <div className=\"text-right\">\r\n          <button className=\"btn btn_failure\" type=\"button\" onClick={() => this.bodyDeleteHandler(index)}>\r\n            ✖\r\n          </button>\r\n        </div>\r\n        <HeaderComponent item={item} changeHandler={e => this.bodyChangeHandler(e, index)} />\r\n      </Fragment>)}\r\n      <div className=\"centred\">\r\n        <button className=\"btn btn_success\" type=\"button\" onClick={this.bodyAddHandler}>\r\n          + New Body\r\n        </button>\r\n      </div>\r\n\r\n      <h2 className=\"admin-form__subheader centred\">Access</h2>\r\n\r\n      <input type=\"checkbox\" id=\"field-auth\"\r\n        checked={this.state.value.auth} value={this.state.value.auth}\r\n        onChange={e => { this.changeValue(e.target.checked, 'auth') }}\r\n      />\r\n      <label className=\"checkbox-label\" htmlFor=\"field-auth\">Auth</label>\r\n\r\n      {this.state.value.auth ? <div className=\"form-group__inline-wrapper\">\r\n        <div className=\"form-group form-group_width47\">\r\n          <label htmlFor=\"roles\">Roles</label>\r\n\r\n          <AltrpSelect id=\"roles\"\r\n            closeMenuOnSelect={false}\r\n            value={_.filter(rolesOptions, r => roles.indexOf(r.value) >= 0)}\r\n            isMulti={true}\r\n            onChange={this.changeRoles}\r\n            options={rolesOptions} />\r\n        </div>\r\n\r\n        <div className=\"form-group form-group_width47\">\r\n          <label htmlFor=\"permissions\">Permissions</label>\r\n          <AltrpSelect id=\"roles\"\r\n            value={_.filter(permissionsOptions, p => permissions.indexOf(p.value) >= 0)}\r\n            closeMenuOnSelect={false}\r\n            isMulti={true}\r\n            onChange={this.changePermission}\r\n            options={permissionsOptions} />\r\n        </div>\r\n      </div> : null}\r\n\r\n      <div className=\"btn__wrapper\">\r\n        <button className=\"btn btn_success\" type=\"submit\">{id ? 'Edit' : 'Add'}</button>\r\n        <Link className=\"btn\" to=\"/admin/tables/models\">Cancel</Link>\r\n        {/* <button className=\"btn btn_failure\">Delete</button> */}\r\n      </div>\r\n    </form>;\r\n  }\r\n}\r\n\r\nexport default withRouter(AddDataSourceForm);\r\n","import React, { Component } from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport AddDataSourceForm from \"./AddDataSourceForm\";\r\n\r\nclass AddDataSource extends Component {\r\n  render() {\r\n    const { id } = this.props.match.params;\r\n    return <div className=\"admin-pages admin-page\">\r\n      <div className=\"admin-heading\">\r\n        <div className=\"admin-breadcrumbs\">\r\n          <Link className=\"admin-breadcrumbs__link\" to=\"/admin/tables/models\">Models / All Models</Link>\r\n          <span className=\"admin-breadcrumbs__separator\">/</span>\r\n          <span className=\"admin-breadcrumbs__current\">{id ? 'Edit Data Source' : 'Add New Data Source'}</span>\r\n        </div>\r\n      </div>\r\n      <div className=\"admin-content\">\r\n        <AddDataSourceForm />\r\n      </div>\r\n    </div>;\r\n  }\r\n}\r\n\r\nexport default withRouter(AddDataSource);","import React, { Component } from \"react\";\r\n\r\nconst typeOptions = ['sum', 'min', 'max', 'avg', 'count', 'distinct', 'count_distinct'];\r\n\r\nclass AggregateComponent extends Component {\r\n  render() {\r\n    const { type, column, alias } = this.props.item;\r\n    const { columnsOptions, changeHandler } = this.props;\r\n    return <div className=\"form-segment form-group__inline-wrapper\">\r\n      <div className=\"form-group form-group_width30\">\r\n        <label>Type\r\n          <select required name=\"type\"\r\n            value={type}\r\n            onChange={changeHandler}\r\n            className=\"form-control\"\r\n          >\r\n            <option disabled value=\"\" />\r\n            {typeOptions.map(type =>\r\n              <option key={type} value={type}>\r\n                {type}\r\n              </option>)}\r\n          </select>\r\n        </label>\r\n      </div>\r\n\r\n      <div className=\"form-group form-group_width30\">\r\n        <label>Field\r\n          <select required name=\"column\"\r\n            value={column}\r\n            onChange={changeHandler}\r\n            className=\"form-control\"\r\n          >\r\n            <option disabled value=\"\" />\r\n            <option value=\"*\">All</option>\r\n            {columnsOptions.map(({ value, label }) =>\r\n              <option key={value} value={value}>\r\n                {label}\r\n              </option>)}\r\n          </select>\r\n        </label>\r\n      </div>\r\n      \r\n      <div className=\"form-group form-group_width30\">\r\n        <label>Alias\r\n          <input type=\"text\" required name=\"alias\"\r\n            value={alias}\r\n            onChange={changeHandler}\r\n            className=\"form-control\" />\r\n        </label>\r\n      </div>\r\n    </div>\r\n  }\r\n}\r\n\r\nexport default AggregateComponent;","import React, { Component } from \"react\";\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\n\r\nconst tablesOptions = tableId => new Resource({ route: `/admin/ajax/tables/${tableId}/columns` });\r\nclass JoinComponent extends Component {\r\n  state = {\r\n    targetColumnOptions: []\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    const { target_table } = this.props.item;\r\n    if (prevProps.item.target_table !== target_table) {\r\n      tablesOptions(target_table).getAll()\r\n        .then(targetColumnOptions => this.setState({ targetColumnOptions }));\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { target_table } = this.props.item;\r\n    if (target_table) {\r\n      tablesOptions(target_table).getAll()\r\n        .then(targetColumnOptions => this.setState({ targetColumnOptions }));\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { type, target_table, source_column, operator, target_column } = this.props.item;\r\n    const { changeHandler, tablesOptions, sourceColumnOptions } = this.props;\r\n    const { targetColumnOptions } = this.state;\r\n    return <div className=\"form-segment\">\r\n      <div className=\"form-group__inline-wrapper\">\r\n        <div className=\"form-group form-group_width47\">\r\n          <label>Type\r\n            <select required name=\"type\"\r\n              value={type}\r\n              onChange={changeHandler}\r\n              className=\"form-control\"\r\n            >\r\n              <option disabled value=\"\" />\r\n              <option value=\"inner_join\">Inner Join</option>\r\n              <option value=\"left_join\">Left Join</option>\r\n              <option value=\"right_join\">Right Join</option>\r\n            </select>\r\n          </label>\r\n        </div>\r\n\r\n        <div className=\"form-group form-group_width47\">\r\n          <label>Target Table\r\n          <select required name=\"target_table\"\r\n              value={target_table}\r\n              onChange={changeHandler}\r\n              className=\"form-control\"\r\n            >\r\n              <option disabled value=\"\" />\r\n              {tablesOptions.map(({ value, label }) =>\r\n                <option disabled={value === target_table} value={value} key={value}>\r\n                  {label}\r\n                </option>)}\r\n            </select>\r\n          </label>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"form-group__inline-wrapper\">\r\n        <div className=\"form-group form-group_width30\">\r\n          <label>Source Column\r\n          <select required name=\"source_column\"\r\n              value={source_column}\r\n              onChange={changeHandler}\r\n              className=\"form-control\"\r\n            >\r\n              <option disabled value=\"\" />\r\n              {sourceColumnOptions.map(({ label, value }) => <option value={value} key={value}>{label}</option>)}\r\n            </select>\r\n          </label>\r\n        </div>\r\n\r\n        <div className=\"form-group form-group_width30\">\r\n          <label>Operator\r\n            <select required name=\"operator\"\r\n              value={operator}\r\n              onChange={changeHandler}\r\n              className=\"form-control\"\r\n            >\r\n              <option value=\"\" disabled />\r\n              <option value=\"=\">Equals</option>\r\n              <option value=\"!=\">Not Equals</option>\r\n              <option value=\"like\">Like</option>\r\n              <option value=\">\">&gt;</option>\r\n              <option value=\">=\">&gt;=</option>\r\n              <option value=\"<\">&lt;</option>\r\n              <option value=\"<=\">&lt;=</option>\r\n            </select>\r\n          </label>\r\n        </div>\r\n\r\n        <div className=\"form-group form-group_width30\">\r\n          <label>Target Column\r\n            <select required name=\"target_column\"\r\n              value={target_column}\r\n              onChange={changeHandler}\r\n              className=\"form-control\"\r\n            >\r\n              <option disabled value=\"\">{!target_table ? 'Choose Table First' : ''}</option>\r\n              {targetColumnOptions.map(({ id, title }) => <option value={id} key={id}>{title}</option>)}\r\n            </select>\r\n          </label>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  }\r\n}\r\n\r\nexport default JoinComponent;","/** @function getDateFormat\r\n  * @param {string} type тип поля where_date\r\n  * @return {string} формат отображаемых данных\r\n */\r\nexport function getDatePickerFormat(type) {\r\n  switch (type) {\r\n    case 'datetime':\r\n      return \"yyyy/MM/dd h:mm:ss\";\r\n    case 'date':\r\n      return \"yyyy/MM/dd\";\r\n    case 'time':\r\n      return \"h:mm:ss\";\r\n    case 'day':\r\n      return \"dd\";\r\n    case 'month':\r\n      return \"MM\";\r\n    case 'year':\r\n      return \"yyyy\";\r\n\r\n    default:\r\n      return \"yyyy\";\r\n  }\r\n}\r\n\r\n/** @function getDateFormat\r\n * Функция схожа с getDateFormat, с тем различием\r\n что moment запрашивает дату в формате DD - заглавные буквы\r\n * @param {string} type - тип поля where_date\r\n * @return {string | undefined} формат строки, получаемой из объекта Date\r\n */\r\nexport function getMomentFormat(type) {\r\n  switch (type) {\r\n    case 'datetime':\r\n      return \"YYYY/MM/DD H:mm:ss\";\r\n    case 'date':\r\n      return \"YYYY/MM/DD\";\r\n    case 'time':\r\n      return \"H:mm:ss\";\r\n    case 'day':\r\n      return \"DD\";\r\n    case 'month':\r\n      return \"MM\";\r\n    case 'year':\r\n      return \"YYYY\";\r\n\r\n    default:\r\n      return \"YYYY\";\r\n  }\r\n}","import React, { Component } from \"react\";\r\nimport DatePicker from \"react-datepicker\";\r\nimport moment from \"moment\";\r\nimport { getDatePickerFormat, getMomentFormat } from \"./helpers\";\r\n\r\nconst conditionTypeOptions = ['where', 'or_where', 'where_between', 'where_in', 'where_date', 'where_column'];\r\nconst dateTypesOptions = [\r\n  { value: 'datetime', label: 'Date - Time' },\r\n  { value: 'date', label: 'Date' },\r\n  { value: 'time', label: 'Time' },\r\n  { value: 'day', label: 'Day' },\r\n  { value: 'month', label: 'Month' },\r\n  { value: 'year', label: 'Year' }\r\n];\r\n\r\nclass ConditionComponent extends Component {\r\n  state = { isDateVar: false }\r\n\r\n  dateValueFormatChange = () => {\r\n    const { isDateVar } = this.state;\r\n\r\n    this.props.changeHandler({\r\n      target: {\r\n        value: isDateVar ? moment(new Date()).format(getMomentFormat(this.props.item.type)) : '',\r\n        name: \"value\"\r\n      }\r\n    });\r\n    this.setState({ isDateVar: !isDateVar });\r\n  }\r\n\r\n  render() {\r\n    const { columnsOptions, changeHandler, isFirst } = this.props;\r\n    const { condition_type, column, operator, value, or, not, values, type,\r\n      first_column, second_column } = this.props.item;\r\n    const { isDateVar } = this.state;\r\n\r\n    return <div className=\"form-segment\">\r\n      <div className=\"form-group__inline-wrapper\">\r\n        <div className=\"form-group form-group_width30\">\r\n          <label>Condition Type\r\n            <select required name=\"condition_type\"\r\n              value={condition_type}\r\n              onChange={changeHandler}\r\n              className=\"form-control\"\r\n            >\r\n              <option disabled value=\"\" />\r\n              {conditionTypeOptions.map(type =>\r\n                <option key={type} value={type} disabled={isFirst && type === 'or_where'}>\r\n                  {type}\r\n                </option>)}\r\n            </select>\r\n          </label>\r\n        </div>\r\n\r\n        {condition_type && condition_type !== \"where_column\" && <div className=\"form-group form-group_width30\">\r\n          <label>Field\r\n            <select required name=\"column\"\r\n              value={column}\r\n              onChange={changeHandler}\r\n              className=\"form-control\"\r\n            >\r\n              <option disabled value=\"\" />\r\n              {columnsOptions.map(({ value, label }) =>\r\n                <option key={value} value={value}>\r\n                  {label}\r\n                </option>)}\r\n            </select>\r\n          </label>\r\n        </div>}\r\n\r\n        {['where', 'or_where', 'where_column'].includes(condition_type) &&\r\n          <div className=\"form-group form-group_width30\">\r\n            <label>Operator\r\n              <select required name=\"operator\"\r\n                value={operator}\r\n                onChange={changeHandler}\r\n                className=\"form-control\"\r\n              >\r\n                <option value=\"\" disabled />\r\n                <option value=\"=\">Equals</option>\r\n                <option value=\"!=\">Not Equals</option>\r\n                <option value=\"like\">Like</option>\r\n                <option value=\">\">&gt;</option>\r\n                <option value=\">=\">&gt;=</option>\r\n                <option value=\"<\">&lt;</option>\r\n                <option value=\"<=\">&lt;=</option>\r\n              </select>\r\n            </label>\r\n          </div>}\r\n\r\n        {['where_between', 'where_in', 'where_column'].includes(condition_type) && <>\r\n          {!isFirst && <div className=\"form-group form-group_checkbox form-group_width15\">\r\n            <label className=\"label_checkbox\">\r\n              <input type=\"checkbox\" name=\"or\"\r\n                className=\"form-check-input\"\r\n                checked={or}\r\n                onChange={changeHandler}\r\n              /> Or\r\n            </label>\r\n          </div>}\r\n\r\n          {condition_type !== 'where_column' && <div className=\"form-group form-group_checkbox form-group_width15\">\r\n            <label className=\"label_checkbox\">\r\n              <input type=\"checkbox\" name=\"not\"\r\n                className=\"form-check-input\"\r\n                checked={not}\r\n                onChange={changeHandler}\r\n              /> Not\r\n            </label>\r\n          </div>}\r\n        </>}\r\n\r\n        {condition_type === \"where_date\" && <div className=\"form-group form-group_width30\">\r\n          <label>Type\r\n            <select id=\"type\" required name=\"type\"\r\n              value={type}\r\n              onChange={changeHandler}\r\n              className=\"form-control\"\r\n            >\r\n              <option disabled value=\"\" />\r\n              {dateTypesOptions.map(({ value, label }) =>\r\n                <option key={value} value={value}>{label}</option>)}\r\n            </select>\r\n          </label>\r\n        </div>}\r\n      </div>\r\n\r\n      {['where', 'or_where'].includes(condition_type) &&\r\n        <div className=\"form-group\">\r\n          <label>Value\r\n            <input type=\"text\" required name=\"value\"\r\n              value={value}\r\n              onChange={changeHandler}\r\n              className=\"form-control\" />\r\n          </label>\r\n        </div>}\r\n\r\n      {['where_between'].includes(condition_type) &&\r\n        <div className=\"form-group__inline-wrapper\">\r\n          <div className=\"form-group form-group_width47\">\r\n            <label>Value 1\r\n              <input type=\"text\" required name=\"value1\"\r\n                value={values[0] || ''}\r\n                onChange={changeHandler}\r\n                className=\"form-control\" />\r\n            </label>\r\n          </div>\r\n\r\n          <div className=\"form-group form-group_width47\">\r\n            <label>Value 2\r\n              <input type=\"text\" required name=\"value2\"\r\n                value={values[1] || ''}\r\n                onChange={changeHandler}\r\n                className=\"form-control\" />\r\n            </label>\r\n          </div>\r\n        </div>}\r\n\r\n      {condition_type === \"where_in\" && <>\r\n        <div className=\"form-group\">\r\n          <label>Values\r\n            <textarea required name=\"values\"\r\n              value={values.join(\", \")}\r\n              onChange={changeHandler}\r\n              className=\"form-control\" />\r\n          </label>\r\n        </div>\r\n        <p>Comma Separated</p>\r\n      </>}\r\n\r\n      {condition_type === \"where_date\" && <div className=\"row\">\r\n        <div className=\"form-group col-6\">\r\n          <label>Operator\r\n              <select required name=\"operator\"\r\n              value={operator}\r\n              onChange={changeHandler}\r\n              className=\"form-control\"\r\n            >\r\n              <option value=\"\" disabled />\r\n              <option value=\"=\">Equals</option>\r\n              <option value=\"!=\">Not Equals</option>\r\n              <option value=\">\">&gt;</option>\r\n              <option value=\">=\">&gt;=</option>\r\n              <option value=\"<\">&lt;</option>\r\n              <option value=\"<=\">&lt;=</option>\r\n            </select>\r\n          </label>\r\n        </div>\r\n\r\n        <div className={`form-group col-6 ${[\"day\", \"month\"].includes(type) ? \"hide-blocks\" : \"\"}`}>\r\n          <label className=\"w-auto mb-0\">Value</label>\r\n          <label className=\"label_checkbox float-right w-auto\">\r\n            <input type=\"checkbox\"\r\n              className=\"form-check-input\"\r\n              checked={isDateVar}\r\n              onChange={this.dateValueFormatChange}\r\n            /> Set Variable\r\n            </label>\r\n          {isDateVar ?\r\n            <input type=\"text\" required name=\"value\"\r\n              value={value}\r\n              onChange={changeHandler}\r\n              className=\"form-control\"\r\n            /> :\r\n            <DatePicker selected={moment(value, getMomentFormat(type))._d}\r\n              showTimeSelect={[\"datetime\", \"time\"].includes(type)}\r\n              showYearPicker={type === \"year\"}\r\n              showTimeSelectOnly={type === \"time\"}\r\n              showMonthYearPicker={type === \"month\"}\r\n              dateFormat={getDatePickerFormat(type)}\r\n              className=\"form-control\"\r\n              onChange={value => changeHandler({\r\n                target: {\r\n                  value: moment(value).format(getMomentFormat(type)),\r\n                  name: \"value\"\r\n                }\r\n              })}\r\n            />}\r\n        </div>\r\n      </div>}\r\n\r\n      {condition_type === \"where_column\" && <div className=\"form-group__inline-wrapper\">\r\n        <div className=\"form-group form-group_width47\">\r\n          <label>First Field\r\n            <select required name=\"first_column\"\r\n\r\n              value={first_column}\r\n              onChange={changeHandler}\r\n              className=\"form-control\"\r\n            >\r\n              <option disabled value=\"\" />\r\n              {columnsOptions.map(({ value, label }) =>\r\n                <option key={value} value={value}>\r\n                  {label}\r\n                </option>)}\r\n            </select>\r\n          </label>\r\n        </div>\r\n\r\n        <div className=\"form-group form-group_width47\">\r\n          <label>Second Field\r\n            <select required name=\"second_column\"\r\n              value={second_column}\r\n              onChange={changeHandler}\r\n              className=\"form-control\"\r\n            >\r\n              <option disabled value=\"\" />\r\n              {columnsOptions.map(({ value, label }) =>\r\n                <option key={value} value={value}>\r\n                  {label}\r\n                </option>)}\r\n            </select>\r\n          </label>\r\n        </div>\r\n      </div>}\r\n    </div>\r\n  }\r\n}\r\n\r\nexport default ConditionComponent;","import React, { Component } from \"react\";\r\n\r\nclass OrderByComponent extends Component {\r\n  render() {\r\n    const { type, column } = this.props.item;\r\n    const { columnsOptions, changeHandler } = this.props;\r\n\r\n    return <div className=\"form-segment form-group__inline-wrapper\">\r\n      <div className=\"form-group form-group_width47\">\r\n        <label>Field\r\n          <select required name=\"column\"\r\n            value={column}\r\n            onChange={changeHandler}\r\n            className=\"form-control\"\r\n          >\r\n            <option disabled value=\"\" />\r\n            {columnsOptions.map(({ value, label }) =>\r\n              <option key={value} value={label}>\r\n                {label}\r\n              </option>)}\r\n          </select>\r\n        </label>\r\n      </div>\r\n\r\n      <div className=\"form-group form-group_width47\">\r\n        <label>Type\r\n          <select required name=\"type\"\r\n            value={type}\r\n            onChange={changeHandler}\r\n            className=\"form-control\"\r\n          >\r\n            {/*<option disabled value=\"\" />*/}\r\n            <option value=\"asc\">Asc</option>\r\n            <option value=\"desc\">Desc</option>\r\n          </select>\r\n        </label>\r\n      </div>\r\n    </div>\r\n  }\r\n}\r\n\r\nexport default OrderByComponent;","import React, { Component, Fragment } from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport moment from \"moment\";\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\nimport { titleToName } from \"../../js/helpers\";\r\nimport AggregateComponent from \"./AggregateComponent\";\r\nimport JoinComponent from \"./JoinComponent\";\r\nimport ConditionComponent from \"./ConditionComponent\";\r\nimport OrderByComponent from \"./OrderByComponent\";\r\nimport AltrpSelect from \"../altrp-select/AltrpSelect\";\r\nimport { getMomentFormat } from \"./helpers\";\r\n\r\nclass SQLBuilderForm extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    const { modelId, id } = this.props.match.params;\r\n    this.state = {\r\n      value: {\r\n        title: \"\",\r\n        name: \"\",\r\n        columns: [],\r\n        aggregates: [],\r\n        joins: [],\r\n        conditions: [],\r\n        relations: [],\r\n        order_by: [],\r\n        access: { roles: [], permissions: [] },\r\n        group_by: [],\r\n        // offset: 'REQUEST:pageSize * (REQUEST:page - 1)',\r\n        // limit: 'REQUEST:pageSize'\r\n      },\r\n      relationsOptions: [],\r\n      rolesOptions: [],\r\n      permissionsOptions: [],\r\n      tablesOptions: [],\r\n      selfFields: [],\r\n      selfFieldsOptions: [],\r\n      isAggregateRaw: false\r\n      // isOffsetDisable: true,\r\n      // isLimitDisable: true\r\n    };\r\n    this.counter = 0;\r\n    this.rolesOptions = new Resource({ route: '/admin/ajax/role_options' });\r\n    this.permissionsOptions = new Resource({ route: '/admin/ajax/permissions_options' });\r\n    this.tablesOptions = new Resource({ route: '/admin/ajax/tables_options' });\r\n    this.selfFieldsResource = new Resource({ route: `/admin/ajax/models/${modelId}/fields_only` });\r\n    this.relationsResource = new Resource({ route: `/admin/ajax/models/${modelId}/relations` });\r\n    this.sqlResource = new Resource({ route: `/admin/ajax/models/${modelId}/queries` });\r\n    this.submitHandler = this.submitHandler.bind(this);\r\n    this.multipleSelectChangeHandler = this.multipleSelectChangeHandler.bind(this);\r\n    this.aggregateChangeHandler = this.aggregateChangeHandler.bind(this);\r\n    this.aggregateAddHandler = this.aggregateAddHandler.bind(this);\r\n    this.aggregateDeleteHandler = this.aggregateDeleteHandler.bind(this);\r\n    this.joinChangeHandler = this.joinChangeHandler.bind(this);\r\n    this.joinAddHandler = this.joinAddHandler.bind(this);\r\n    this.joinDeleteHandler = this.joinDeleteHandler.bind(this);\r\n    this.conditionChangeHandler = this.conditionChangeHandler.bind(this);\r\n    this.orderByChangeHandler = this.orderByChangeHandler.bind(this);\r\n    this.orderByAddHandler = this.orderByAddHandler.bind(this);\r\n    this.orderByDeleteHandler = this.orderByDeleteHandler.bind(this);\r\n    this.titleChangeHandler = this.titleChangeHandler.bind(this);\r\n  }\r\n\r\n  /**\r\n   * запросы опций для селектов\r\n   *\r\n   */\r\n  async componentDidMount() {\r\n    const { id } = this.props.match.params\r\n    if (id) {\r\n      const value = await this.sqlResource.get(id);\r\n      this.setState(state => ({ ...state, value }));\r\n    }\r\n    const rolesOptions = await this.rolesOptions.getAll();\r\n    this.setState(state => ({ ...state, rolesOptions }));\r\n    const permissionsOptions = await this.permissionsOptions.getAll();\r\n    this.setState(state => ({ ...state, permissionsOptions }));\r\n    const tablesOptions = await this.tablesOptions.getAll();\r\n    this.setState(state => ({ ...state, tablesOptions }));\r\n    const selfFields = await this.selfFieldsResource.getAll();\r\n    let selfFieldsOptions = selfFields.map(field => {\r\n      return {\r\n        label: field.title,\r\n        value: field.name,\r\n      };\r\n    });\r\n    this.setState(state => ({ ...state, selfFields, selfFieldsOptions }));\r\n    const relations = await this.relationsResource.getAll();\r\n    let relationsOptions = relations.map(relation => {\r\n      return {\r\n        label: relation.title,\r\n        value: relation.name,\r\n      };\r\n    });\r\n    this.setState(state => ({ ...state, relationsOptions }));\r\n  }\r\n\r\n  /**\r\n   * Добавляет поля из добавленных связей\r\n   * @return {Promise<void>}\r\n   */\r\n  async addForeignFields() {\r\n\r\n  }\r\n\r\n  /**\r\n   * Смена группировки\r\n   */\r\n  changeGroupBy = (group_by) => {\r\n    let _group_by = [];\r\n    if (group_by) group_by.forEach(r => {\r\n      _group_by.push(r.value)\r\n    });\r\n    this.setState(state => {\r\n      const newState = _.cloneDeep(state);\r\n      newState.value.group_by = _group_by;\r\n      return newState;\r\n    });\r\n  };\r\n  /**\r\n   * Смена колонок\r\n   */\r\n  changeColumns = (columns) => {\r\n    let _columns = [];\r\n    if (columns) columns.forEach(c => {\r\n      _columns.push(c.value)\r\n    });\r\n    this.setState(state => ({ ...state, value: { ...state.value, columns: _columns } }));\r\n  };\r\n  /**\r\n   * Смена связей\r\n   */\r\n  changeRelations = (relations) => {\r\n    let _relations = [];\r\n    if (relations) relations.forEach(r => {\r\n      _relations.push(r.value)\r\n    });\r\n    this.setState(state => ({ ...state, value: { ...state.value, relations: _relations } }));\r\n  };\r\n  /**\r\n   * Смена ролей\r\n   */\r\n  changeRoles = (roles) => {\r\n    let _roles = [];\r\n    if (roles) roles.forEach(r => {\r\n      _roles.push(r.value)\r\n    });\r\n    this.setState(state => {\r\n      const newState = _.cloneDeep(state);\r\n      newState.value.access.roles = _roles;\r\n      return newState;\r\n    });\r\n  };\r\n  /**\r\n   * Смена разрешений\r\n   */\r\n  changePermission = (permissions) => {\r\n    let _permissions = [];\r\n    if (permissions) permissions.forEach(p => {\r\n      _permissions.push(p.value)\r\n    });\r\n    this.setState(state => {\r\n      const newState = _.cloneDeep(state);\r\n      newState.value.access.permissions = _permissions;\r\n      return newState;\r\n    });\r\n  };\r\n\r\n  valueChangeHandler = ({ target: { value, name } }) => {\r\n    this.setState(state => ({ ...state, value: { ...state.value, [name]: value } }));\r\n  }\r\n\r\n  // обработчик изменения поля title, изменяющий значение поля name\r\n  titleChangeHandler(e) {\r\n    e.persist();\r\n    this.setState(state => ({\r\n      ...state,\r\n      value: {\r\n        ...state.value,\r\n        title: e.target.value,\r\n        name: titleToName(e.target.value)\r\n      }\r\n    }))\r\n  }\r\n\r\n  // обработчики событий для массива aggregates\r\n  aggregateChangeHandler({ target: { value, name } }, index) {\r\n    this.setState(state => {\r\n      const aggregates = [...state.value.aggregates];\r\n      aggregates[index] = { ...state.value.aggregates[index], [name]: value };\r\n      return {\r\n        ...state,\r\n        value: { ...state.value, aggregates }\r\n      };\r\n    });\r\n  }\r\n\r\n  aggregateAddHandler() {\r\n    this.setState(state => {\r\n      const aggregates = [...state.value.aggregates];\r\n      aggregates.push({ type: '', column: '', alias: ''/* , id: this.counter */ });\r\n      return {\r\n        ...state,\r\n        value: { ...state.value, aggregates }\r\n      };\r\n    });\r\n  }\r\n\r\n  aggregateDeleteHandler(index) {\r\n    this.setState(state => {\r\n      const aggregates = [...state.value.aggregates];\r\n      aggregates.splice(index, 1);\r\n      return {\r\n        ...state,\r\n        value: { ...state.value, aggregates }\r\n      };\r\n    });\r\n  }\r\n\r\n  aggregateToggle = () => {\r\n    this.setState(state => ({\r\n      isAggregateRaw: !state.isAggregateRaw,\r\n      value: {\r\n        ...state.value,\r\n        aggregates: state.isAggregateRaw ? [{ type: '', column: '', alias: '' }] : ''\r\n      }\r\n    }));\r\n  }\r\n\r\n  // обработчики событий для массива joins\r\n  joinChangeHandler({ target: { value, name } }, index) {\r\n    this.setState(state => {\r\n      const joins = [...state.value.joins];\r\n      joins[index] = { ...state.value.joins[index], [name]: value };\r\n      return {\r\n        ...state,\r\n        value: { ...state.value, joins }\r\n      };\r\n    });\r\n  }\r\n\r\n  joinAddHandler() {\r\n    this.setState(state => {\r\n      const joins = [...state.value.joins];\r\n      joins.push({\r\n        type: '', target_table: '', source_column: '', operator: '', target_column: ''\r\n      });\r\n      return {\r\n        ...state,\r\n        value: { ...state.value, joins }\r\n      };\r\n    });\r\n  }\r\n\r\n  joinDeleteHandler(index) {\r\n    this.setState(state => {\r\n      const joins = [...state.value.joins];\r\n      joins.splice(index, 1);\r\n      return {\r\n        ...state,\r\n        value: { ...state.value, joins }\r\n      };\r\n    });\r\n  }\r\n\r\n  // обработчики событий для массива conditions\r\n  conditionAddHandler = () => {\r\n    this.setState(state => {\r\n      const conditions = [...state.value.conditions];\r\n      conditions.push({ condition_type: '' });\r\n      return {\r\n        ...state,\r\n        value: { ...state.value, conditions }\r\n      };\r\n    });\r\n  }\r\n\r\n  conditionChangeHandler({ target: { value, name, checked } }, index) {\r\n    this.setState(state => {\r\n      const conditions = [...state.value.conditions];\r\n      let condition;\r\n      if (name === 'condition_type') {\r\n        switch (value) {\r\n          case 'where':\r\n          case 'or_where':\r\n            condition = { condition_type: value, column: '', operator: '', value: '' };\r\n            break;\r\n          case 'where_between':\r\n          case 'where_in':\r\n            condition = index === 0 ?\r\n              { condition_type: value, not: false, column: '', values: [] } :\r\n              { condition_type: value, or: false, not: false, column: '', values: [] };\r\n            break;\r\n          case 'where_date':\r\n            condition = { condition_type: value, type: 'year', column: '', value: '2020' };\r\n            break;\r\n          case 'where_column':\r\n            condition = index === 0 ?\r\n              { condition_type: value, first_column: '', operator: '', second_column: '' } :\r\n              { condition_type: value, or: false, first_column: '', operator: '', second_column: '' };\r\n            break;\r\n\r\n          default:\r\n            throw new Error('invalid condition type');\r\n        }\r\n      } else {\r\n        switch (name) {\r\n          case 'value1':\r\n            condition = {\r\n              ...state.value.conditions[index],\r\n              values: [value, state.value.conditions[index].values[1]]\r\n            };\r\n            break;\r\n          case 'value2':\r\n            condition = {\r\n              ...state.value.conditions[index],\r\n              values: [state.value.conditions[index].values[0], value]\r\n            };\r\n            break;\r\n          case 'values':\r\n            condition = {\r\n              ...state.value.conditions[index],\r\n              [name]: value.split(',').map(item => item.trim())\r\n            };\r\n            break;\r\n          case 'type':\r\n            condition = {\r\n              ...state.value.conditions[index],\r\n              type: value,\r\n              value: moment(new Date()).format(getMomentFormat(value))\r\n            };\r\n            break;\r\n          case 'operator':\r\n            condition = {\r\n              ...state.value.conditions[index],\r\n              [name]: value\r\n            };\r\n            condition.condition_type === 'where_column' ?\r\n              condition.second_column = condition.second_column || '' :\r\n              condition.value = condition.value || ''\r\n            break;\r\n\r\n          default:\r\n            condition = {\r\n              ...state.value.conditions[index],\r\n              [name]: ['or', 'not'].includes(name) ? checked : value\r\n            };\r\n            break;\r\n        }\r\n\r\n      }\r\n      conditions[index] = condition;\r\n      return {\r\n        ...state,\r\n        value: { ...state.value, conditions }\r\n      };\r\n    });\r\n  }\r\n\r\n  conditionDeleteHandler(index) {\r\n    this.setState(state => {\r\n      const conditions = [...state.value.conditions];\r\n      conditions.splice(index, 1);\r\n      return {\r\n        ...state,\r\n        value: { ...state.value, conditions }\r\n      };\r\n    });\r\n  }\r\n\r\n  // обработчики событий для массива orderBy\r\n  orderByChangeHandler({ target: { value, name } }, index) {\r\n    this.setState(state => {\r\n      const order_by = [...state.value.order_by];\r\n      order_by[index] = { ...state.value.order_by[index], [name]: value };\r\n      return {\r\n        ...state,\r\n        value: { ...state.value, order_by }\r\n      };\r\n    });\r\n  }\r\n\r\n  orderByAddHandler() {\r\n    // this.counter++;\r\n\r\n    this.setState(state => {\r\n      const order_by = [...state.value.order_by];\r\n      order_by.push({ type: 'asc', column: ''/* , id: this.counter */ });\r\n      return {\r\n        ...state,\r\n        value: { ...state.value, order_by }\r\n      };\r\n    });\r\n  }\r\n\r\n  orderByDeleteHandler(index) {\r\n    this.setState(state => {\r\n      const order_by = [...state.value.order_by];\r\n      order_by.splice(index, 1);\r\n      return {\r\n        ...state,\r\n        value: { ...state.value, order_by }\r\n      };\r\n    })\r\n  }\r\n\r\n  // обработчик изменения для multiple-селектов\r\n  multipleSelectChangeHandler({ target: { value, name } }) {\r\n    this.setState(state => {\r\n      const array = [...state[name]];\r\n\r\n      if (array.includes(value)) {\r\n        const index = array.indexOf(value);\r\n        array.splice(index, 1);\r\n      } else {\r\n        array.push(value);\r\n      }\r\n\r\n      return { ...state, [name]: array };\r\n    })\r\n  }\r\n\r\n  offsetDeleteHandler = () => {\r\n    this.setState(state => {\r\n      const newState = _.cloneDeep(state);\r\n      delete newState.value.offset;\r\n      return newState;\r\n    })\r\n  }\r\n\r\n  limitDeleteHandler = () => {\r\n    this.setState(state => {\r\n      const newState = _.cloneDeep(state);\r\n      delete newState.value.offset;\r\n      delete newState.value.limit;\r\n      return newState;\r\n    })\r\n  }\r\n\r\n  async submitHandler(e) {\r\n    const { modelId, id } = this.props.match.params;\r\n    e.preventDefault();\r\n\r\n    const isNameTaken = await fetch(`/admin/ajax/models/${modelId}/sql_builder_name_is_free?name=${this.state.value.name}`)\r\n      .then(res => res.json())\r\n      .then(res => !res.taken);\r\n\r\n    if (isNameTaken) {\r\n      return alert(`Name ${this.state.value.name} is already taken. Use another one.`)\r\n    }\r\n\r\n    (id ?\r\n      this.sqlResource.put(id, this.state.value) :\r\n      this.sqlResource.post(this.state.value))\r\n      .then(() => this.props.history.push(`/admin/tables/models/edit/${modelId}`));\r\n  }\r\n\r\n  /**\r\n   * сохранить связи\r\n   */\r\n  setRelations = (relations) => {\r\n    let _relations = [];\r\n    relations.forEach(r => {\r\n      _relations.push(r.value);\r\n    });\r\n    this.setState(state => ({ ...state, relations: _relations }))\r\n  };\r\n  /**\r\n   * сохранить колонки\r\n   */\r\n  setColumns = (columns) => {\r\n    let _columns = [];\r\n    columns.forEach(c => {\r\n      _columns.push(c.value)\r\n    });\r\n    this.setState(state => ({ ...state, columns: _columns }))\r\n  };\r\n\r\n  render() {\r\n    const { title, name, relations, columns, aggregates, joins, conditions, order_by, group_by, offset, limit } = this.state.value;\r\n    const { roles, permissions } = this.state.value.access;\r\n    const { selfFieldsOptions, permissionsOptions, relationsOptions, rolesOptions, tablesOptions, isAggregateRaw /* isOffsetDisable, isLimitDisable  */ } = this.state;\r\n    const { modelId } = this.props.match.params;\r\n    return <form className=\"admin-form\" onSubmit={this.submitHandler}>\r\n      <div className=\"row\">\r\n        <div className=\"form-group  col-6\">\r\n          <label htmlFor=\"title\">Title</label>\r\n          <input type=\"text\" id=\"title\" required name=\"title\"\r\n            value={title}\r\n            onChange={this.titleChangeHandler}\r\n            className=\"form-control\" />\r\n        </div>\r\n\r\n        <div className=\"form-group col-6 \">\r\n          <label htmlFor=\"name\">Name</label>\r\n          <input type=\"text\" id=\"name\" required name=\"name\"\r\n            value={name}\r\n            onChange={this.valueChangeHandler}\r\n            className=\"form-control\" />\r\n        </div>\r\n\r\n        <div className=\"form-group col-6\">\r\n          <label htmlFor=\"relations\">With</label>\r\n          <AltrpSelect\r\n            closeMenuOnSelect={false}\r\n            onChange={this.changeRelations}\r\n            value={_.filter(relationsOptions, r => relations.indexOf(r.value) >= 0)}\r\n            options={relationsOptions}\r\n            isMulti={true} />\r\n        </div>\r\n\r\n        <div className=\"form-group col-6\">\r\n          <label htmlFor=\"columns\">Fields</label>\r\n\r\n          <AltrpSelect\r\n            closeMenuOnSelect={false}\r\n            onChange={this.changeColumns}\r\n            value={_.filter(selfFieldsOptions, c => columns.indexOf(c.value) >= 0)}\r\n            options={selfFieldsOptions}\r\n            isMulti={true} />\r\n        </div>\r\n      </div>\r\n\r\n      <h2 className=\"admin-form__subheader centred\">Access</h2>\r\n\r\n      <div className=\"form-group__inline-wrapper\">\r\n        <div className=\"form-group form-group_width47\">\r\n          <label htmlFor=\"roles\">Roles</label>\r\n\r\n          <AltrpSelect id=\"roles\"\r\n            closeMenuOnSelect={false}\r\n            value={_.filter(rolesOptions, r => roles.indexOf(r.value) >= 0)}\r\n            isMulti={true}\r\n            onChange={this.changeRoles}\r\n            options={rolesOptions} />\r\n        </div>\r\n\r\n        <div className=\"form-group form-group_width47\">\r\n          <label htmlFor=\"permissions\">Permissions</label>\r\n          <AltrpSelect id=\"roles\"\r\n            value={_.filter(permissionsOptions, p => permissions.indexOf(p.value) >= 0)}\r\n            closeMenuOnSelect={false}\r\n            isMulti={true}\r\n            onChange={this.changePermission}\r\n            options={permissionsOptions} />\r\n        </div>\r\n      </div>\r\n\r\n      <h2 className=\"admin-form__subheader centred\">Joins</h2>\r\n      {joins.map((item, index) => <Fragment key={index}>\r\n        {index !== 0 && <hr />}\r\n        <div className=\"text-right\">\r\n          <button className=\"btn btn_failure\" type=\"button\" onClick={() => this.joinDeleteHandler(index)}>\r\n            ✖\r\n          </button>\r\n        </div>\r\n        <JoinComponent item={item}\r\n          tablesOptions={tablesOptions}\r\n          sourceColumnOptions={selfFieldsOptions}\r\n          changeHandler={e => this.joinChangeHandler(e, index)}\r\n        />\r\n      </Fragment>)}\r\n      <div className=\"centred\">\r\n        <button className=\"btn btn_success\" type=\"button\" onClick={this.joinAddHandler}>\r\n          + New Join\r\n        </button>\r\n      </div>\r\n\r\n      <h2 className=\"admin-form__subheader centred\">Aggregates</h2>\r\n\r\n      {(!!aggregates.length || isAggregateRaw) &&\r\n        <div className=\"text-center\">\r\n          <button className={`btn ${isAggregateRaw ? 'btn_success' : ''}`} type=\"button\" onClick={this.aggregateToggle}>\r\n            Aggregate Raw\r\n          </button>\r\n        </div>}\r\n\r\n      {isAggregateRaw ?\r\n        <div className=\"form-group\">\r\n          <input type=\"text\" id=\"aggregates\" required name=\"aggregates\"\r\n            value={aggregates}\r\n            onChange={this.valueChangeHandler}\r\n            className=\"form-control\" />\r\n        </div> :\r\n        aggregates.map((item, index) => <Fragment key={index}>\r\n          {index !== 0 && <hr />}\r\n          <div className=\"text-right\">\r\n            <button className=\"btn btn_failure\" type=\"button\" onClick={() => this.aggregateDeleteHandler(index)}>\r\n              ✖\r\n            </button>\r\n          </div>\r\n          <AggregateComponent item={item}\r\n            columnsOptions={selfFieldsOptions}\r\n            changeHandler={e => this.aggregateChangeHandler(e, index)}\r\n          />\r\n        </Fragment>)}\r\n\r\n      {!isAggregateRaw && <div className=\"centred\">\r\n        <button className=\"btn btn_success\" type=\"button\" onClick={this.aggregateAddHandler}>\r\n          + New Aggregate\r\n        </button>\r\n      </div>}\r\n\r\n      <h2 className=\"admin-form__subheader centred\">Conditions</h2>\r\n\r\n      {conditions.map((condition, index) => <Fragment key={index}>\r\n        <div className=\"text-right\">\r\n          <button className=\"btn btn_failure\" type=\"button\" onClick={() => this.conditionDeleteHandler(index)}>\r\n            ✖\r\n          </button>\r\n        </div>\r\n        {index !== 0 && <hr />}\r\n        <ConditionComponent\r\n          item={condition}\r\n          isFirst={index === 0}\r\n          columnsOptions={selfFieldsOptions}\r\n          changeHandler={e => this.conditionChangeHandler(e, index)}\r\n        />\r\n\r\n      </Fragment>)}\r\n      <div className=\"centred\">\r\n        <button className=\"btn btn_success\" type=\"button\" onClick={this.conditionAddHandler}>\r\n          + New Condition\r\n        </button>\r\n      </div>\r\n\r\n      <h2 className=\"admin-form__subheader centred\">Order By</h2>\r\n\r\n      {order_by.map((item, index) => <Fragment key={index}>\r\n        {index !== 0 && <hr />}\r\n        <div className=\"text-right\">\r\n          <button className=\"btn btn_failure\" type=\"button\" onClick={() => this.orderByDeleteHandler(index)}>\r\n            ✖\r\n          </button>\r\n        </div>\r\n        <OrderByComponent\r\n          item={item}\r\n          columnsOptions={selfFieldsOptions}\r\n          changeHandler={e => this.orderByChangeHandler(e, index)}\r\n        />\r\n      </Fragment>)}\r\n      <div className=\"centred\">\r\n        <button className=\"btn btn_success\" type=\"button\" onClick={this.orderByAddHandler}>\r\n          + New Order\r\n        </button>\r\n      </div>\r\n\r\n      <h2 className=\"admin-form__subheader centred\">Group By</h2>\r\n\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"group_by\">Fields</label>\r\n\r\n        <AltrpSelect\r\n          id=\"group_by\"\r\n          closeMenuOnSelect={false}\r\n          onChange={this.changeGroupBy}\r\n          value={_.filter(selfFieldsOptions, f => group_by.indexOf(f.value) >= 0)}\r\n          options={selfFieldsOptions}\r\n          isMulti={true} />\r\n      </div>\r\n\r\n      <h2 className=\"admin-form__subheader centred\">Pagination Settings</h2>\r\n\r\n      <div className=\"centred\">\r\n        <button className=\"btn btn_success\" type=\"button\"\r\n          onClick={() => this.setState({ value: { ...this.state.value, limit: 'REQUEST:pageSize' } })}\r\n        >\r\n          Add Limit\r\n        </button>\r\n      </div>\r\n\r\n      {limit && <div className=\"centred mt-3\">\r\n        <button className=\"btn btn_success\" type=\"button\"\r\n          onClick={() => this.setState({ value: { ...this.state.value, offset: 'REQUEST:pageSize * (REQUEST:page - 1)' } })}\r\n        >\r\n          Add Offset\r\n        </button>\r\n      </div>}\r\n\r\n      <div className=\"row\">\r\n        {offset && <div className=\"form-group  col-6\">\r\n          <div className=\"text-right\">\r\n            <button className=\"btn btn_failure\" type=\"button\" onClick={this.offsetDeleteHandler}>\r\n              ✖\r\n            </button>\r\n          </div>\r\n          <label htmlFor=\"offset\">Offset</label>\r\n          {/* <label className=\"label_checkbox float-right\">\r\n            <input type=\"checkbox\"\r\n              className=\"form-check-input\"\r\n              checked={isOffsetDisable}\r\n              onChange={() => this.setState({ isOffsetDisable: !isOffsetDisable })}\r\n            /> Blocked\r\n          </label> */}\r\n          <input type=\"text\" id=\"offset\" required name=\"offset\"\r\n            value={offset}\r\n            // disabled={isOffsetDisable}\r\n            onChange={this.valueChangeHandler}\r\n            className=\"form-control\" />\r\n        </div>}\r\n\r\n        {limit && <div className=\"form-group col-6 \">\r\n          <div className=\"text-right\">\r\n            <button className=\"btn btn_failure\" type=\"button\" onClick={this.limitDeleteHandler}>\r\n              ✖\r\n            </button>\r\n          </div>\r\n          <label htmlFor=\"limit\">Limit</label>\r\n          {/* <label className=\"label_checkbox float-right\">\r\n            <input type=\"checkbox\"\r\n              className=\"form-check-input\"\r\n              checked={isLimitDisable}\r\n              onChange={() => this.setState({ isLimitDisable: !isLimitDisable })}\r\n            /> Blocked\r\n          </label> */}\r\n          <input type=\"text\" id=\"limit\" required name=\"limit\"\r\n            value={limit}\r\n            // disabled={isLimitDisable}\r\n            onChange={this.valueChangeHandler}\r\n            className=\"form-control\" />\r\n        </div>}\r\n      </div>\r\n\r\n      <div className=\"btn__wrapper btn_add centred\">\r\n        <button className=\"btn btn_success\" type=\"submit\">Save</button>\r\n        <Link className=\"btn\" to=\"/admin/tables/models\">Cancel</Link>\r\n      </div>\r\n    </form >\r\n  }\r\n}\r\n\r\nexport default withRouter(SQLBuilderForm);\r\n","import React, { Component } from \"react\";\r\nimport SQLBuilderForm from \"./sql-builder/SQLBuilderForm\";\r\nimport {withRouter} from \"react-router-dom\";\r\n\r\nclass SQLBuilder extends Component {\r\n  render() {\r\n    return <div className=\"admin-page\">\r\n      <div className=\"admin-heading\">\r\n        <div className=\"admin-breadcrumbs\">\r\n          <a className=\"admin-breadcrumbs__link\" href=\"#\">SQL</a>\r\n        </div>\r\n      </div>\r\n      <div className=\"admin-content\">\r\n        <SQLBuilderForm />\r\n      </div>\r\n    </div>\r\n  }\r\n}\r\n\r\nexport default withRouter(SQLBuilder);","import React, { Component } from \"react\";\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nimport Resource from \"../../../../../editor/src/js/classes/Resource\";\r\nimport AltrpSelect from \"../../altrp-select/AltrpSelect\";\r\n\r\nclass SQLsRemoteFieldForm extends Component {\r\n  state = {\r\n    name: '',\r\n    column_name: '',\r\n    remote_find_column: '',\r\n    remote_need_column: '',\r\n    as_object: true,\r\n    single_source_id: '',\r\n    list_source_id: '',\r\n    enabled: true,\r\n    dataSourceOptions: [],\r\n    ...this.props.field\r\n  };\r\n\r\n  changeHandler = ({ target: { value, name } }) => {\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  async componentDidMount() {\r\n    const resource = new Resource({ route: '/admin/ajax/data_source_options' });\r\n    const { options } = await resource.getAll();\r\n    this.setState({ dataSourceOptions: options });\r\n  }\r\n\r\n  submitHandler = async (e) => {\r\n    e.preventDefault();\r\n    const model_id = this.props.match.params.id\r\n    this.props.field ?\r\n      await this.props.remoteFieldsResource.put(this.props.field.id, { ...this.state, model_id }) :\r\n      await this.props.remoteFieldsResource.post({ ...this.state, model_id });\r\n    this.props.updateRemoteFields();\r\n  };\r\n\r\n  render() {\r\n    const { name, column_name, remote_find_column, remote_need_column, as_object, single_source_id,\r\n      list_source_id, enabled, dataSourceOptions } = this.state;\r\n\r\n    return <form className=\"admin-form\" onSubmit={this.submitHandler}>\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"name\">Name</label>\r\n        <input type=\"text\" id=\"name\" required\r\n          name=\"name\"\r\n          value={name}\r\n          onChange={this.changeHandler}\r\n          className=\"form-control\"\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"column_name\">Column Name</label>\r\n        <input type=\"text\" id=\"column_name\" required\r\n          name=\"column_name\"\r\n          value={column_name}\r\n          onChange={this.changeHandler}\r\n          className=\"form-control\"\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"remote_find_column\">Remote Find Column</label>\r\n        <input type=\"text\" id=\"remote_find_column\"\r\n          required\r\n          name=\"remote_find_column\"\r\n          value={remote_find_column}\r\n          onChange={this.changeHandler}\r\n          className=\"form-control\"\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"remote_need_column\">Remote Need Column</label>\r\n        <input type=\"text\" id=\"remote_need_column\"\r\n          required\r\n          name=\"remote_need_column\"\r\n          value={remote_need_column}\r\n          onChange={this.changeHandler}\r\n          className=\"form-control\"\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <input type=\"checkbox\" id=\"as_object\"\r\n          checked={as_object}\r\n          onChange={e => this.setState({ as_object: e.target.checked })}\r\n        />\r\n        <label className=\"checkbox-label\" htmlFor=\"as_object\">As Object</label>\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"single_source_id\">Single Source</label>\r\n        <AltrpSelect required\r\n          options={dataSourceOptions}\r\n          onChange={({ value }) => {\r\n            this.setState(state => ({ ...state, single_source_id: value }));\r\n          }}\r\n          value={dataSourceOptions.find(({ value }) => value === single_source_id)} />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"list_source_id\">List Source</label>\r\n        <AltrpSelect required\r\n          options={dataSourceOptions}\r\n          onChange={({ value }) => {\r\n            this.setState(state => ({ ...state, list_source_id: value }));\r\n          }}\r\n          value={dataSourceOptions.find(({ value }) => value === list_source_id)} />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <input type=\"checkbox\" id=\"enabled\"\r\n          checked={enabled}\r\n          onChange={e => this.setState({ enabled: e.target.checked })}\r\n        />\r\n        <label className=\"checkbox-label\" htmlFor=\"enabled\">Enabled</label>\r\n      </div>\r\n\r\n      <div className=\"btn__wrapper\">\r\n        <button className=\"btn btn_success\" type=\"submit\">Submit</button>\r\n      </div>\r\n    </form>;\r\n  }\r\n}\r\n\r\nexport default withRouter(SQLsRemoteFieldForm);","import React, {Component} from \"react\";\r\nimport {Link, withRouter} from \"react-router-dom\";\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\nimport {titleToName} from \"../../js/helpers\";\r\nimport store from '../../js/store/store';\r\n\r\nimport AdminTable from \"../AdminTable\";\r\nimport AltrpSelect from \"../altrp-select/AltrpSelect\";\r\nimport AdminModal2 from \"../AdminModal2\";\r\nimport SQLsRemoteFieldForm from \"./RemoteFieldForms/SQLsRemoteFieldForm\";\r\n\r\nconst remoteFieldsColumns = [\r\n  {\r\n    name: 'name',\r\n    title: 'Name'\r\n  },\r\n  {\r\n    name: 'remote_find_column',\r\n    title: 'Remote Find Column'\r\n  },\r\n  {\r\n    name: 'remote_need_column',\r\n    title: 'Remote Need Column'\r\n  }\r\n]\r\n\r\nclass SqlEditor extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    let storeState = store.getState();\r\n    this.state = {\r\n      modelTitle: 'Model Title',\r\n      value: {\r\n        paged: false,\r\n        is_object: false,\r\n        auth: false,\r\n      },\r\n      modelsOptions: [],\r\n      AceEditor: storeState.aceEditorReducer.AceEditor,\r\n      AceEditorResponse: storeState.aceEditorReducer.AceEditor,\r\n      remoteFields: [],\r\n      editingRemoteField: null,\r\n      isFieldRemoteModalOpened: false,\r\n      testResponse: '',\r\n      testParams: {}\r\n    };\r\n    this.sqlEditorResource = new Resource({route: `/admin/ajax/sql_editors`});\r\n    this.sqlEditorTest = new Resource({route: `/admin/ajax/sql_editors/test`});\r\n    this.modelsResource = new Resource({ route: '/admin/ajax/model_options' });\r\n    this.remoteFieldsResource = new Resource({ route: `/admin/ajax/remote_data/sql_editor/${this.props.match.params.id}` });\r\n    this.onTest = this.onTest.bind(this);\r\n    store.subscribe(this.aceEditorObserver);\r\n  }\r\n\r\n  /**\r\n   * AceEditor загрузился\r\n   */\r\n  aceEditorObserver = () => {\r\n    let storeState = store.getState();\r\n    this.setState(state=>({\r\n        ...state,\r\n      AceEditor: storeState.aceEditorReducer.AceEditor\r\n    }))\r\n  };\r\n  /**\r\n   * Компонент загрузился\r\n   * @return {Promise<void>}\r\n   */\r\n  async componentDidMount() {\r\n    const {id} = this.props.match.params;\r\n    if(id){\r\n      this.remoteFieldsResource.getAll()\r\n        .then(remoteFields => this.setState({ remoteFields }));\r\n\r\n      let value = await this.sqlEditorResource.get(id);\r\n      this.editor = null;\r\n      this.setState(state=>({\r\n          ...state,\r\n        value,\r\n      }))\r\n    }\r\n    let { options } = await this.modelsResource.getAll();\r\n    options = options.filter(option => (option.label !== 'User'));\r\n    this.setState({ modelsOptions: options });\r\n  }\r\n\r\n  updateRemoteFields = async () => {\r\n    let remoteFields = await this.remoteFieldsResource.getAll();\r\n    this.setState(state => ({ ...state, remoteFields, isFieldRemoteModalOpened: false, editingRemoteField: null }));\r\n  }\r\n\r\n  /**\r\n   * Имзенить поле\r\n   * @param {*} value\r\n   * @param {string} field\r\n   */\r\n  changeValue(value, field) {\r\n    this.setState(state => {\r\n      state = { ...state };\r\n      if(field === 'name'){\r\n        state.value[field] = titleToName(value);\r\n      }else{\r\n        state.value[field] = value;\r\n      }\r\n      if(field === 'title') {\r\n        state.value.name = titleToName(value);\r\n      }\r\n      if(field === 'test') {\r\n        state.value.test = value;\r\n        let res = {};\r\n        const arr = value.split('&');\r\n        if (arr.length > 0) {\r\n          for(let item of arr) {\r\n            const a = item.split('=');\r\n            if (a[0]) {\r\n              res[a[0]] = a[1];\r\n            }\r\n          }\r\n        }\r\n        state.testParams = res;\r\n        state.testParams.sql = state.value.sql;\r\n      }\r\n      return state\r\n    })\r\n  }\r\n  /**\r\n   * отправка данных\r\n   * @return {*}\r\n   */\r\n  onSubmit = async e => {\r\n    const {id} = this.props.match.params;\r\n    e.preventDefault();\r\n    let res;\r\n    if(! this.state.value.sql){\r\n      return alert('Заполните SQL Query');\r\n    }\r\n    if(id){\r\n      res = await this.sqlEditorResource.put(id, this.state.value);\r\n    } else {\r\n      res = await this.sqlEditorResource.post(this.state.value);\r\n    }\r\n    if(res.success){\r\n      this.props.history.push('/admin/tables/sql_editors');\r\n    } else {\r\n      alert(res.message);\r\n    }\r\n  };\r\n\r\n  onTest = async () => {\r\n    this.state.testParams.sql = this.state.value.sql;\r\n    let testResponse = await this.sqlEditorTest.post(this.state.testParams);\r\n    if (testResponse.success)\r\n      testResponse = JSON.stringify(testResponse.success);\r\n    if (testResponse.error)\r\n      testResponse = JSON.stringify(testResponse.error);\r\n    this.setState(state => ({\r\n      ...state,\r\n      testResponse\r\n    }))\r\n  }\r\n\r\n  render() {\r\n    const {id} = this.props.match.params;\r\n    const { isFieldRemoteModalOpened, remoteFields, editingRemoteField } = this.state;\r\n    return <div className=\"admin-pages admin-page\">\r\n      <div className=\"admin-heading\">\r\n        <div className=\"admin-breadcrumbs\">\r\n          <Link className=\"admin-breadcrumbs__link\" to=\"/admin/tables/sql_editors\">All  SQL Editors</Link>\r\n          <span className=\"admin-breadcrumbs__separator\">/</span>\r\n\r\n          <span className=\"admin-breadcrumbs__current\">Add SQL Query</span>\r\n        </div>\r\n      </div>\r\n      <div className=\"admin-content\">\r\n        <form className=\"admin-form field-form\" onSubmit={this.onSubmit}>\r\n          <div className=\"row\">\r\n            <div className=\"form-group col-6\">\r\n              <label htmlFor=\"field-title\">Title</label>\r\n              <input type=\"text\" id=\"field-title\" required\r\n                     value={this.state.value.title || ''}\r\n                     onChange={e => {\r\n                       this.changeValue(e.target.value, 'title')\r\n                     }}\r\n                     className=\"form-control\"/>\r\n            </div>\r\n            <div className=\"form-group col-6\">\r\n              <label htmlFor=\"field-name\">Name</label>\r\n              <input type=\"text\" id=\"field-name\" required readOnly={id}\r\n                     value={this.state.value.name || ''}\r\n                     onChange={e => {\r\n                       this.changeValue(e.target.value, 'name')\r\n                     }}\r\n                     className=\"form-control\"/>\r\n            </div>\r\n            <div className=\"form-group col-12\">\r\n              <label htmlFor=\"field-name\">Description</label>\r\n              <input type=\"text\" id=\"field-description\"\r\n                     value={this.state.value.description || ''}\r\n                     onChange={e => {\r\n                       this.changeValue(e.target.value, 'description')\r\n                     }}\r\n                     className=\"form-control\"/>\r\n            </div>\r\n            {/*<div className=\"form-group col-12\">*/}\r\n              {/*<input type=\"checkbox\" id=\"relation-paged\"*/}\r\n                     {/*checked={this.state.value.paged}*/}\r\n                     {/*onChange={e => { this.changeValue(e.target.checked, 'paged') }}*/}\r\n              {/*/>*/}\r\n              {/*<label className=\"checkbox-label\" htmlFor=\"relation-paged\">Paged</label>*/}\r\n            {/*</div>*/}\r\n            <div className=\"form-group col-12\">\r\n              <label htmlFor=\"relation-model_id\">Model</label>\r\n              <select id=\"relation-model_id\" required disabled={id}\r\n                      value={this.state.value.model_id || ''}\r\n                      onChange={e => { this.changeValue(e.target.value, 'model_id') }}\r\n                      className=\"form-control\"\r\n              >\r\n                <option disabled value=\"\" />\r\n                {this.state.modelsOptions.map(({ value, label }) =>\r\n                    <option key={value} value={value}>\r\n                      {label}\r\n                    </option>)}\r\n              </select>\r\n            </div>\r\n            <div className=\"form-group col-12\">\r\n              <input type=\"checkbox\" id=\"field-auth\"\r\n                     checked={this.state.value.auth} value={this.state.value.auth}\r\n                     onChange={e => { this.changeValue(e.target.checked, 'auth') }}\r\n              />\r\n              <label className=\"checkbox-label\" htmlFor=\"field-auth\">Auth</label>\r\n            </div>\r\n            <div className=\"form-group col-12\">\r\n              <input type=\"checkbox\" id=\"field-is_object\"\r\n                     checked={this.state.value.is_object} value={this.state.value.is_object}\r\n                     onChange={e => { this.changeValue(e.target.checked, 'is_object') }}\r\n              />\r\n              <label className=\"checkbox-label\" htmlFor=\"field-is_object\">As Object</label>\r\n            </div>\r\n            {!this.state.value.auth ? '' : <><div className=\"form-group col-4\">\r\n              <label htmlFor=\"field-roles\">Roles</label>\r\n              <AltrpSelect id=\"field-roles\"\r\n                           isMulti={true}\r\n                           optionsRoute=\"/admin/ajax/role_options\"\r\n                           placeholder=\"All\"\r\n                           defaultOptions={[\r\n                             {\r\n                               value: null,\r\n                               label: 'All',\r\n                             }\r\n                           ]}\r\n                           value={this.state.value.roles}\r\n                           onChange={value => {this.changeValue(value, 'roles')}}\r\n              />\r\n            </div>\r\n            <div className=\"form-group col-4\">\r\n              <label htmlFor=\"field-permissions\">Permissions</label>\r\n              <AltrpSelect id=\"field-permissions\"\r\n                           isMulti={true}\r\n                           optionsRoute=\"/admin/ajax/permissions_options\"\r\n                           placeholder=\"All\"\r\n                           defaultOptions={[\r\n                             {\r\n                               value: null,\r\n                               label: 'All',\r\n                             }\r\n                           ]}\r\n                           value={this.state.value.permissions}\r\n                           onChange={value => {this.changeValue(value, 'permissions')}}\r\n              />\r\n            </div></>}\r\n            <div className=\"form-group col-12\">\r\n              <label htmlFor=\"field-name\">SQL Query</label>\r\n              {this.state.AceEditor && (this.editor = (this.editor || <this.state.AceEditor\r\n                  mode=\"sql\"\r\n                  theme=\"textmate\"\r\n                  onChange={value => {\r\n                    this.changeValue(value, 'sql')\r\n                  }}\r\n                  className=\"field-ace\"\r\n                  name=\"aceEditor\"\r\n                  height=\"15em\"\r\n                  setOptions={{\r\n                    value: this.state.value.sql || ''\r\n                  }}\r\n                  showPrintMargin={false}\r\n                  style={{\r\n                    width: '100%'\r\n                  }}\r\n                  enableLiveAutocompletion={true} />))}\r\n            </div>\r\n            <div className=\"row col-12\">\r\n              <div className=\"form-group col-11\">\r\n                <input type=\"text\" id=\"field-test\"\r\n                       value={this.state.value.test  || ''}\r\n                       placeholder='Parametr for test (task_id=3&id=1)'\r\n                       onChange={e => {\r\n                         this.changeValue(e.target.value, 'test')\r\n                       }}\r\n                       className=\"form-control\"\r\n                />\r\n              </div>\r\n              <div className=\"form-group col-1\">\r\n                <button className=\"btn btn_success\" type=\"button\" onClick={this.onTest}>Test</button>\r\n              </div>\r\n            </div>\r\n            <div className=\"form-group col-12\">\r\n              <label htmlFor=\"field-name\">Test Result</label>\r\n              <this.state.AceEditorResponse\r\n                mode=\"javascript\"\r\n                theme=\"textmate\"\r\n                onChange={value => {\r\n                  //this.changeValue(value, 'test')\r\n                }}\r\n                className=\"field-ace\"\r\n                name=\"aceEditorResponse\"\r\n                height=\"15em\"\r\n                wrapEnabled={true}\r\n                value={this.state.testResponse || ''}\r\n                showPrintMargin={false}\r\n                style={{\r\n                  width: '100%'\r\n                }}\r\n                enableLiveAutocompletion={false} />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"btn__wrapper btn_add\">\r\n            <button className=\"btn btn_success\" type=\"submit\">Add</button>\r\n            <Link className=\"btn\" to={`/admin/tables/sql_editors`}>Cancel</Link>\r\n\r\n\r\n            {/* TODO: отображать кнопку если в форме редактируются данные\r\n          повесить обработчик удаления\r\n        <button className=\"btn btn_failure\">Delete</button> */}\r\n          </div>\r\n        </form>\r\n        {id && <>\r\n          <h2 className=\"sub-header\">Remote Fields</h2>\r\n          <AdminTable\r\n            columns={remoteFieldsColumns}\r\n            quickActions={[{\r\n              callBack: field => this.setState({ isFieldRemoteModalOpened: true, editingRemoteField: field }),\r\n              title: 'Edit'\r\n            }, {\r\n              tag: 'button',\r\n              route: `/admin/ajax/remote_data/:id`,\r\n              method: 'delete',\r\n              confirm: 'Are You Sure?',\r\n              after: () => this.updateRemoteFields(),\r\n              className: 'quick-action-menu__item_danger',\r\n              title: 'Trash'\r\n            }]}\r\n            rows={remoteFields}\r\n          />\r\n          <button onClick={() => this.setState({ isFieldRemoteModalOpened: true, editingRemoteField: null })} className=\"btn btn_add\">\r\n            Add Remote Field\r\n          </button>\r\n        </>}\r\n      </div>\r\n      {isFieldRemoteModalOpened && <AdminModal2 closeHandler={() => this.setState({ isFieldRemoteModalOpened: false, editingRemoteField: null })}>\r\n        <SQLsRemoteFieldForm\r\n          remoteFieldsResource={this.remoteFieldsResource}\r\n          updateRemoteFields={this.updateRemoteFields}\r\n          field={editingRemoteField}\r\n        />\r\n      </AdminModal2>}\r\n    </div>;\r\n  }\r\n}\r\n\r\nexport default withRouter(SqlEditor);\r\n","\r\nimport React, { Component } from \"react\";\r\nimport { Tab, TabList, TabPanel, Tabs } from \"react-tabs\";\r\nimport 'react-tabs/style/react-tabs.scss';\r\nimport { Link, withRouter } from 'react-router-dom'\r\n\r\nimport AdminTable from \"./AdminTable\";\r\nimport Resource from \"../../../editor/src/js/classes/Resource\";\r\nimport Pagination from \"./Pagination\";\r\n\r\nconst columns = [\r\n  {\r\n    name: 'name',\r\n    title: 'Name',\r\n    url: true,\r\n    editUrl: true,\r\n    tag: 'Link'\r\n  },\r\n  {\r\n    name: 'display_name',\r\n    title: 'Display Name'\r\n  },\r\n  {\r\n    name: 'description',\r\n    title: 'Description'\r\n  }\r\n];\r\n\r\nconst rolesResource = new Resource({ route: '/admin/ajax/roles' });\r\nconst permissionsResource = new Resource({ route: '/admin/ajax/permissions' });\r\nconst itemsPerPage = 20;\r\nconst initPaginationProps = {\r\n  pageCount: 1,\r\n  currentPage: 1,\r\n  count: 0\r\n};\r\nclass AccessOptions extends Component {\r\n  state = {\r\n    roles: [],\r\n    rolesPagination: initPaginationProps,\r\n    rolesFilter: '',\r\n    rolesSorting: {},\r\n    permissions: [],\r\n    permissionsPagination: initPaginationProps,\r\n    permissionsFilter: '',\r\n    permissionsSorting: {},\r\n  };\r\n  /**\r\n   * Список ролей\r\n   */\r\n  getRoles = async () => {\r\n    const { rolesPagination, rolesFilter, rolesSorting } = this.state;\r\n    const { roles, count, pageCount } = await rolesResource.getQueried({\r\n      page: rolesPagination.currentPage,\r\n      pageSize: itemsPerPage,\r\n      preset: false,\r\n      s: rolesFilter,\r\n      ...rolesSorting\r\n    });\r\n    this.setState({ roles, rolesPagination: { ...rolesPagination, count, pageCount: pageCount || 1 } });\r\n  }\r\n\r\n  rolesSortingHandler = (order_by, order) => {\r\n    this.setState({ rolesSorting: { order_by, order } }, this.getRoles);\r\n  }\r\n  /**\r\n   * Список permissions\r\n   */\r\n  getPermissions = async () => {\r\n    const { permissionsPagination, permissionsFilter, permissionsSorting } = this.state;\r\n    const { permissions, count, pageCount } = await permissionsResource.getQueried({\r\n      page: permissionsPagination.currentPage,\r\n      pageSize: itemsPerPage,\r\n      preset: false,\r\n      s: permissionsFilter,\r\n      ...permissionsSorting\r\n    });\r\n    this.setState({ permissions, permissionsPagination: { ...permissionsPagination, count, pageCount: pageCount || 1 } });\r\n  }\r\n\r\n  permissionsSortingHandler = (order_by, order) => {\r\n    this.setState({ permissionsSorting: { order_by, order } }, this.getPermissions);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getRoles();\r\n    this.getPermissions();\r\n  }\r\n\r\n  searchRoles = e => {\r\n    e.preventDefault();\r\n    this.getRoles();\r\n  }\r\n\r\n  searchPermissions = e => {\r\n    e.preventDefault();\r\n    this.getPermissions();\r\n  }\r\n\r\n  render() {\r\n    const { roles, rolesPagination, rolesFilter, rolesSorting, permissions, permissionsPagination, permissionsFilter, permissionsSorting} = this.state;\r\n    const activeTab = this.props.location.pathname === \"/admin/access/roles\" ? 0 : 1;\r\n\r\n    return <div className=\"admin-settings admin-page\">\r\n      <div className=\"admin-heading\">\r\n        <div className=\"admin-breadcrumbs\">\r\n          <a className=\"admin-breadcrumbs__link\" href=\"#\">Access</a>\r\n          <span className=\"admin-breadcrumbs__separator\">/</span>\r\n          <span className=\"admin-breadcrumbs__current\">\r\n            {activeTab === 0 ? 'All Roles' : 'All Permissions'}\r\n          </span>\r\n        </div>\r\n        <Link className=\"btn\" to={`/admin/access/${activeTab === 0 ? 'roles' : 'permissions'}/add`}>\r\n          Add New\r\n        </Link>\r\n      </div>\r\n      <div className=\"admin-content\">\r\n        <Tabs selectedIndex={activeTab} onSelect={() => { }}>\r\n          <TabList className=\"nav nav-pills admin-pills\">\r\n            <Link to=\"/admin/access/roles\"><Tab>Roles</Tab></Link>\r\n            <Link to=\"/admin/access/permissions\"><Tab>Permissions</Tab></Link>\r\n          </TabList>\r\n          <TabPanel>\r\n            <form className=\"admin-panel py-2\" onSubmit={this.searchRoles}>\r\n              <input className=\"input-sm mr-2\" value={rolesFilter} onChange={e => this.setState({ rolesFilter: e.target.value })} />\r\n              <button className=\"btn btn_bare admin-users-button\">Search</button>\r\n            </form>\r\n            <AdminTable\r\n              columns={columns}\r\n              quickActions={[\r\n                {\r\n                  tag: 'Link',\r\n                  props: { href: '/admin/access/roles/edit/:id' },\r\n                  title: 'Edit'\r\n                },\r\n                {\r\n                  tag: 'button',\r\n                  route: '/admin/ajax/roles/:id',\r\n                  method: 'delete',\r\n                  confirm: 'Are You Sure?',\r\n                  after: () => this.getRoles(),\r\n                  className: 'quick-action-menu__item_danger',\r\n                  title: 'Trash'\r\n                }\r\n              ]}\r\n              rows={roles.map(role => ({\r\n                ...role,\r\n                editUrl: '/admin/access/roles/edit/' + role.id\r\n              }))}\r\n              sortingHandler={this.rolesSortingHandler}\r\n              sortingField={rolesSorting.order_by}\r\n            />\r\n            <Pagination pageCount={rolesPagination.pageCount}\r\n              currentPage={rolesPagination.currentPage}\r\n              changePage={currentPage => this.setState({ rolesPagination: { ...rolesPagination, currentPage } }, this.getRoles)}\r\n              itemsCount={rolesPagination.count}\r\n            />\r\n          </TabPanel>\r\n          <TabPanel>\r\n            <form className=\"admin-panel py-2\" onSubmit={this.searchPermissions}>\r\n              <input className=\"input-sm mr-2\" value={permissionsFilter} onChange={e => this.setState({ permissionsFilter: e.target.value })} />\r\n              <button className=\"btn btn_bare admin-users-button\">Search</button>\r\n            </form>\r\n            <AdminTable\r\n              columns={columns}\r\n              quickActions={[\r\n                {\r\n                  tag: 'Link',\r\n                  props: { href: '/admin/access/permissions/edit/:id' },\r\n                  title: 'Edit'\r\n                },\r\n                {\r\n                  tag: 'button',\r\n                  route: '/admin/ajax/permissions/:id',\r\n                  method: 'delete',\r\n                  confirm: 'Are You Sure?',\r\n                  after: () => this.getPermissions(),\r\n                  className: 'quick-action-menu__item_danger',\r\n                  title: 'Trash'\r\n                }\r\n              ]}\r\n              rows={permissions.map(permission => ({\r\n                ...permission,\r\n                editUrl: '/admin/access/permissions/edit/' + permission.id\r\n              }))}\r\n              sortingHandler={this.permissionsSortingHandler}\r\n              sortingField={permissionsSorting.order_by}\r\n            />\r\n            <Pagination pageCount={permissionsPagination.pageCount}\r\n              currentPage={permissionsPagination.currentPage}\r\n              changePage={currentPage => this.setState({ permissionsPagination: { ...permissionsPagination, currentPage } }, this.getPermissions)}\r\n              itemsCount={permissionsPagination.count}\r\n            />\r\n          </TabPanel>\r\n        </Tabs>\r\n      </div>\r\n    </div>\r\n  }\r\n}\r\n\r\nexport default withRouter(AccessOptions);\r\n","import React, { Component } from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\n\r\nconst rolesResource = new Resource({ route: '/admin/ajax/roles' });\r\n\r\nclass RoleForm extends Component {\r\n  state = {\r\n    name: '',\r\n    display_name: '',\r\n    description: ''\r\n  };\r\n\r\n  async componentDidMount() {\r\n    const { id } = this.props.match.params;\r\n    if (id) {\r\n      const { name, display_name, description } = await rolesResource.get(id);\r\n      this.setState({ name, display_name, description });\r\n    }\r\n  }\r\n\r\n  changeHandler = ({ target: { value, name } }) => {\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  deleteHandler = () => {\r\n    const { id } = this.props.match.params;\r\n    rolesResource.delete(id)\r\n      .then(() => this.props.history.push('/admin/access/roles'));\r\n  };\r\n\r\n  submitHandler = e => {\r\n    const { id } = this.props.match.params;\r\n    e.preventDefault();\r\n    (id ? rolesResource.put(id, this.state) : rolesResource.post(this.state))\r\n      .then(() => this.props.history.push('/admin/access/roles'));\r\n  }\r\n\r\n  render() {\r\n    const { name, display_name, description } = this.state;\r\n    const isEditing = Boolean(this.props.match.params.id);\r\n\r\n    return <form className=\"admin-form\" onSubmit={this.submitHandler}>\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"name\">Name</label>\r\n        <input type=\"text\" id=\"name\" required name=\"name\"\r\n          value={name}\r\n          onChange={this.changeHandler}\r\n          className=\"form-control\"\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"display_name\">Display Name</label>\r\n        <input type=\"text\" id=\"display_name\" name=\"display_name\"\r\n          value={display_name}\r\n          onChange={this.changeHandler}\r\n          className=\"form-control\"\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"description\">Description</label>\r\n        <input type=\"text\" id=\"description\"  name=\"description\"\r\n          value={description}\r\n          onChange={this.changeHandler}\r\n          className=\"form-control\"\r\n        />\r\n      </div>\r\n\r\n      <div className=\"btn__wrapper\">\r\n        <button className=\"btn btn_success\" type=\"submit\">Add</button>\r\n        <Link to=\"/admin/access/roles\"><button className=\"btn\">Cancel</button></Link>\r\n        {isEditing && <button className=\"btn btn_failure\" type=\"button\" onClick={this.deleteHandler}>\r\n          Delete\r\n        </button>}\r\n      </div>\r\n    </form >\r\n  }\r\n}\r\n\r\nexport default withRouter(RoleForm);\r\n","import React, { Component } from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport RoleForm from \"./RoleForm\";\r\n\r\nclass RolePage extends Component {\r\n  render() {\r\n    const isEditing = Boolean(this.props.match.params.id);\r\n\r\n    return <div className=\"admin-pages admin-page\">\r\n      <div className=\"admin-heading\">\r\n        <div className=\"admin-breadcrumbs\">\r\n          <Link className=\"admin-breadcrumbs__link\" to=\"/admin/access\">Access / All Roles</Link>\r\n          <span className=\"admin-breadcrumbs__separator\">/</span>\r\n          <span className=\"admin-breadcrumbs__current\">\r\n            {isEditing ? 'Edit Role' : 'Add New Role'}\r\n          </span>\r\n        </div>\r\n      </div>\r\n      <div className=\"admin-content\">\r\n        <RoleForm />\r\n      </div>\r\n    </div>;\r\n  }\r\n}\r\n\r\nexport default withRouter(RolePage);","import React, { Component } from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\n\r\nconst permissionsResource = new Resource({ route: '/admin/ajax/permissions' });\r\n\r\nclass PermissionForm extends Component {\r\n  state = {\r\n    name: '',\r\n    display_name: '',\r\n    description: ''\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const { id } = this.props.match.params;\r\n    if (id) {\r\n      const { name, display_name, description } = await permissionsResource.get(id);\r\n      this.setState({ name, display_name, description });\r\n    }\r\n  }\r\n\r\n  changeHandler = ({ target: { value, name } }) => {\r\n    this.setState({ [name]: value });\r\n  }\r\n\r\n  deleteHandler = () => {\r\n    const { id } = this.props.match.params;\r\n    permissionsResource.delete(id)\r\n      .then(() => this.props.history.push('/admin/access/permissions'));\r\n  }\r\n\r\n  submitHandler = e => {\r\n    const { id } = this.props.match.params;\r\n    e.preventDefault();\r\n    (id ? permissionsResource.put(id, this.state) : permissionsResource.post(this.state))\r\n      .then(() => this.props.history.push('/admin/access/permissions'));\r\n  }\r\n\r\n  render() {\r\n    const { name, display_name, description } = this.state;\r\n    const isEditing = Boolean(this.props.match.params.id);\r\n\r\n    return <form className=\"admin-form\" onSubmit={this.submitHandler}>\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"name\">Name</label>\r\n        <input type=\"text\" id=\"name\" required name=\"name\"\r\n          value={name}\r\n          onChange={this.changeHandler}\r\n          className=\"form-control\"\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"display_name\">Display Name</label>\r\n        <input type=\"text\" id=\"display_name\" name=\"display_name\"\r\n          value={display_name}\r\n          onChange={this.changeHandler}\r\n          className=\"form-control\"\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"description\">Description</label>\r\n        <input type=\"text\" id=\"description\" required name=\"description\"\r\n          value={description}\r\n          onChange={this.changeHandler}\r\n          className=\"form-control\"\r\n        />\r\n      </div>\r\n\r\n      <div className=\"btn__wrapper\">\r\n        <button className=\"btn btn_success\" type=\"submit\">Add</button>\r\n        <Link to=\"/admin/access/permissions\"><button className=\"btn\">Cancel</button></Link>\r\n        {isEditing && <button className=\"btn btn_failure\" type=\"button\" onClick={this.deleteHandler}>\r\n          Delete\r\n        </button>}\r\n      </div>\r\n    </form >\r\n  }\r\n}\r\n\r\nexport default withRouter(PermissionForm);\r\n","import React, { Component } from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport PermissionForm from \"./PermissionForm\";\r\n\r\nclass PermissionPage extends Component {\r\n  render() {\r\n    const isEditing = Boolean(this.props.match.params.id);\r\n\r\n    return <div className=\"admin-pages admin-page\">\r\n      <div className=\"admin-heading\">\r\n        <div className=\"admin-breadcrumbs\">\r\n          <Link className=\"admin-breadcrumbs__link\" to=\"/admin/access\">Access / All Permissions</Link>\r\n          <span className=\"admin-breadcrumbs__separator\">/</span>\r\n          <span className=\"admin-breadcrumbs__current\">\r\n            {isEditing ? 'Edit Permission' : 'Add New Permission'}\r\n          </span>\r\n        </div>\r\n      </div>\r\n      <div className=\"admin-content\">\r\n        <PermissionForm />\r\n      </div>\r\n    </div>;\r\n  }\r\n}\r\n\r\nexport default withRouter(PermissionPage);","import React, {Component} from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\nimport {Redirect, withRouter} from 'react-router-dom';\r\n//import TableForm from \"../../../../admin/src/components/tables/TableForm\";\r\n/**\r\n * @class\r\n * @property {Resource} resource\r\n */\r\n\r\nclass TableForm extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            value: {},\r\n            errors: [],\r\n            redirectAfterSave: false,\r\n        };\r\n        this.resource = new Resource({route: '/admin/ajax/tables'});\r\n        this.saveTable = this.saveTable.bind(this);\r\n    }\r\n    async componentDidMount(){\r\n        let id = this.props.id;\r\n        \r\n        if(id){\r\n            let pageData = await this.resource.get(id);\r\n            this.setState(state=>{\r\n                return{...state, value:pageData, id: id}\r\n            });\r\n        }\r\n    }\r\n    async saveTable(e){\r\n        e.preventDefault();\r\n        let res;\r\n\r\n        if(this.state.id){\r\n            res = await this.resource.put(this.state.id, this.state.value);\r\n        } else {\r\n            res = await this.resource.post(this.state.value);\r\n        }\r\n\r\n        if(res){\r\n            this.setState(state=>{\r\n                return {...state, redirectAfterSave: true}\r\n            });\r\n        } else {\r\n            this.setState(state=>{\r\n                return {...state, value: {}}\r\n            });\r\n        }\r\n    }\r\n    changeValue(value, field){\r\n        this.setState(state=>{\r\n            state = {...state};\r\n            state.value[field] = value;\r\n            return state\r\n        })\r\n    }\r\n    render() {\r\n        if(this.state.redirectAfterSave){\r\n            return <Redirect to={this.props.redirect_url}/>\r\n        }\r\n        return <form className=\"admin-form\" onSubmit={this.saveTable}>\r\n        \r\n            \r\n            <div className=\"form-group\">\r\n                <label htmlFor=\"page-name\">Name</label>\r\n                <input type=\"text\" id=\"page-name\" required={1}\r\n                    value={this.state.value.name || ''}\r\n                    onChange={e => {this.changeValue(e.target.value, 'name')}}\r\n                    className=\"form-control\"/>\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label htmlFor=\"page-title\">Title</label>\r\n                <input type=\"text\" id=\"page-title\" required={1}\r\n                    value={this.state.value.title || ''}\r\n                    onChange={e => {this.changeValue(e.target.value, 'title')}}\r\n                    className=\"form-control\"/>\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label htmlFor=\"page-description\">Description</label>\r\n                <input type=\"text\" id=\"page-description\" required={1}\r\n                    value={this.state.value.description || ''}\r\n                    onChange={e => {this.changeValue(e.target.value, 'description')}}\r\n                    className=\"form-control\"/>\r\n            </div>\r\n            <button className=\"btn btn_success\">{this.state.id ? 'Save' : 'Add'}</button>\r\n        </form>;\r\n    }\r\n}\r\n\r\nexport default TableForm;","import React, {Component} from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\nimport {Redirect, withRouter} from 'react-router-dom';\r\nimport TableForm from \"../../../../admin/src/components/tables/TableForm\";\r\n/**\r\n * @class\r\n * @property {Resource} resource\r\n */\r\n\r\nclass AddTable extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            redirect_url: \"/admin/tables\",\r\n        };\r\n    }\r\n    async componentDidMount(){\r\n        let id = this.props.match.params.id;\r\n        \r\n        this.setState((state) => ({\r\n            table_id: id\r\n        }));\r\n    }\r\n\t\r\n    render() {\r\n        return <div className=\"admin-pages admin-page\">\r\n            <div className=\"admin-heading\">\r\n                <div className=\"admin-breadcrumbs\">\r\n                    <Link className=\"admin-breadcrumbs__link\" to=\"/admin/tables\">Tables</Link>\r\n                    <span className=\"admin-breadcrumbs__separator\">/</span>\r\n                    <span className=\"admin-breadcrumbs__current\">Add New Table</span>\r\n                </div>\r\n            </div>\r\n            <div className=\"admin-content\">\r\n                <TableForm id={this.state.table_id} redirect_url={this.state.redirect_url}/>\r\n            </div>\r\n        </div>;\r\n    }\r\n}\r\n\r\nexport default withRouter(AddTable);","import React, {Component} from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\nimport {Redirect, withRouter} from 'react-router-dom';\r\nimport TableForm from \"../../../../admin/src/components/tables/TableForm\";\r\n/**\r\n * @class\r\n * @property {Resource} resource\r\n */\r\n\r\nclass EditTable extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            redirect_url: \"/admin/tables\",\r\n            table_id: this.props.match.params.id,\r\n            setting_url: \"/admin/tables/edit/\"+this.props.match.params.id+\"/setting\"\r\n        };\r\n        this.resource = new Resource({route: '/admin/ajax/tables'});\r\n    }\r\n    render() {\r\n        if(this.state.redirectAfterSave){\r\n            return <Redirect to=\"/admin/tables\"/>\r\n        }\r\n        return <div className=\"admin-pages admin-page\">\r\n            <div className=\"admin-heading\">\r\n                <div className=\"admin-breadcrumbs\">\r\n                    <Link className=\"admin-breadcrumbs__link\" to=\"/admin/tables\">Tables</Link>\r\n                    <span className=\"admin-breadcrumbs__separator\">/</span>\r\n                    <span className=\"admin-breadcrumbs__current\">Edit Table</span>\r\n                </div>\r\n            </div>\r\n            <div className=\"admin-content\">\r\n                <TableForm id={this.state.table_id} redirect_url={this.state.redirect_url}/>\r\n                <div>\r\n                    <Link to={ this.state.setting_url }>Settings</Link>\r\n                </div>\r\n            </div>\r\n            \r\n        </div>;\r\n    }\r\n}\r\n\r\nexport default withRouter(EditTable);","import React, {Component} from \"react\";\r\nimport {Redirect, withRouter} from 'react-router-dom';\r\nimport AdminTable from \"../AdminTable\";\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {Tab, TabList, TabPanel, Tabs} from \"react-tabs\";\r\nimport store from \"../../js/store/store\";\r\nimport {setModalSettings, toggleModal} from \"../../js/store/modal-settings/actions\";\r\nimport update from 'immutability-helper';\r\n\r\n/*\r\nimport store from \"../js/store/store\";\r\nimport {setModalSettings, toggleModal} from \"../js/store/modal-settings/actions\";\r\nimport {generateId, redirect} from \"../js/helpers\";*/\r\n\r\n\r\nclass MigrationsTable extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            table_id: this.props.match.params.id,\r\n            migrations: [],\r\n            table: {},\r\n            table_columns: [\r\n                {name: 'name',title: 'Name',},\r\n                {name: 'status',title: 'Status',},\r\n                {name: 'created_at',title: 'Created At',},\r\n            ],\r\n        };\r\n        \r\n        this.migrations_resource = new Resource({route: '/admin/ajax/tables/'+this.props.match.params.id+'/migrations'});\r\n        this.table_resource = new Resource({route: '/admin/ajax/tables'});\r\n    }\r\n    async componentDidMount(){\r\n        let res = await this.migrations_resource.getAll();\r\n        this.setState(state=>{\r\n            return{...state, migrations:res}\r\n        });\r\n        \r\n        let table_res = await this.table_resource.get(this.state.table_id)\r\n        this.setState(state=>{\r\n            return{...state, table:table_res}\r\n        });\r\n    }\r\n    \r\n    render(){\r\n        return <div>\r\n          <AdminTable columns={this.state.table_columns} rows={this.state.migrations}/>\r\n        </div>\r\n    }\r\n\r\n}\r\n\r\nexport default withRouter(MigrationsTable);","import React, {Component} from \"react\";\r\nimport {Redirect, withRouter} from 'react-router-dom';\r\nimport AdminTable from \"../AdminTable\";\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {Tab, TabList, TabPanel, Tabs} from \"react-tabs\";\r\nimport store from \"../../js/store/store\";\r\nimport {setModalSettings, toggleModal} from \"../../js/store/modal-settings/actions\";\r\nimport update from 'immutability-helper';\r\n\r\nimport TimesIcon from '../../svgs/times.svg';\r\n\r\nclass AddModelPage extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        \r\n        /**\r\n         * Типы связей\r\n         */\r\n        this.relationship_types = [\r\n            {id: \"hasMany\",name: \"hasMany\"},\r\n            {id: \"hasOne\",name: \"hasOne\"},\r\n            {id: \"belongsTo\",name: \"belongsTo\"},\r\n            {id: \"belongsToMany\",name: \"belongsToMany\"},\r\n            {id: \"hasOneThrough\",name: \"hasOneThrough\"},\r\n            {id: \"hasManyThrough\",name: \"hasManyThrough\"},\r\n            {id: \"morphTo\",name: \"morphTo\"},\r\n            {id: \"morphOne\",name: \"morphOne\"},\r\n            {id: \"morphMany\",name: \"morphMany\"},\r\n            {id: \"morphToMany\",name: \"morphToMany\"},\r\n            {id: \"morphedByMany\",name: \"morphedByMany\"},\r\n        ];\r\n        \r\n        /**\r\n         * Настройки таблицы связей\r\n         */\r\n        this.table_columns = [\r\n            {name: 'id',title: 'ID',},\r\n            {name: 'name',title: 'Name',},\r\n            {name: 'type',title: 'Type',},\r\n            {name: 'model_class',title: 'Model Class',},\r\n            {name: 'foreign_key',title: 'Foreign Key',},\r\n            {name: 'local_key',title: 'Local Key',},\r\n            {\r\n                name: 'edit',\r\n                title: 'Edit',\r\n                is_button: true, \r\n                button: {class: \"\",function: this.addModalShow.bind(this),title: \"Edit\"},\r\n            },\r\n            {\r\n                name: 'delete',\r\n                title: 'Delete',\r\n                is_button: true, \r\n                button: {class: \"\",function: this.onDeleteClick.bind(this),title: \"Delete\"},\r\n            },\r\n        ];\r\n        \r\n        /**\r\n         * Связь по умолчанию\r\n         * @type type\r\n         */\r\n        const default_relationship = {\r\n            id: \"\",\r\n            name: '',\r\n            title: '',\r\n            type: \"hasMany\",\r\n            model_class: '',\r\n            foreign_key: '',\r\n            local_key: '',\r\n        };\r\n        \r\n        /**\r\n         * Настройки таблицы формул\r\n         */\r\n        this.accessors_table_columns = [\r\n            {name: 'id',title: 'ID',},\r\n            {name: 'name',title: 'Name',},\r\n            {name: 'formula',title: 'Formula',},\r\n            {name: 'status',title: 'Status',},\r\n            {\r\n                name: 'edit',\r\n                title: 'Edit',\r\n                is_button: true, \r\n                button: {class: \"\",function: this.addAccessorModalShow.bind(this),title: \"Edit\"},\r\n            },\r\n            {\r\n                name: 'delete',\r\n                title: 'Delete',\r\n                is_button: true, \r\n                button: {class: \"\",function: this.onDeleteAccessorClick.bind(this),title: \"Delete\"},\r\n            },\r\n        ];\r\n        \r\n        /**\r\n         * Формула по умолчанию\r\n         * @type type\r\n         */\r\n        const default_accessor = {\r\n            id: \"\",\r\n            name: '',\r\n            formula: '',\r\n            description: \"\",\r\n        };\r\n        \r\n        this.state = {\r\n            modal_toogle: false,\r\n            table_id: this.props.match.params.id,\r\n            table: {},\r\n            actual_columns: [],\r\n            fillable_columns: [],\r\n            user_cols: [],\r\n            data: {\r\n                description: \"\",\r\n                fillable_cols: [],\r\n                user_cols: [],\r\n                table_id: this.props.match.params.id,\r\n                path: \"\",\r\n                name: \"\",\r\n                relationships: [],\r\n                pk: \"\",\r\n                time_stamps: false,\r\n                soft_deletes: false\r\n            },\r\n            accessors: [],\r\n            default_relationship: default_relationship,\r\n            selected_relationship: null,\r\n            relationship: default_relationship,\r\n            default_accessor: default_accessor,\r\n            selected_accessor: null,\r\n            accessor: default_accessor,\r\n        };\r\n        \r\n        \r\n        \r\n        this.resource = new Resource({route: '/admin/ajax/tables'});\r\n        this.model_resource = new Resource({route: '/admin/ajax/tables/'+this.props.match.params.id+'/model'});\r\n        this.save_model_resource = new Resource({route: '/admin/ajax/tables/'+this.props.match.params.id+'/models'});\r\n        this.accessors_resource = false;\r\n        \r\n        this.addFillableColumn = this.addFillableColumn.bind(this);\r\n        this.deleteFillableColumn = this.deleteFillableColumn.bind(this);\r\n        this.addUserColsColumn = this.addUserColsColumn.bind(this);\r\n        this.deleteUserColsColumn = this.deleteUserColsColumn.bind(this);\r\n        this.onChange = this.onChange.bind(this);\r\n        this.onChangeRelationship = this.onChangeRelationship.bind(this);\r\n        this.saveModel = this.saveModel.bind(this);\r\n        \r\n        this.addRelationship = this.addRelationship.bind(this);\r\n        this.addModalShow = this.addModalShow.bind(this);\r\n        this.toggleModal = this.toggleModal.bind(this);\r\n        this.getModalClasses = this.getModalClasses.bind(this);\r\n        this.onDeleteClick = this.onDeleteClick.bind(this);\r\n        \r\n        this.addAccessorModalShow = this.addAccessorModalShow.bind(this);\r\n        this.onDeleteAccessorClick = this.onDeleteAccessorClick.bind(this);\r\n        \r\n    }\r\n    \r\n    async componentDidMount(){\r\n        let table_res = await this.resource.get(this.state.table_id)\r\n        this.setState(state=>{\r\n            return{...state, table:table_res};\r\n        });\r\n        \r\n        let columns_res = await this.resource.get(this.state.table_id+\"/columns\");\r\n        this.setState(state=>{\r\n            return{...state, actual_columns: columns_res, fillable_columns: columns_res, user_cols: columns_res};\r\n        });\r\n        \r\n        let model_data = await this.resource.get(this.state.table_id+\"/model\");\r\n        \r\n        if(model_data) {\r\n             \r\n            \r\n            \r\n            let model = {\r\n                description: model_data.description,\r\n                fillable_cols: this.setCols(model_data.fillable_cols),\r\n                user_cols: this.setCols(model_data.user_cols),\r\n                table_id: model_data.table_id,\r\n                path: model_data.path !== null ? model_data.path : \"\",\r\n                name: model_data.name,\r\n                relationships: model_data.table.relationships,\r\n                pk: model_data.pk,\r\n                time_stamps: model_data.time_stamps,//1 == model_data.time_stamps ? true : false,\r\n                soft_deletes: model_data.soft_deletes//1 == model_data.soft_deletes ? true : false,\r\n            }\r\n            \r\n            this.accessors_resource = new Resource({route: '/admin/ajax/tables/'+this.props.match.params.id+'/models/'+model_data.id+\"/accessors\"});\r\n            let accessors_data = await this.accessors_resource.getAll();\r\n\r\n            this.setState(state=>{\r\n                return{...state, data: model, accsessors: accessors_data};\r\n            }, () => {\r\n                \r\n            });\r\n        }\r\n                \r\n        \r\n        \r\n        /*\r\n        let keys_res = await this.resource.get(this.state.table_id+\"/keys\")\r\n        this.setState(state=>{\r\n            return{...state, data: { ...state.data, keys: keys_res}};\r\n        });*/\r\n    }\r\n    \r\n    setCols(value) {\r\n        \r\n        let cols = [];\r\n        \r\n        if(!value) return cols;\r\n        \r\n        if(value == null || value == \"\") return cols;\r\n        \r\n        \r\n        value.replace(/'/g,\"\");\r\n        return value.split(\",\");\r\n    }\r\n    \r\n    addFillableColumn(e) {\r\n        \r\n        let value = e.target.value;\r\n        \r\n        let itemIndex = this.state.data.fillable_cols.indexOf(value);\r\n        \r\n        if(itemIndex !== -1) {\r\n            alert(\"This column has already been added.\");\r\n            return false;\r\n        }\r\n        \r\n        this.setState((state) => {\r\n            return { ...state, data: { ...state.data,  fillable_cols: update(state.data.fillable_cols, {$push: [value]})}};\r\n        }, () => {\r\n            //this.toggleModal();\r\n        });\r\n    }\r\n    deleteFillableColumn(e, value) {\r\n        e.preventDefault();\r\n        \r\n        let itemIndex = this.state.data.fillable_cols.indexOf(value);\r\n        \r\n        if(itemIndex === -1) {\r\n            alert(\"This column not found.\");\r\n            return false;\r\n        }\r\n        \r\n        this.setState((state) => {\r\n            return { ...state, data: { ...state.data,  fillable_cols: update(state.data.fillable_cols, {$splice: [[itemIndex, 1]]})}};\r\n        }, () => {\r\n            //this.toggleModal();\r\n        });\r\n    }\r\n    \r\n    addUserColsColumn(e) {\r\n        \r\n        let value = e.target.value;\r\n        \r\n        let itemIndex = this.state.data.user_cols.indexOf(value);\r\n        \r\n        if(itemIndex !== -1) {\r\n            alert(\"This column has already been added.\");\r\n            return false;\r\n        }\r\n        \r\n        this.setState((state) => {\r\n            return { ...state, data: { ...state.data,  user_cols: update(state.data.user_cols, {$push: [value]})}};\r\n        }, () => {\r\n            //this.toggleModal();\r\n        });\r\n    }\r\n    deleteUserColsColumn(e, value) {\r\n        e.preventDefault();\r\n        \r\n        let itemIndex = this.state.data.user_cols.indexOf(value);\r\n        \r\n        if(itemIndex === -1) {\r\n            alert(\"This column not found.\");\r\n            return false;\r\n        }\r\n        \r\n        this.setState((state) => {\r\n            return { ...state, data: { ...state.data,  user_cols: update(state.data.user_cols, {$splice: [[itemIndex, 1]]})}};\r\n        }, () => {\r\n            //this.toggleModal();\r\n        });\r\n    }\r\n    \r\n    onChange(e) {\r\n        let field_name = e.target.name;\r\n        let value = e.target.type === \"checkbox\" ? e.target.checked : e.target.value;\r\n        \r\n        this.setState({ ...this.state, data:{...this.state.data, [field_name]: value}});\r\n    }\r\n    onChangeRelationship(e) {\r\n        let field_name = e.target.name;\r\n        this.setState({ ...this.state, relationship:{...this.state.relationship, [field_name]: e.target.value}});\r\n    }\r\n    \r\n    async saveModel(e) {\r\n        e.preventDefault();\r\n        \r\n        if(this.state.data.name == \"\") {\r\n            alert(\"Enter model name!\");\r\n            return;\r\n        }\r\n        \r\n        let headers = {\r\n            'Content-Type': 'application/json'\r\n        };\r\n        \r\n        let data = {...this.state.data};\r\n        /*data.time_stamps = String(true) == model.time_stamps ? true : false;\r\n        data.soft_deletes = String(true) == model.soft_deletes ? true : false;*/\r\n        data._token = _token;\r\n\r\n\r\n        console.log(this.state.data)\r\n        /*let data = {\r\n            model: model,\r\n            \r\n        };*/\r\n        let options = {\r\n            method: 'POST',\r\n            body: JSON.stringify(data),\r\n            headers,\r\n        };\r\n        \r\n        \r\n        let res;\r\n        res = await this.save_model_resource.post(data);\r\n        \r\n        if(res){\r\n            alert(\"Success\");\r\n        }\r\n        else {\r\n            alert(\"Error\");\r\n        }\r\n    }\r\n    \r\n    addRelationship(e) {\r\n        e.preventDefault();\r\n        \r\n        let obj = {...this.state.relationship};\r\n        \r\n        if(obj.id == \"\") {\r\n            obj.id = new Date().getTime();\r\n        }\r\n        \r\n        this.setState((state) => {\r\n            if(state.selected_relationship == null) {\r\n                return { ...state, data: { ...state.data,  relationships: update(state.data.relationships, {$push: [obj]})}};\r\n            }\r\n            else {\r\n                return { ...state, data: { ...state.data,  relationships: update(state.data.relationships, {[state.selected_relationship]: {$set: obj}})}};\r\n            }\r\n        }, () => {\r\n            this.toggleModal();\r\n        });\r\n    }\r\n    getModalClasses() {\r\n        let modalClasses = 'admin-modal';\r\n        if (this.state.modal_toogle) {\r\n          modalClasses += ' admin-modal_active';\r\n        }\r\n        return modalClasses;\r\n    }\r\n    toggleModal() {\r\n        this.setState((state) => {\r\n            return { ...state, modal_toogle: !state.modal_toogle}\r\n        })\r\n    }\r\n    addModalShow(e) {\r\n        console.log(e);\r\n        let itemIndex = this.state.data.relationships.indexOf(e);\r\n        this.setState((state) => {\r\n            if(itemIndex === -1) {\r\n                return { ...state, selected_relationship: null, relationship: state.default_relationship}\r\n            }\r\n            else {\r\n                return { ...state, selected_relationship: itemIndex, relationship: state.data.relationships[itemIndex]}\r\n            }\r\n            \r\n        }, () => { \r\n            this.toggleModal();\r\n        });\r\n    }\r\n    onDeleteClick(e){\r\n        const conf = confirm(`Are you sure?`);\r\n        \r\n        if (conf) {\r\n            let itemIndex = this.state.data.relationships.indexOf(e);\r\n            if(itemIndex !== -1) {\r\n                this.setState((state) => {\r\n                    return { ...state, data: { ...state.data,  relationships: update(this.state.data.relationships, {$splice: [[itemIndex, 1]]})}};\r\n                }, () => {\r\n                    alert(\"Success\");\r\n                });\r\n            }\r\n        }\r\n    }\r\n    \r\n    \r\n    \r\n    addAccessorModalShow(e) {\r\n        console.log(e);\r\n        let itemIndex = this.state.data.relationships.indexOf(e);\r\n        this.setState((state) => {\r\n            if(itemIndex === -1) {\r\n                return { ...state, selected_relationship: null, relationship: state.default_relationship}\r\n            }\r\n            else {\r\n                return { ...state, selected_relationship: itemIndex, relationship: state.data.relationships[itemIndex]}\r\n            }\r\n            \r\n        }, () => { \r\n            this.toggleModal();\r\n        });\r\n    }\r\n    onDeleteAccessorClick(e){\r\n        const conf = confirm(`Are you sure?`);\r\n        \r\n        if (conf) {\r\n            let itemIndex = this.state.data.relationships.indexOf(e);\r\n            if(itemIndex !== -1) {\r\n                this.setState((state) => {\r\n                    return { ...state, data: { ...state.data,  relationships: update(this.state.data.relationships, {$splice: [[itemIndex, 1]]})}};\r\n                }, () => {\r\n                    alert(\"Success\");\r\n                });\r\n            }\r\n        }\r\n    }\r\n    \r\n    render(){\r\n        return <div>\r\n            <div>\r\n                <form>\r\n                    <div>\r\n                        <label className='form-label'>\r\n                            Name\r\n                            <input className='form__input' type=\"text\" name=\"name\" value={this.state.data.name}  onChange={(e) => {this.onChange(e)}}/>\r\n                        </label>\r\n                    </div>\r\n                    <div>\r\n                        <label className='form-label'>\r\n                            Description\r\n                            <input className='form__input' type=\"text\" name=\"description\" value={this.state.data.description}  onChange={(e) => {this.onChange(e)}}/>\r\n                        </label>\r\n                    </div>\r\n                    <div>\r\n                        <label className='form-label'>\r\n                            Soft Deletes\r\n                            <input className='form__input' type=\"checkbox\" checked={this.state.data.soft_deletes ? 1 : 0} name=\"soft_deletes\" onChange={(e) => {this.onChange(e)}}/>\r\n                        </label>\r\n                    </div>\r\n                    <div>\r\n                        <label className='form-label'>\r\n                            Timestamps\r\n                            <input className='form__input' type=\"checkbox\" checked={this.state.data.time_stamps ? 1 : 0}  name=\"time_stamps\" onChange={(e) => {this.onChange(e)}}/>\r\n                        </label>\r\n                    </div>\r\n                    <div>\r\n                        <label className='form-label'>\r\n                            Fillable\r\n                            <select className=\"form__input\" name='add_fillable' onChange={(e) => {this.addFillableColumn(e)}}>\r\n                                <option value=\"\"/>\r\n                                {\r\n                                  this.state.fillable_columns.map(option =>\r\n                                      <option key={option.id}\r\n                                              value={option.name}\r\n                                              children={option.title}/>)\r\n                                }\r\n                            </select>\r\n                        </label>\r\n                        <div>\r\n                            {\r\n                                this.state.data.fillable_cols.map(option =>\r\n                                <div key={option}>\r\n                                    <button className=\"btn\" onClick={(e) => {this.deleteFillableColumn(e,option)}}>{option}</button>\r\n                                </div>  )\r\n                                }\r\n                        </div>\r\n                    </div>\r\n                    <div>\r\n                        <label className='form-label'>\r\n                            User Cols\r\n                            <select className=\"form__input\" name='add_user_cols' onChange={(e) => {this.addUserColsColumn(e)}}>\r\n                                <option value=\"\"/>\r\n                                {\r\n                                  this.state.user_cols.map(option =>\r\n                                      <option key={option.id}\r\n                                              value={option.name}\r\n                                              children={option.title}/>)\r\n                                }\r\n                            </select>\r\n                        </label>\r\n                        <div>\r\n                            {\r\n                                this.state.data.user_cols.map(option =>\r\n                                <div key={option}>\r\n                                    <button className=\"btn\" onClick={(e) => {this.deleteUserColsColumn(e,option)}}>{option}</button>\r\n                                </div>  )\r\n                                }\r\n                        </div>\r\n                    </div>\r\n                    <div>\r\n                        <label className='form-label'>\r\n                            Path\r\n                            <input className='form__input' type=\"text\" name=\"path\" value={this.state.data.path}  onChange={(e) => {this.onChange(e)}}/>\r\n                        </label>\r\n                    </div>\r\n                    <label className='form-label'>\r\n                        Primary Key\r\n                        <select className=\"form__input\" name='pk'  value={this.state.data.pk} onChange={(e) => {this.onChange(e)}}>\r\n                            <option value=\"\"/>\r\n                            {\r\n                              this.state.actual_columns.map(option =>\r\n                                  <option key={option.id}\r\n                                          value={option.name}\r\n                                          children={option.title || option.name}/>)\r\n                            }\r\n                        </select>\r\n                    </label>\r\n                </form>\r\n            </div>\r\n            <div>\r\n                <AdminTable columns={this.table_columns} rows={this.state.data.relationships}/>\r\n            </div>\r\n            <div>\r\n                <button onClick={this.addModalShow}>Add Relationship</button>\r\n            </div>\r\n            <div>\r\n                <form className=\"admin-form\" onSubmit={this.saveModel}>\r\n                    <button className=\"btn btn_success\">Save</button>\r\n                </form>\r\n            </div>\r\n            <div>\r\n                <hr />\r\n            </div>\r\n            <div>\r\n                <AdminTable columns={this.accessors_table_columns} rows={this.state.accessors}/>\r\n            </div>\r\n            <div>\r\n                <button onClick={this.addAccessorModalShow}>Add Accessor</button>\r\n            </div>\r\n            \r\n            <div className={this.getModalClasses()}>\r\n                <div className=\"admin-modal__bg\" onClick={this.toggleModal}/>\r\n                <div className=\"admin-modal-content\">\r\n                  <button className=\"admin-modal__close\" onClick={this.toggleModal}><TimesIcon className=\"icon\"/></button>\r\n                  <div className=\"admin-caption\">Add New Relationship</div>\r\n                  <div className=\"admin-modal-form form\">\r\n                    <form className=\"admin-form\" onSubmit={this.addRelationship}>\r\n                        <div>\r\n                            <label className='form-label'>\r\n                                name\r\n                                <input className='form__input' type=\"text\" name=\"name\" value={this.state.relationship.name} onChange={(e) => {this.onChangeRelationship(e)}}/>\r\n                            </label>\r\n                        </div>\r\n                        <div>\r\n                            <label className='form-label'>\r\n                                Model Class\r\n                                <input className='form__input' type=\"text\" name=\"model_class\" value={this.state.relationship.model_class}  onChange={(e) => {this.onChangeRelationship(e)}}/>\r\n                            </label>\r\n                        </div>\r\n                        <div>\r\n                            <label className='form-label'>\r\n                                type\r\n                                <select className=\"form__input\" value={this.state.relationship.type} name='type'  onChange={(e) => {this.onChangeRelationship(e)}}>\r\n                                    <option value=\"\"/>\r\n                                    {\r\n                                      this.relationship_types.map(option =>\r\n                                          <option key={option.id}\r\n                                                  value={option.id}\r\n                                                  children={option.title || option.name}/>)\r\n                                    }\r\n                                    </select>\r\n                            </label>\r\n                        </div>\r\n                        <div>\r\n                            <label className='form-label'>\r\n                                foreign key\r\n                                <input className='form__input' type=\"text\" name=\"foreign_key\"  value={this.state.relationship.foreign_key} onChange={(e) => {this.onChangeRelationship(e)}}/>\r\n                            </label>\r\n                        </div>\r\n                        <div>\r\n                            <label className='form-label'>\r\n                                local key\r\n                                <input className='form__input' type=\"text\" name=\"local_key\" value={this.state.relationship.local_key} onChange={(e) => {this.onChangeRelationship(e)}}/>\r\n                            </label>\r\n                        </div>\r\n                        <button className=\"btn btn_success\">Add col</button>\r\n                    </form>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n        </div>;\r\n      \r\n            \r\n  }\r\n\r\n}\r\n\r\nexport default withRouter(AddModelPage);","import React, {Component} from \"react\";\r\nimport {Redirect, withRouter} from 'react-router-dom';\r\nimport AdminTable from \"../AdminTable\";\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {Tab, TabList, TabPanel, Tabs} from \"react-tabs\";\r\nimport store from \"../../js/store/store\";\r\nimport {setModalSettings, toggleModal} from \"../../js/store/modal-settings/actions\";\r\nimport update from 'immutability-helper';\r\n\r\nimport TimesIcon from '../../svgs/times.svg';\r\n\r\nclass AccessorsPage extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        \r\n        /**\r\n         * Настройки таблицы формул\r\n         */\r\n        this.table_columns = [\r\n            {name: 'id',title: 'ID',},\r\n            {name: 'name',title: 'Name',},\r\n            {name: 'formula',title: 'Formula',},\r\n            {name: 'status',title: 'Status',},\r\n            {\r\n                name: 'edit',\r\n                title: 'Edit',\r\n                is_button: true, \r\n                button: {class: \"\",function: this.addModalShow.bind(this),title: \"Edit\"},\r\n            },\r\n            {\r\n                name: 'delete',\r\n                title: 'Delete',\r\n                is_button: true, \r\n                button: {class: \"\",function: this.onDeleteClick.bind(this),title: \"Delete\"},\r\n            },\r\n        ];\r\n        \r\n        /**\r\n         * Формула по умолчанию\r\n         * @type type\r\n         */\r\n        const default_accessor = {\r\n            id: \"\",\r\n            name: '',\r\n            formula: '',\r\n            description: \"\",\r\n        };\r\n        \r\n        this.state = {\r\n            modal_toogle: false,\r\n            table_id: this.props.match.params.id,\r\n            table: {},\r\n            data: [],\r\n            default_accessor: default_accessor,\r\n            selected_accessor: null,\r\n            accessor: default_accessor,\r\n        };\r\n        \r\n        this.resource = new Resource({route: '/admin/ajax/tables'});\r\n        this.model_resource = new Resource({route: '/admin/ajax/tables/'+this.props.match.params.id+'/model'});\r\n        this.accessors_resource = false;\r\n        \r\n        this.toggleModal = this.toggleModal.bind(this);\r\n        this.getModalClasses = this.getModalClasses.bind(this);\r\n        \r\n        this.onChange = this.onChange.bind(this);\r\n        \r\n        this.addModalShow = this.addModalShow.bind(this);\r\n        this.onDeleteClick = this.onDeleteClick.bind(this);\r\n        this.addAccessor = this.addAccessor.bind(this);\r\n        \r\n        this.getModalClasses = this.getModalClasses.bind(this);\r\n        \r\n    }\r\n    \r\n    async componentDidMount(){\r\n        let table_res = await this.resource.get(this.state.table_id)\r\n        this.setState(state=>{\r\n            return{...state, table:table_res};\r\n        });\r\n        \r\n        let model_data = await this.model_resource.get(\" \");\r\n        \r\n        if(model_data) {\r\n             \r\n            this.accessors_resource = new Resource({route: '/admin/ajax/tables/'+this.props.match.params.id+'/models/'+model_data.id+\"/accessors\"});\r\n            let accessors_data = await this.accessors_resource.getAll();\r\n\r\n            this.setState(state=>{\r\n                return{...state, model: model_data, data: accessors_data};\r\n            }, () => {\r\n                \r\n            });\r\n        }\r\n    }\r\n    \r\n    onChange(e) {\r\n        let field_name = e.target.name;\r\n        let value = e.target.type === \"checkbox\" ? e.target.checked : e.target.value;\r\n        \r\n        this.setState({ ...this.state, accessor: {...this.state.accessor, [field_name]: value}});\r\n    }\r\n    \r\n    async addAccessor(e) {\r\n        e.preventDefault();\r\n        \r\n        let obj = {...this.state.accessor};\r\n        \r\n        if(obj.name == \"\") {\r\n            alert(\"Enter accessor name!\");\r\n            return;\r\n        }\r\n        \r\n        obj._token = _token;\r\n        \r\n        let res;\r\n        \r\n        if(this.state.selected_accessor == null) {\r\n            res = await this.accessors_resource.post(obj);\r\n        }\r\n        else {\r\n            res = await this.accessors_resource.put(obj.id, obj);\r\n        }\r\n        \r\n        \r\n        if(res){\r\n            \r\n            this.setState((state) => {\r\n                if(state.selected_accessor == null) {\r\n                    return { ...state, data: update(state.data, {$push: [res]})};\r\n                }\r\n                else {\r\n                    return { ...state, data: update(state.data, {[state.selected_accessor]: {$set: res}})};\r\n                }\r\n            }, () => {\r\n                this.toggleModal();\r\n            });\r\n            \r\n        }\r\n        else {\r\n            alert(\"Error\");\r\n        }\r\n        /*\r\n        if(obj.id == \"\") {\r\n            obj.id = new Date().getTime();\r\n        }\r\n        \r\n        this.setState((state) => {\r\n            if(state.selected_relationship == null) {\r\n                return { ...state, data: { ...state.data,  relationships: update(state.data.relationships, {$push: [obj]})}};\r\n            }\r\n            else {\r\n                return { ...state, data: { ...state.data,  relationships: update(state.data.relationships, {[state.selected_relationship]: {$set: obj}})}};\r\n            }\r\n        }, () => {\r\n            this.toggleModal();\r\n        });*/\r\n    }\r\n    \r\n    getModalClasses() {\r\n        let modalClasses = 'admin-modal';\r\n        if (this.state.modal_toogle) {\r\n          modalClasses += ' admin-modal_active';\r\n        }\r\n        return modalClasses;\r\n    }\r\n    toggleModal() {\r\n        this.setState((state) => {\r\n            return { ...state, modal_toogle: !state.modal_toogle}\r\n        })\r\n    }\r\n    addModalShow(e) {\r\n        console.log(e);\r\n        let itemIndex = this.state.data.indexOf(e);\r\n        this.setState((state) => {\r\n            if(itemIndex === -1) {\r\n                return { ...state, selected_accessor: null, accessor: state.default_accessor}\r\n            }\r\n            else {\r\n                return { ...state, selected_accessor: itemIndex, accessor: state.data[itemIndex]}\r\n            }\r\n            \r\n        }, () => { \r\n            this.toggleModal();\r\n        });\r\n    }\r\n    async onDeleteClick(e){\r\n        const conf = confirm(`Are you sure?`);\r\n        \r\n        if (conf) {\r\n            let itemIndex = this.state.data.indexOf(e);\r\n            if(itemIndex !== -1) {\r\n                let res;\r\n                res = await this.accessors_resource.delete(e.id);\r\n                \r\n                if(res) {\r\n                    this.setState((state) => {\r\n                        return { ...state, data: update(this.state.data, {$splice: [[itemIndex, 1]]})};\r\n                    }, () => {\r\n                        alert(\"Success\");\r\n                    });\r\n                }\r\n                else {\r\n                    alert(\"Error\")\r\n                }\r\n            \r\n                \r\n            }\r\n        }\r\n    }\r\n    \r\n    render(){\r\n        return <div>\r\n            <div>\r\n                <AdminTable columns={this.table_columns} rows={this.state.data}/>\r\n            </div>\r\n            <div>\r\n                <button onClick={this.addModalShow}>Add Accessor</button>\r\n            </div>\r\n            \r\n            <div className={this.getModalClasses()}>\r\n                <div className=\"admin-modal__bg\" onClick={this.toggleModal}/>\r\n                <div className=\"admin-modal-content\">\r\n                  <button className=\"admin-modal__close\" onClick={this.toggleModal}><TimesIcon className=\"icon\"/></button>\r\n                  <div className=\"admin-caption\">Add New Accessor</div>\r\n                  <div className=\"admin-modal-form form\">\r\n                    <form className=\"admin-form\" onSubmit={this.addAccessor}>\r\n                        <div>\r\n                            <label className='form-label'>\r\n                                name\r\n                                <input className='form__input' type=\"text\" name=\"name\" value={this.state.accessor.name} onChange={(e) => {this.onChange(e)}}/>\r\n                            </label>\r\n                        </div>\r\n                        <div>\r\n                            <label className='form-label'>\r\n                                description\r\n                                <input className='form__input' type=\"text\" name=\"description\" value={this.state.accessor.description}  onChange={(e) => {this.onChange(e)}}/>\r\n                            </label>\r\n                        </div>\r\n                        <div>\r\n                            <label className='form-label'>\r\n                                formula\r\n                                <input className='form__input' type=\"text\" name=\"formula\" value={this.state.accessor.formula}  onChange={(e) => {this.onChange(e)}}/>\r\n                            </label>\r\n                        </div>\r\n                        \r\n                        <button className=\"btn btn_success\">Add accessor</button>\r\n                    </form>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n        </div>;\r\n      \r\n            \r\n  }\r\n\r\n}\r\n\r\nexport default withRouter(AccessorsPage);","import React, {Component} from \"react\";\r\nimport {Redirect, withRouter} from 'react-router-dom';\r\nimport AdminTable from \"../AdminTable\";\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {Tab, TabList, TabPanel, Tabs} from \"react-tabs\";\r\nimport store from \"../../js/store/store\";\r\nimport {setModalSettings, toggleModal} from \"../../js/store/modal-settings/actions\";\r\nimport update from 'immutability-helper';\r\n\r\nimport TimesIcon from '../../svgs/times.svg';\r\n\r\nclass AddControllerPage extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            table_id: this.props.match.params.id,\r\n            table: {},\r\n            relationships: [],\r\n            relation: \"\",\r\n            data: {\r\n                description: \"\",\r\n                prefix: \"\",\r\n                namespace: \"\",\r\n                relations: \"\",\r\n            },\r\n            \r\n        };\r\n        \r\n        \r\n        this.resource = new Resource({route: '/admin/ajax/tables'});\r\n        this.controller_resource = new Resource({route: '/admin/ajax/tables/'+this.props.match.params.id+'/controller'});\r\n        this.save_controller_resource = new Resource({route: '/admin/ajax/tables/'+this.props.match.params.id+'/controllers'});\r\n        \r\n        \r\n        this.onChange = this.onChange.bind(this);\r\n        this.saveController = this.saveController.bind(this);\r\n        \r\n        this.addRelation = this.addRelation.bind(this);\r\n        this.deleteRelation = this.deleteRelation.bind(this);\r\n    }\r\n    \r\n    async componentDidMount(){\r\n        let table_res = await this.resource.get(this.state.table_id)\r\n        this.setState(state=>{\r\n            return{...state, table:table_res};\r\n        });\r\n        \r\n        let controller_res = await this.resource.get(this.state.table_id+\"/controller\");\r\n        \r\n        \r\n        \r\n        if(controller_res) {\r\n            \r\n            \r\n            controller_res.description = (controller_res.description == null) ? \"\" : controller_res.description;\r\n            controller_res.prefix = (controller_res.prefix == null) ? \"\" : controller_res.prefix;\r\n            controller_res.namespace = (controller_res.namespace == null) ? \"\" : controller_res.namespace;\r\n            \r\n            controller_res.relation = this.setCols(controller_res.relations);\r\n            \r\n            this.setState(state=>{\r\n                return{...state, data: controller_res};\r\n            }, () => {\r\n                \r\n                this.setState(state=>{\r\n                    return{...state, relationships: controller_res.relation};\r\n                })\r\n                \r\n            });\r\n        }\r\n        \r\n    }\r\n    \r\n    setCols(value) {\r\n        \r\n        let cols = [];\r\n        \r\n        if(!value) return cols;\r\n        \r\n        if(value == null || value == \"\") return cols;\r\n        \r\n        \r\n        value.replace(/'/g,\"\");\r\n        return value.split(\",\");\r\n    }\r\n    \r\n    onChange(e) {\r\n        let field_name = e.target.name;\r\n        \r\n        if(field_name === \"relation\") {\r\n            return this.setState({ ...this.state, relation: e.target.value});\r\n        }\r\n        \r\n        this.setState({ ...this.state, data:{...this.state.data, [field_name]: e.target.value}});\r\n    }\r\n    \r\n    async saveController(e) {\r\n        e.preventDefault();\r\n        \r\n        let headers = {\r\n            'Content-Type': 'application/json'\r\n        };\r\n        \r\n        let data = {...this.state.data};\r\n        data._token = _token;\r\n        \r\n        let options = {\r\n            method: 'POST',\r\n            body: JSON.stringify(data),\r\n            headers,\r\n        };\r\n        \r\n        \r\n        let res;\r\n        res = await this.save_controller_resource.post(data);\r\n        \r\n        if(res){\r\n            alert(\"Success\");\r\n        }\r\n        else {\r\n            alert(\"Error\");\r\n        }\r\n    }\r\n    \r\n    addRelation(e) {\r\n        e.preventDefault();\r\n        let value = this.state.relation;\r\n       \r\n        let itemIndex = this.state.relationships.indexOf(value);\r\n        \r\n        if(itemIndex !== -1) {\r\n            alert(\"This relation has already been added.\");\r\n            return false;\r\n        }\r\n        \r\n        this.setState((state) => {\r\n            return { ...state, relationships: update(state.relationships, {$push: [value]})};\r\n        }, () => {\r\n            console.log(this.state)\r\n            this.setRelation();\r\n            \r\n        });\r\n    }\r\n    \r\n    \r\n    deleteRelation(e, value) {\r\n        e.preventDefault();\r\n        \r\n        let itemIndex = this.state.relationships.indexOf(value);\r\n        \r\n        if(itemIndex === -1) {\r\n            alert(\"This relation not found.\");\r\n            return false;\r\n        }\r\n        \r\n        this.setState((state) => {\r\n            return { ...state, relationships: update(state.relationships, {$splice: [[itemIndex, 1]]})};\r\n        }, () => {\r\n            this.setRelation();\r\n        });\r\n    }\r\n    \r\n    setRelation() {\r\n        let relations = this.state.relationships.join(\";\");\r\n            \r\n        this.setState((state) => {\r\n            return { ...state, data: { ...this.state.data, relations: relations}};\r\n        }, () => {\r\n            console.log(this.state)\r\n        }) \r\n    }\r\n    \r\n    render(){\r\n        return <div>\r\n            <div>\r\n                <form className=\"admin-form\"  onSubmit={this.saveController}>\r\n                    <div>\r\n                        <label className='form-label'>\r\n                            Description\r\n                            <input className='form__input' type=\"text\" name=\"description\" value={this.state.data.description}  onChange={(e) => {this.onChange(e)}}/>\r\n                        </label>\r\n                    </div>\r\n                    <div>\r\n                        <label className='form-label'>\r\n                            Prefix\r\n                            <input className='form__input' type=\"text\" name=\"prefix\" value={this.state.data.prefix}  onChange={(e) => {this.onChange(e)}}/>\r\n                        </label>\r\n                    </div>\r\n                    <div>\r\n                        <label className='form-label'>\r\n                            Namespace\r\n                            <input className='form__input' type=\"text\" name=\"namespace\" value={this.state.data.namespace}  onChange={(e) => {this.onChange(e)}}/>\r\n                        </label>\r\n                    </div>\r\n                    <div>\r\n                        <label className='form-label'>\r\n                            Relations\r\n                            <div className=\"input-group\">\r\n                                <input className='form__input' type=\"text\" name=\"relation\" value={this.state.relation}  onChange={(e) => {this.onChange(e)}}/>\r\n                                <button onClick={(e) => {this.addRelation(e)}}>Добавить</button>    \r\n                            </div>\r\n                        </label>\r\n                    </div>\r\n                    <div>\r\n                        {\r\n                            this.state.relationships.map(option =>\r\n                            <div key={option}>\r\n                                <button className=\"btn\" onClick={(e) => {this.deleteRelation(e,option)}}>{option}</button>\r\n                            </div>  )\r\n                        }\r\n                    </div>\r\n                    <div>\r\n                        <button className=\"btn btn_success\">Save</button>\r\n                    </div>\r\n                    \r\n                </form>\r\n            </div>\r\n        </div>;\r\n      \r\n            \r\n  }\r\n\r\n}\r\n\r\nexport default withRouter(AddControllerPage);","import React, {Component} from \"react\";\r\nimport {Redirect, withRouter} from 'react-router-dom';\r\n\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\nimport MigrationsTable from \"./MigrationsTable\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {Tab, TabList, TabPanel, Tabs} from \"react-tabs\";\r\n\r\nimport AddModelPage from \"./AddModelPage\";\r\nimport AccessorsPage from \"./AccessorsPage\";\r\nimport AddControllerPage from \"./AddControllerPage\";\r\n\r\n/*\r\nimport store from \"../../js/store/store\";\r\nimport {setModalSettings, toggleModal} from \"../../js/store/modal-settings/actions\";\r\nimport update from 'immutability-helper';*/\r\n\r\n\r\n\r\n//import AdminTable from \"../AdminTable\";\r\n/*\r\nimport store from \"../js/store/store\";\r\nimport {setModalSettings, toggleModal} from \"../js/store/modal-settings/actions\";\r\nimport {generateId, redirect} from \"../js/helpers\";*/\r\n\r\n\r\nclass SettingTable extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            table_id: this.props.match.params.id,\r\n            table: {},\r\n        }  \r\n        \r\n        this.resource = new Resource({route: '/admin/ajax/tables'});\r\n        /*this.migration_resource = new Resource({route: '/admin/ajax/tables/'+this.props.match.params.id+'/migrations'});\r\n        this.onEditClick = this.onEditClick.bind(this);\r\n        this.changeName = this.changeName.bind(this);\r\n        this.saveMigration = this.saveMigration.bind(this);*/\r\n    }\r\n    async componentDidMount(){\r\n        let table_res = await this.resource.get(this.state.table_id)\r\n        this.setState(state=>{\r\n            return{...state, table:table_res}\r\n        });\r\n    }\r\n   \r\n   \r\n  render(){\r\n    return <div className=\"admin-templates admin-page\">\r\n        <div className=\"admin-heading\">\r\n            <div className=\"admin-breadcrumbs\">\r\n                <Link className=\"admin-breadcrumbs__link\" to=\"/admin/tables\">Tables</Link>\r\n                <span className=\"admin-breadcrumbs__separator\">/</span>\r\n                <Link className=\"admin-breadcrumbs__link\" to={\"/admin/tables/edit/\"+this.state.table_id}>{this.state.table.title}</Link>\r\n                <span className=\"admin-breadcrumbs__separator\">/</span>\r\n                <span className=\"admin-breadcrumbs__current\">Setting</span>\r\n            </div>\r\n        </div>\r\n        <div className=\"admin-content\">\r\n            <Tabs selectedIndex={this.state.activeTab} onSelect={this.switchTab}>\r\n                <TabList className=\"nav nav-pills admin-pills\">\r\n                    <Tab>Migration</Tab>\r\n                    <Tab>Model</Tab>\r\n                    <Tab>Controller</Tab>\r\n                    <Tab>Routes</Tab>\r\n                    <Tab>Accessors</Tab>\r\n                </TabList>\r\n                <TabPanel>\r\n                    <MigrationsTable/>\r\n                    <div>\r\n                        <Link className=\"btn\" to={\"/admin/tables/edit/\"+this.state.table_id+\"/setting/migrations/add\"}>Add New</Link>\r\n                    </div>\r\n                </TabPanel>\r\n                <TabPanel>\r\n                    <AddModelPage/>\r\n                </TabPanel>\r\n                <TabPanel>\r\n                    <AddControllerPage/>\r\n                </TabPanel>\r\n                  <TabPanel>\r\n                  </TabPanel>\r\n                <TabPanel>\r\n                    <AccessorsPage/>\r\n                </TabPanel>  \r\n            </Tabs>\r\n            \r\n        </div>\r\n    </div>;\r\n  }\r\n\r\n}\r\n\r\nexport default withRouter(SettingTable);","import React, {Component} from \"react\";\r\nimport {Redirect, withRouter} from 'react-router-dom';\r\nimport AdminTable from \"../AdminTable\";\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {Tab, TabList, TabPanel, Tabs} from \"react-tabs\";\r\nimport store from \"../../js/store/store\";\r\nimport {setModalSettings, toggleModal} from \"../../js/store/modal-settings/actions\";\r\nimport update from 'immutability-helper';\r\n\r\nimport TimesIcon from '../../svgs/times.svg';\r\n\r\n\r\n\r\nclass AddMigrationPage extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        \r\n        //Типы  полей\r\n        this.column_types = [\r\n            {id: \"id\",name: \"Identifier\",fields:[]},\r\n            {id: \"foreignId\",name: \"Foreign Id\",fields:[\"nullable\",\"default\"]},\r\n            {id: \"boolean\",name: \"Boolean\",fields:[\"nullable\",\"default\"]},\r\n            {id: \"date\",name: \"Date\",fields:[\"nullable\",\"default\",\"size\",\"unique\",\"current\"]},\r\n            {id: \"datetime\",name: \"Datetime\",fields:[\"nullable\",\"default\",\"size\",\"unique\",\"current\"]},\r\n            {id: \"decimal\",name: \"Decimal\",fields:[\"nullable\",\"default\",\"size\",\"places\"]},\r\n            {id: \"integer\",name: \"Integer\",fields:[\"nullable\",\"default\"]},\r\n            {id: \"longtext\",name: \"Long Text\",fields:[\"nullable\",\"default\",\"unique\"]},\r\n            {id: \"string\",name: \"String\",fields:[\"nullable\",\"default\",\"size\",\"unique\"]},\r\n            {id: \"text\",name: \"Text\",fields:[\"nullable\",\"default\",\"unique\"]},\r\n            {id: \"timestamps\",name: \"Timestamps\",fields:[\"size\"]},\r\n        ];\r\n        \r\n        //Значения колонки по умолчанию\r\n        const default_column = {\r\n            id: \"\",\r\n            name: '',\r\n            title: '',\r\n            description: '',\r\n            type: \"string\",\r\n            size: 191,\r\n            places: 0,\r\n            default: \"\",\r\n            null: false,\r\n            unique: false,\r\n        };\r\n        \r\n        //Значения ключа по умолчанию\r\n        const default_key = {\r\n            id: \"\",\r\n            target_table: \"\",\r\n            source_table_id: this.props.match.params.id,\r\n            target_column: \"\",\r\n            source_column: \"\",\r\n            onDelete: \"restrict\",\r\n            onUpdate: \"restrict\",\r\n        };\r\n        \r\n        //Типы действий для onDelete и onUpdate\r\n        this.key_actions = [\r\n            {id: \"restrict\", name: \"RESTRICT\"},\r\n            {id: \"cascade\", name: \"CASCADE\"},\r\n            {id: \"set null\", name: \"SET NULL\"},\r\n            {id: \"no action\", name: \"NO ACTION\"},\r\n        ];\r\n        \r\n        //Колонки для таблицы полей\r\n        this.table_columns = [\r\n            {name: 'title',title: 'Title',},\r\n            {name: 'name',title: 'Name',},\r\n            {name: 'type',title: 'Type',},\r\n            {name: 'size',title: 'Size',},\r\n            {name: 'default',title: 'Default',},\r\n            {name: 'null',title: 'Nullable',is_boolean: true},\r\n            {name: 'unique',title: 'Unique',is_boolean: true},\r\n            {\r\n                name: 'edit',\r\n                title: 'Edit',\r\n                is_button: true, \r\n                button: {class: \"\",function: this.addModalColumnShow.bind(this),title: \"Edit\"},\r\n            },\r\n            {\r\n                name: 'delete',\r\n                title: 'Delete',\r\n                is_button: true, \r\n                button: {class: \"\",function: this.onDeleteColumnClick.bind(this),title: \"Delete\"},\r\n            },\r\n        ];\r\n        \r\n        //Колонки для таблицы полей\r\n        this.table_keys = [\r\n            {name: 'target_table',title: 'Target Table',},\r\n            {name: 'target_column',title: 'Target Column',},\r\n            {name: 'source_column',title: 'Source Column',},\r\n            {name: 'onDelete',title: 'onDelete',},\r\n            {name: 'onUpdate',title: 'onUpdate',},\r\n            {\r\n                name: 'edit',\r\n                title: 'Edit',\r\n                is_button: true, \r\n                button: {class: \"\",function: this.addModalKeyShow.bind(this),title: \"Edit\"},\r\n            },\r\n            {\r\n                name: 'delete',\r\n                title: 'Delete',\r\n                is_button: true, \r\n                button: {class: \"\",function: this.onDeleteKeyClick.bind(this),title: \"Delete\"},\r\n            },\r\n        ],\r\n        \r\n        \r\n        this.state = {\r\n            column_modal_toggle: false,\r\n            key_modal_toggle: false,\r\n            table: {},\r\n            table_id: this.props.match.params.id,\r\n            data: {\r\n                columns: [],\r\n                keys: [],\r\n                rename_columns: [],\r\n            },\r\n            name: \"\",\r\n            default_column: default_column,\r\n            selected_column: null,\r\n            column: default_column,\r\n            default_key: default_key,\r\n            selected_key: null,\r\n            key: default_key\r\n        };\r\n        \r\n        this.resource = new Resource({route: '/admin/ajax/tables'});\r\n        this.migration_resource = new Resource({route: '/admin/ajax/tables/'+this.props.match.params.id+'/migrations'});\r\n        \r\n        this.addModalColumnShow = this.addModalColumnShow.bind(this);\r\n        this.addModalKeyShow = this.addModalKeyShow.bind(this);\r\n        \r\n        this.onChangeColumn = this.onChangeColumn.bind(this);\r\n        this.onChangeKey = this.onChangeKey.bind(this);\r\n        \r\n        this.addColumn = this.addColumn.bind(this);\r\n        this.addKey = this.addKey.bind(this);\r\n        this.toggleModal = this.toggleModal.bind(this);\r\n        this.getModalClasses = this.getModalClasses.bind(this);\r\n        \r\n        this.onDeleteColumnClick = this.onDeleteColumnClick.bind(this);\r\n        this.onDeleteKeyClick = this.onDeleteKeyClick.bind(this);\r\n        \r\n        this.changeName = this.changeName.bind(this);\r\n        this.saveMigration = this.saveMigration.bind(this);\r\n        \r\n        this.isShowField = this.isShowField.bind(this);\r\n        \r\n        \r\n        \r\n        \r\n    }\r\n    \r\n    //Подгрузка данных\r\n    async componentDidMount(){\r\n        //Получаем данные о таблице\r\n        let table_res = await this.resource.get(this.state.table_id)\r\n        this.setState(state=>{\r\n            return{...state, table:table_res};\r\n        });\r\n        //Получаем данные о колонках\r\n        let columns_res = await this.resource.get(this.state.table_id+\"/columns\")\r\n        this.setState(state=>{\r\n            return{...state, data: { ...state.data, columns: columns_res}};\r\n        });\r\n        //Получаем данные о ключах\r\n        let keys_res = await this.resource.get(this.state.table_id+\"/keys\")\r\n        this.setState(state=>{\r\n            return{...state, data: { ...state.data, keys: keys_res}};\r\n        });\r\n    }\r\n    \r\n    //Получаем класс для модального окна\r\n    getModalClasses(type) {\r\n        \r\n        let modal_toggle = type+\"_modal_toggle\";\r\n        \r\n        let modalClasses = 'admin-modal';\r\n        if (this.state[modal_toggle]) {\r\n          modalClasses += ' admin-modal_active';\r\n        }\r\n        return modalClasses;\r\n    }\r\n    \r\n    //Получаем класс для модального окна\r\n    isShowField(field_name) {\r\n        \r\n        let state = false;\r\n        \r\n        let type = this.column_types.find(item => item.id === this.state.column.type);\r\n        \r\n        if(type) {\r\n            \r\n            let index = type.fields.indexOf(field_name);\r\n            \r\n            if(index > -1)  {\r\n                state = true;\r\n            }\r\n            \r\n        }\r\n        return state;\r\n    }\r\n    \r\n    //Меняем переменную для открытия той или иной модали\r\n    toggleModal(type) {\r\n        let modal_toggle = type+\"_modal_toggle\";\r\n        \r\n        this.setState((state) => {\r\n            return { ...state, [modal_toggle]: !state[modal_toggle]}\r\n        }, () => {console.log(this.state)})\r\n    }\r\n    \r\n    \r\n    addModalColumnShow(e) {\r\n        let itemIndex = this.state.data.columns.indexOf(e);\r\n        \r\n        this.setState((state) => {\r\n            if(itemIndex === -1) {\r\n                return { ...state, selected_column: null, column: state.default_column}\r\n            }\r\n            else {\r\n                return { ...state, selected_column: itemIndex, column: state.data.columns[itemIndex]}\r\n            }\r\n            \r\n        }, () => { \r\n            this.toggleModal(\"column\");\r\n        });\r\n    }\r\n    \r\n    addModalKeyShow(e) {\r\n        let itemIndex = this.state.data.keys.indexOf(e);\r\n        \r\n        this.setState((state) => {\r\n            if(itemIndex === -1) {\r\n                return { ...state, selected_key: null, key: state.default_key}\r\n            }\r\n            else {\r\n                return { ...state, selected_key: itemIndex, key: state.data.keys[itemIndex]}\r\n            }\r\n        }, () => { \r\n            this.toggleModal(\"key\");\r\n        });\r\n    }\r\n    \r\n    //Добавление столбца\r\n    addColumn(e) {\r\n        e.preventDefault();\r\n        \r\n        let obj = {...this.state.column};\r\n        \r\n        if(obj.id == \"\") {\r\n            obj.id = new Date().getTime();\r\n        }\r\n        \r\n        this.setState((state) => {\r\n            if(state.selected_column == null) {\r\n                return { ...state, data: { ...state.data,  columns: update(state.data.columns, {$push: [obj]})}};\r\n            }\r\n            else {\r\n                return { ...state, data: { ...state.data,  columns: update(state.data.columns, {[state.selected_column]: {$set: obj}})}};\r\n            }\r\n        }, () => {\r\n            this.toggleModal(\"column\");\r\n        });\r\n    }\r\n    \r\n    //Добавление ключа\r\n    addKey(e) {\r\n        e.preventDefault();\r\n        \r\n        let obj = {...this.state.key};\r\n        \r\n        if(obj.id == \"\") {\r\n            obj.id = new Date().getTime();\r\n        }\r\n        \r\n        this.setState((state) => {\r\n            if(state.selected_key == null) {\r\n                return { ...state, data: { ...state.data,  keys: update(state.data.keys, {$push: [obj]})}};\r\n            }\r\n            else {\r\n                return { ...state, data: { ...state.data,  keys: update(state.data.keys, {[state.selected_key]: {$set: obj}})}};\r\n            }\r\n        }, () => {\r\n            this.toggleModal(\"key\");\r\n        });\r\n    }\r\n    \r\n    onDeleteColumnClick(e){\r\n        const conf = confirm(`Are you sure?`);\r\n        \r\n        if (conf) {\r\n            let itemIndex = this.state.data.columns.indexOf(e);\r\n            if(itemIndex !== -1) {\r\n                this.setState((state) => {\r\n                    return { ...state, data: { ...state.data,  columns: update(this.state.data.columns, {$splice: [[itemIndex, 1]]})}};\r\n                }, () => {\r\n                    alert(\"Success\");\r\n                });\r\n            }\r\n        }\r\n    }\r\n    \r\n    onDeleteKeyClick(e){\r\n        const conf = confirm(`Are you sure?`);\r\n        \r\n        if (conf) {\r\n            let itemIndex = this.state.data.keys.indexOf(e);\r\n            if(itemIndex !== -1) {\r\n                this.setState((state) => {\r\n                    return { ...state, data: { ...state.data,  keys: update(this.state.data.keys, {$splice: [[itemIndex, 1]]})}};\r\n                }, () => {\r\n                    alert(\"Success\");\r\n                });\r\n            }\r\n        }\r\n    }\r\n    \r\n    /**\r\n     * Изменение значений при работе с модальным окном\r\n     * @param {type} e\r\n     * @returns {undefined}\r\n     */\r\n    onChangeColumn(e) {\r\n        let field_name = e.target.name;\r\n        let value = e.target.type === \"checkbox\" ? e.target.checked : e.target.value;\r\n        \r\n        if(field_name === \"name\") {\r\n            \r\n        \r\n            let val = e.target.value.replace(\"_\", \" \");\r\n            value = val.charAt(0).toUpperCase() + val.slice(1); \r\n            \r\n            let title = this.state.column.title;\r\n            let description = this.state.column.description;\r\n            \r\n            if(title === \"\" || title === value.slice(0, value.length - 1)) {\r\n                title = value;\r\n            }\r\n            if(description === \"\" || description === value.slice(0, value.length - 1)) {\r\n                description = value; \r\n            }\r\n            \r\n            this.setState({ ...this.state, column:{...this.state.column, [field_name]: e.target.value, title: title, description: description }});\r\n            return;\r\n        }\r\n        \r\n        this.setState({ ...this.state, column:{...this.state.column, [field_name]: value}}, () => {console.log(this.state)});\r\n    }\r\n    onChangeKey(e) {\r\n        let field_name = e.target.name;\r\n        console.log(e.target.value);\r\n        this.setState({ ...this.state, key:{...this.state.key, [field_name]: e.target.value}});\r\n    }\r\n    \r\n    \r\n    changeName(e) {\r\n        let target = e.target;\r\n        let name_value = target.value\r\n        this.setState( (state) => {\r\n            return {name: name_value}\r\n        });\r\n    }\r\n    async saveMigration(e) {\r\n        e.preventDefault();\r\n        \r\n        if(this.state.name == \"\") {\r\n            alert(\"Enter migration name!\");\r\n            return;\r\n        }\r\n        \r\n        let url = this.state.main_url + \"/migrations\";\r\n        let headers = {\r\n            'Content-Type': 'application/json'\r\n        };\r\n        console.log(this.state.data)\r\n        let data = {\r\n            name: this.state.name,\r\n            data: JSON.stringify(this.state.data),\r\n            _token: _token\r\n        };\r\n        let options = {\r\n            method: 'POST',\r\n            body: JSON.stringify(data),\r\n            headers,\r\n        };\r\n        \r\n        \r\n        let res;\r\n        res = await this.migration_resource.post(data);\r\n        console.log(res)\r\n        if(res){\r\n            alert(\"Success\");\r\n        }\r\n        else {\r\n            \r\n            alert(\"Error\");\r\n        }\r\n    }\r\n  render(){\r\n    return <div className=\"admin-templates admin-page\">\r\n        <div className=\"admin-heading\">\r\n            <div className=\"admin-breadcrumbs\">\r\n                <Link className=\"admin-breadcrumbs__link\" to=\"/admin/tables\">Tables</Link>\r\n                <span className=\"admin-breadcrumbs__separator\">/</span>\r\n                <Link className=\"admin-breadcrumbs__link\" to={\"/admin/tables/edit/\"+this.state.table_id}>{this.state.table.title}</Link>\r\n                <span className=\"admin-breadcrumbs__separator\">/</span>\r\n                <Link className=\"admin-breadcrumbs__link\" to={\"/admin/tables/edit/\"+this.state.table_id+\"/setting\"}>Setting</Link>\r\n                <span className=\"admin-breadcrumbs__separator\">/</span>\r\n                <span className=\"admin-breadcrumbs__current\">Add New Migration</span>\r\n            </div>\r\n        </div>\r\n        <div className=\"admin-content\">\r\n            <div>\r\n                <input type=\"text\" placeholder=\"Enter migration name...\" onChange={this.changeName}/>\r\n            </div>\r\n            <AdminTable columns={this.table_columns} rows={this.state.data.columns}/>\r\n            <div>\r\n                <button onClick={(e) => this.addModalColumnShow(e)}>Add Column</button>\r\n            </div>\r\n            <AdminTable columns={this.table_keys} rows={this.state.data.keys}/>\r\n            <div>\r\n                <button onClick={(e) => this.addModalKeyShow(e)}>Add Key</button>\r\n            </div>\r\n            \r\n            \r\n            <div className={this.getModalClasses(\"key\")}>\r\n                <div className=\"admin-modal__bg\" onClick={() => this.toggleModal(\"key\")}/>\r\n                <div className=\"admin-modal-content\">\r\n                  <button className=\"admin-modal__close\" onClick={() => this.toggleModal(\"key\")}><TimesIcon className=\"icon\"/></button>\r\n                  <div className=\"admin-caption\">Add New Key</div>\r\n                  <div className=\"admin-modal-form form\">\r\n                    <form className=\"admin-form\" onSubmit={this.addKey}>\r\n                        <div>\r\n                            <label className='form-label'>\r\n                                id\r\n                                <input className='form__input' type=\"text\" name=\"id\" value={this.state.key.id} onChange={(e) => {this.onChangeKey(e)}}/>\r\n                            </label>\r\n                        </div>\r\n                        <div>\r\n                            <label className='form-label'>\r\n                                Target Table\r\n                                <input className='form__input' type=\"text\" name=\"target_table\" value={this.state.key.target_table} onChange={(e) => {this.onChangeKey(e)}}/>\r\n                            </label>\r\n                        </div>\r\n                        <div>\r\n                            <label className='form-label'>\r\n                                Source Column\r\n                                <input className='form__input' type=\"text\" name=\"source_column\" value={this.state.key.source_column}  onChange={(e) => {this.onChangeKey(e)}}/>\r\n                            </label>\r\n                        </div>\r\n                        <div>\r\n                            <label className='form-label'>\r\n                                Target Column\r\n                                <input className='form__input' type=\"text\" name=\"target_column\" value={this.state.key.target_column}  onChange={(e) => {this.onChangeKey(e)}}/>\r\n                            </label>\r\n                        </div>\r\n                        <div>\r\n                            <label className='form-label'>\r\n                                onUpdate\r\n                                <select className=\"form__input\" value={this.state.key.onUpdate} name='onUpdate'  onChange={(e) => {this.onChangeKey(e)}}>\r\n                                    <option value=\"\"/>\r\n                                    {\r\n                                      this.key_actions.map(option =>\r\n                                          <option key={option.id}\r\n                                                  value={option.id}\r\n                                                  children={option.title || option.name}/>)\r\n                                    }\r\n                                    </select>\r\n                            </label>\r\n                        </div>\r\n                        <div>\r\n                            <label className='form-label'>\r\n                                onDelete\r\n                                <select className=\"form__input\" value={this.state.key.onDelete} name='onDelete'  onChange={(e) => {this.onChangeKey(e)}}>\r\n                                    <option value=\"\"/>\r\n                                    {\r\n                                      this.key_actions.map(option =>\r\n                                          <option key={option.id}\r\n                                                  value={option.id}\r\n                                                  children={option.title || option.name}/>)\r\n                                    }\r\n                                    </select>\r\n                            </label>\r\n                        </div>\r\n                        <button className=\"btn btn_success\">Add key</button>\r\n                    </form>\r\n                  </div>\r\n                </div>\r\n            </div>\r\n            \r\n            <div className={this.getModalClasses(\"column\")}>\r\n                <div className=\"admin-modal__bg\" onClick={() => this.toggleModal(\"column\")}/>\r\n                <div className=\"admin-modal-content\">\r\n                  <button className=\"admin-modal__close\" onClick={() => this.toggleModal(\"column\")}><TimesIcon className=\"icon\"/></button>\r\n                  <div className=\"admin-caption\">Add New Column</div>\r\n                  <div className=\"admin-modal-form form\">\r\n                    <form className=\"admin-form\" onSubmit={this.addColumn}>\r\n                        <div>\r\n                            <label className='form-label'>\r\n                                name\r\n                                <input className='form__input' type=\"text\" name=\"name\" value={this.state.column.name} onChange={(e) => {this.onChangeColumn(e)}}/>\r\n                            </label>\r\n                        </div>\r\n                        <div>\r\n                            <label className='form-label'>\r\n                                type\r\n                                <select className=\"form__input\" value={this.state.column.type} name='type'  onChange={(e) => {this.onChangeColumn(e)}}>\r\n                                    <option value=\"\"/>\r\n                                    {\r\n                                      this.column_types.map(option =>\r\n                                          <option key={option.id}\r\n                                                  value={option.id}\r\n                                                  children={option.title || option.name}/>)\r\n                                    }\r\n                                    </select>\r\n                            </label>\r\n                        </div>\r\n                        {this.isShowField(\"size\") ? <div>\r\n                            <label className='form-label'>\r\n                                size\r\n                                <input className='form__input' type=\"text\" name=\"size\"  value={this.state.column.size} onChange={(e) => {this.onChangeColumn(e)}}/>\r\n                            </label>\r\n                        </div> : null}\r\n                        {this.isShowField(\"places\") ? <div>\r\n                            <label className='form-label'>\r\n                                places\r\n                                <input className='form__input' type=\"text\" name=\"places\"  value={this.state.column.places} onChange={(e) => {this.onChangeColumn(e)}}/>\r\n                            </label>\r\n                        </div> : null}\r\n                        {this.isShowField(\"default\") ? <div>\r\n                            <label className='form-label'>\r\n                                default\r\n                                <input className='form__input' type=\"text\" name=\"default\" value={this.state.column.default} onChange={(e) => {this.onChangeColumn(e)}}/>\r\n                            </label>\r\n                        </div> : null}\r\n                        {this.isShowField(\"unique\") ? <div>\r\n                            <label className='form-label'>\r\n                                <input className='form__input' type=\"checkbox\" name=\"unique\" checked={this.state.column.unique ? 1 : 0} onChange={(e) => {this.onChangeColumn(e)}}/>\r\n                                unique\r\n                            </label>\r\n                        </div> : null}\r\n                        {this.isShowField(\"nullable\") ? <div>\r\n                            <label className='form-label'>\r\n                                <input className='form__input' type=\"checkbox\" name=\"null\" checked={this.state.column.null ? 1 : 0} onChange={(e) => {this.onChangeColumn(e)}}/>\r\n                                nullable\r\n                            </label>\r\n                        </div> : null}\r\n                        <div>\r\n                            <label className='form-label'>\r\n                                title\r\n                                <input className='form__input' type=\"text\" name=\"title\" value={this.state.column.title}  onChange={(e) => {this.onChangeColumn(e)}}/>\r\n                            </label>\r\n                        </div>\r\n                        <div>\r\n                            <label className='form-label'>\r\n                                description\r\n                                <input className='form__input' type=\"text\" name=\"description\" value={this.state.column.description}  onChange={(e) => {this.onChangeColumn(e)}}/>\r\n                            </label>\r\n                        </div>\r\n                        <button className=\"btn btn_success\">Add col</button>\r\n                    </form>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            <div>\r\n                \r\n            </div>\r\n            <div>\r\n                <form className=\"admin-form\" onSubmit={this.saveMigration}>\r\n                    <button className=\"btn btn_success\">Save</button>\r\n                </form>\r\n            </div>\r\n            \r\n        </div>\r\n    </div>;\r\n  }\r\n\r\n}\r\n\r\nexport default withRouter(AddMigrationPage);","import React, { Component } from \"react\";\r\n\r\nclass AdminVersion extends Component {\r\n  render() {\r\n    return (\r\n      <div children={`Version: ${altrp_version}`} className=\"admin__version\" />\r\n    );\r\n  }\r\n}\r\n\r\nexport default AdminVersion;\r\n","import React, { Component } from \"react\";\r\nimport { Tab, TabList, TabPanel, Tabs } from \"react-tabs\";\r\nimport 'react-tabs/style/react-tabs.scss';\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport AdminTable from \"./AdminTable\";\r\nimport Pagination from \"./Pagination\";\r\nimport Resource from \"../../../editor/src/js/classes/Resource\";\r\n\r\nconst columns = [\r\n  {\r\n    name: 'title',\r\n    title: 'Title',\r\n    url: true,\r\n    editUrl: true,\r\n    tag: 'Link'\r\n  },\r\n  {\r\n    name: 'name',\r\n    title: 'Name'\r\n  },\r\n  {\r\n    name: 'description',\r\n    title: 'Description'\r\n  },\r\n  {\r\n    name: 'updated_at',\r\n    title: 'Updated At'\r\n  }\r\n];\r\nconst columnsDataSource = [\r\n  {\r\n    name: 'title',\r\n    title: 'Title',\r\n    url: true,\r\n    editUrl: true,\r\n    tag: 'Link'\r\n  },\r\n  {\r\n    name: 'name',\r\n    title: 'Name'\r\n  },\r\n  {\r\n    name: 'route',\r\n    title: 'Route'\r\n  },\r\n  {\r\n    name: 'type',\r\n    title: 'Type'\r\n  }\r\n];\r\nconst initPaginationProps = {\r\n  pageCount: 1,\r\n  currentPage: 1,\r\n};\r\n\r\n\r\nexport default class SQLEditors extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      sql_editorsPagination: initPaginationProps,\r\n      sql_editors: [],\r\n      sqlEditorSearch: '',\r\n      sorting: {}\r\n    };\r\n    this.changePage = this.changePage.bind(this);\r\n    this.sql_editorsResource = new Resource({ route: '/admin/ajax/sql_editors' });\r\n  }\r\n\r\n  changePage(currentPage, pagination) {\r\n    this.setState(state => ({ ...state, [pagination]: { ...state[pagination], currentPage } }));\r\n  }\r\n\r\n  /**\r\n   * Обновить список Sql-редакторов\r\n   */\r\n  updateSqlEditors() {\r\n\r\n  }\r\n\r\n  async componentDidMount() {\r\n    let sql_editors = await this.sql_editorsResource.getAll();\r\n    sql_editors = sql_editors.sql_editors;\r\n    this.setState(state => ({\r\n      ...state,\r\n      sql_editors\r\n    }))\r\n  }\r\n\r\n  getSqlEditors = async () => {\r\n    let sql_editors = await this.sql_editorsResource.getQueried({ s: this.state.sqlEditorSearch, ...this.state.sorting});\r\n    sql_editors = sql_editors.sql_editors;\r\n    this.setState(state => ({\r\n      ...state,\r\n      sql_editors,\r\n    }))\r\n  }\r\n\r\n  sortingHandler = (order_by, order) => {\r\n    this.setState({ sorting: { order_by, order } }, this.getSqlEditors);\r\n  }\r\n\r\n  searchSqlEditors = e => {\r\n    e.preventDefault();\r\n    this.getSqlEditors();\r\n  }\r\n\r\n  render() {\r\n    const { sql_editors, sql_editorsPagination, sqlEditorSearch, sorting } = this.state;\r\n    return <div className=\"admin-settings admin-page\">\r\n      <div className=\"admin-heading\">\r\n        <div className=\"admin-breadcrumbs\">\r\n          <a className=\"admin-breadcrumbs__link\" href=\"#\">SQL Editors</a>\r\n          <span className=\"admin-breadcrumbs__separator\">/</span>\r\n          <span className=\"admin-breadcrumbs__current\">SQL Editors</span>\r\n        </div>\r\n        <Link className=\"btn\" to={`/admin/tables/sql_editors/add`}>Add New</Link>\r\n      </div>\r\n      <div className=\"admin-content\">\r\n        <form className=\"admin-panel py-2\" onSubmit={this.searchSqlEditors}>\r\n          <input className=\"input-sm mr-2\" value={sqlEditorSearch} onChange={e => this.setState({ sqlEditorSearch: e.target.value })} />\r\n          <button type=\"button\" onClick={this.getSqlEditors} className=\"btn btn_bare admin-users-button\">Search</button>\r\n        </form>\r\n        <AdminTable\r\n          columns={columns}\r\n          quickActions={[{\r\n            tag: 'Link', props: {\r\n              href: '/admin/tables/sql_editors/edit/:id',\r\n            },\r\n            title: 'Edit'\r\n          }, {\r\n            tag: 'button',\r\n            route: '/admin/ajax/sql_editors/:id',\r\n            method: 'delete',\r\n            confirm: 'Are You Sure?',\r\n            // after: () => this.updateModels(this.state.currentPage, this.state.activeTemplateArea),\r\n            className: 'quick-action-menu__item_danger',\r\n            title: 'Trash'\r\n          }]}\r\n          rows={sql_editors.map(sql_editor => ({\r\n            ...sql_editor,\r\n            editUrl: '/admin/tables/sql_editors/edit/' + sql_editor.id\r\n          }))}\r\n          sortingHandler={this.sortingHandler}\r\n          sortingField={sorting.order_by}\r\n        />\r\n        <Pagination pageCount={sql_editorsPagination.pageCount}\r\n          currentPage={sql_editorsPagination.currentPage}\r\n          changePage={currentPage => this.changePage(currentPage, \"sql_editorsPagination\")}\r\n          itemsCount={sql_editors.length}\r\n        />\r\n      </div>\r\n    </div>\r\n  }\r\n}\r\n","import React from \"react\";\r\n\r\nfunction ColorSchemes() {\r\n  return (\r\n    <div className=\"admin-templates admin-page\">\r\n      <div className=\"admin-heading\">\r\n        <div className=\"admin-breadcrumbs\">\r\n          <a className=\"admin-breadcrumbs__link\" href=\"#\">\r\n            Analytics\r\n          </a>\r\n        </div>\r\n        <Link className=\"btn\" to={`/admin/dashboard`}>\r\n          All Widgets\r\n        </Link>\r\n      </div>\r\n      <div className=\"admin-content\"></div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ColorSchemes;\r\n","import React, { Component } from \"react\";\r\nimport { withRouter } from 'react-router-dom';\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\n\r\nclass ModelItemForm extends Component {\r\n  state = {\r\n    ...this.props.item\r\n  };\r\n\r\n  changeHandler = ({ target: { value, name } }) => {\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  componentDidMount() {\r\n\r\n  }\r\n\r\n  submitHandler = e => {\r\n    e.preventDefault();\r\n    const { id } = this.props.match.params;\r\n    const data = _.pick(this.state, this.props.fields);\r\n\r\n    if (this.props.item) {\r\n      new Resource({ route: `/admin/ajax/custom_models/${id}/edit` })\r\n        .put(this.state.id, data)\r\n        .then(() => this.props.submitHandler());\r\n    } else {\r\n      new Resource({ route: `/admin/ajax/custom_models/${id}` })\r\n        .post(data)\r\n        .then(() => this.props.submitHandler());\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { fields } = this.props;\r\n\r\n    return <form className=\"admin-form\" onSubmit={this.submitHandler}>\r\n      {fields.map(field => <div className=\"form-group\" key={field}>\r\n        <label htmlFor={field}>{field}</label>\r\n        <input type=\"text\" id={field}\r\n          name={field}\r\n          value={this.state[field]}\r\n          onChange={this.changeHandler}\r\n          className=\"form-control\"\r\n        />\r\n      </div>)}\r\n\r\n      <div className=\"btn__wrapper\">\r\n        <button className=\"btn btn_success\" type=\"submit\">Add</button>\r\n      </div>\r\n    </form>\r\n  }\r\n}\r\n\r\nexport default withRouter(ModelItemForm);","import React, { Component } from \"react\";\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\nimport AdminTable from \"../AdminTable\";\r\nimport Pagination from \"../Pagination\";\r\nimport AdminModal2 from \"../AdminModal2\";\r\nimport ModelItemForm from \"./ModelItemForm\";\r\n\r\nclass ModelPage extends Component {\r\n  state = {\r\n    sorting: {},\r\n    search: '',\r\n    currentPage: 1,\r\n    data: [],\r\n    pageCount: 1,\r\n    itemsPerPage: 20,\r\n    isModalOpened: false,\r\n    editingItem: null,\r\n    fields: []\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getModelData();\r\n    new Resource({ route: `/admin/ajax/models/${this.props.match.params.id}/fields` }).getAll()\r\n      .then(fields => this.setState({ fields }))\r\n      .catch(error => console.log(error));\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (prevProps.match.params.id !== this.props.match.params.id) {\r\n      this.getModelData();\r\n    }\r\n  }\r\n\r\n  getModelData = () => {\r\n    const { id } = this.props.match.params;\r\n    const { currentPage: page, search: s, itemsPerPage: pageSize, sorting } = this.state;\r\n    const params = { page, s, pageSize, ...sorting };\r\n\r\n    new Resource({ route: '/admin/ajax/custom_models/' + id }).getQueried(params)\r\n      .then(({ data, pageCount }) => this.setState({ data, pageCount }))\r\n      .catch(error => console.log(error));\r\n  }\r\n\r\n  sortingHandler = (order_by, order) => {\r\n    this.setState({ sorting: { order_by, order } }, this.getModelData);\r\n  }\r\n\r\n  editHandler = editingItem => {\r\n    this.setState({ editingItem, isModalOpened: true })\r\n  }\r\n\r\n  searchModelData = e => {\r\n    e.preventDefault();\r\n    this.getModelData();\r\n  }\r\n\r\n  render() {\r\n    const { data, search, currentPage, pageCount, sorting, isModalOpened, editingItem, fields } = this.state;\r\n    const { id } = this.props.match.params;\r\n\r\n    return <div className=\"admin-pages admin-page\">\r\n      <div className=\"admin-heading\">\r\n        <div className=\"admin-breadcrumbs\">\r\n          <Link className=\"admin-breadcrumbs__link\" to=\"/admin/pages\">Model</Link>\r\n          <span className=\"admin-breadcrumbs__separator\">/</span>\r\n          <span className=\"admin-breadcrumbs__current\">{this.props.location.propsSearch}</span>\r\n        </div>\r\n      </div>\r\n      <div className=\"admin-content\">\r\n        <form className=\"admin-panel py-2\" onSubmit={this.searchModelData}>\r\n          <input className=\"input-sm mr-2\" value={search} onChange={e => this.setState({ search: e.target.value })} />\r\n          <button className=\"btn btn_bare admin-users-button\">Search</button>\r\n        </form>\r\n        {Boolean(data.length) && <>\r\n          <AdminTable\r\n            columns={fields}\r\n            quickActions={[\r\n              {\r\n                callBack: data => this.editHandler(data),\r\n                title: 'Edit'\r\n              },\r\n              {\r\n                tag: 'button',\r\n                route: `/admin/ajax/custom_models/${id}/delete/:id`,\r\n                method: 'delete',\r\n                confirm: 'Are You Sure?',\r\n                after: () => this.getModelData(),\r\n                className: 'quick-action-menu__item_danger',\r\n                title: 'Trash'\r\n              }\r\n            ]}\r\n            rows={data}\r\n            sortingHandler={this.sortingHandler}\r\n            sortingField={sorting.order_by}\r\n          />\r\n          <Pagination pageCount={pageCount || 1}\r\n            currentPage={currentPage}\r\n            changePage={currentPage => this.setState({ currentPage }, this.getModelData)}\r\n          />\r\n        </>}\r\n\r\n        <button onClick={() => this.setState({ isModalOpened: true })} className=\"btn btn_add\">\r\n          Add New\r\n        </button>\r\n\r\n        {isModalOpened && <AdminModal2 closeHandler={() => this.setState({ isModalOpened: false, editingItem: null })}>\r\n          <ModelItemForm item={editingItem}\r\n            submitHandler={() => this.setState({ isModalOpened: false, editingItem: null }, this.getModelData)}\r\n            fields={fields.map(({ name }) => name).filter(item => item !== 'id')}\r\n          />\r\n        </AdminModal2>}\r\n      </div>\r\n    </div>\r\n  }\r\n}\r\n\r\nexport default withRouter(ModelPage);\r\n","import React from 'react';\r\nimport { Link, withRouter } from \"react-router-dom\";\r\n\r\nclass AdminAssetsDropList extends React.Component {\r\n\r\n    render() {\r\n        const { pathname } = this.props.location\r\n        const pathmanHaveAsssets = pathname.indexOf('assets')\r\n\r\n        return (\r\n                <ul className={pathmanHaveAsssets !== -1 ? \"admin-nav-list admin-nav-list--sublist_active\" : \"admin-nav-list admin-nav-list--sublist\"}>\r\n                    <li><Link to=\"/admin/assets\" className=\"admin-nav-list__link\"><span>Library</span></Link></li>\r\n                    <li>\r\n                        <Link\r\n                            to=\"/admin/assets/custom-fonts\" \r\n                            className=\"admin-nav-list__link\"\r\n                        >\r\n                            <span>Custom fonts</span>\r\n                        </Link>\r\n                    </li>\r\n                </ul>\r\n        )\r\n    }\r\n}\r\n\r\nexport const WithRouterAdminAssetsDropList = withRouter(AdminAssetsDropList);","\r\nimport AltrpModel from './AltrpModel';\r\nimport {mbParseJSON} from \"../../../../front-app/src/js/helpers\";\r\n/**\r\n * @class AltrpMeta\r\n */\r\nclass AltrpMeta extends AltrpModel{\r\n  /**\r\n   * Хранилище статусов получения данных, чтобы не делать много параллельных запросов\r\n   * @type {{}}\r\n   */\r\n  static statuses = {};\r\n  /**\r\n   * Хранилище обратных вызовов, чтобы не делать много параллельных запросов\r\n   * @type {{}}\r\n   */\r\n  static pendingCallbacks = {};\r\n  /**\r\n   * Кончтруктор\r\n   * @param {string} metaName\r\n   * @param {*} metaValue\r\n   */\r\n  constructor(metaName, metaValue){\r\n    const data = {metaValue, metaName};\r\n\r\n    super(data);\r\n  }\r\n\r\n  /**\r\n   * Возвращает значение мета-свойства\r\n   * @param {*} _default\r\n   * @return {*}\r\n   */\r\n  getMetaValue(_default){\r\n    return this.getProperty('metaValue') || _default;\r\n  }\r\n  /**\r\n   * Сохраняет новое значение мета-свойства\r\n   * @return {*}\r\n   */\r\n  setMetaValue(metaValue){\r\n    return this.setProperty('metaValue', metaValue);\r\n  }\r\n\r\n\r\n  /**\r\n   * Возвращает имя мета-свойства\r\n   * @return {string}\r\n   */\r\n  getMetaName(){\r\n    return this.getProperty('metaName');\r\n  }\r\n  async save(){\r\n    const metaName = this.getMetaName();\r\n    let metaValue = this.getMetaValue();\r\n    if(_.isObject(metaValue)){\r\n      metaValue = JSON.stringify(metaValue);\r\n    }\r\n    const Resource = (await import(/* webpackChunkName: 'Resource' */ './Resource')).default;\r\n    const resource = new Resource({ route: `/admin/ajax/altrp_meta`});\r\n    return (await resource.put(metaName, {meta_value:metaValue}));\r\n\r\n  }\r\n\r\n  static async saveGlobalStylesPresets(metaValue){\r\n    const metaName = \"global_styles\";\r\n    if(_.isObject(metaValue)){\r\n      metaValue = JSON.stringify(metaValue);\r\n    }\r\n    const Resource = (await import(/* webpackChunkName: 'Resource' */ './Resource')).default;\r\n    const resource = new Resource({ route: `/admin/ajax/altrp_meta`});\r\n    return (await resource.put(metaName, {meta_value:metaValue}));\r\n\r\n  }\r\n  /**\r\n   * Получить иета свойство с сервера\r\n   *\r\n   * @param {string} metaName\r\n   * @return {Promise<AltrpMeta | null>}\r\n   */\r\n  static async getMetaByName(metaName) {\r\n    if(! metaName){\r\n      return null;\r\n    }\r\n    if(_.get(AltrpMeta, `statuses.${metaName}`) === 'loading'){\r\n      return new Promise((resolve, reject) => {\r\n        AltrpMeta.pendingCallbacks[metaName] = AltrpMeta.pendingCallbacks[metaName] || [];\r\n        AltrpMeta.pendingCallbacks[metaName].push(resolve);\r\n      })\r\n    }\r\n    AltrpMeta.statuses[metaName] = 'loading';\r\n    const Resource = (await import(/* webpackChunkName: 'Resource' */ './Resource')).default;\r\n    const resource = new Resource({ route: `/admin/ajax/altrp_meta`});\r\n    try {\r\n      let metaValue = _.get((await resource.get(metaName)), 'data.meta_value') || null;\r\n      metaValue = mbParseJSON(metaValue);\r\n      if(_.isArray(AltrpMeta.pendingCallbacks[metaName])){\r\n        AltrpMeta.pendingCallbacks[metaName].forEach(callback=>{\r\n          callback(new AltrpMeta(metaName, metaValue));\r\n        });\r\n      }\r\n      AltrpMeta.statuses[metaName] = 'loaded';\r\n      AltrpMeta.pendingCallbacks[metaName] = [];\r\n      return new AltrpMeta(metaName, metaValue);\r\n    }catch(error){\r\n      if(_.isArray(AltrpMeta.pendingCallbacks[metaName])){\r\n        AltrpMeta.pendingCallbacks[metaName].forEach(callback=>{\r\n          callback(new AltrpMeta(metaName, null));\r\n        });\r\n      }\r\n      AltrpMeta.statuses[metaName] = 'loaded';\r\n      AltrpMeta.pendingCallbacks[metaName] = [];\r\n      return new AltrpMeta(metaName, null);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Клонировать мета\r\n   * @param {AltrpMeta} meta\r\n   * @return {AltrpMeta}\r\n   */\r\n  static clone(meta){\r\n    return new AltrpMeta(meta.getMetaName(), meta.getMetaValue());\r\n  }\r\n}\r\nexport default AltrpMeta\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport AltrpMeta from '../../../../modules/editor/src/js/classes/AltrpMeta';\r\nimport { compose } from \"redux\";\r\nimport { connect } from \"react-redux\";\r\nimport { getCustomFonts } from '../js/store/custom-fonts/actions';\r\n\r\nclass CustomFonts extends React.Component {\r\n    state = {}\r\n\r\n    deleteFont = async (id) => {\r\n        let fonts = this.props.metaValue\r\n        const currentFontId = id\r\n        const indexCurrentFont = this.props.metaValue.findIndex(item => item.id == currentFontId)\r\n        fonts.splice(indexCurrentFont, 1)\r\n        let meta = await AltrpMeta.getMetaByName(\"custom_fonts\")\r\n        meta.setMetaValue(fonts)\r\n        await meta.save()\r\n        meta = await AltrpMeta.getMetaByName(\"custom_fonts\")\r\n        const metaValue = await meta.getMetaValue()\r\n        this.props.getCustomFonts(metaValue)\r\n    }\r\n\r\n    render() {\r\n        let fonts = null;\r\n        let fontsCount = null;\r\n        if (this.props.metaValue !== null) {\r\n            fontsCount = this.props.metaValue.length\r\n            fonts = this.props.metaValue.map(f => (\r\n                <tr key={f.id} onMouseEnter={this.onMouseEnter} onMouseLeave={this.onMouseLeave}>\r\n                    <td className=\"custom-fonts__table-check\">\r\n                        <input type=\"checkbox\" />\r\n                    </td>\r\n                    <td className=\"custom-fonts__table-font-family\">\r\n                        <Link to={`/admin/assets/edit-font/${f.id}`}>{f.fontFamily}<span className=\"custom-fonts__table-font-family__count\">{f.variations.length}</span></Link>\r\n                        <span className=\"custom-fonts__table-font-family_hover\">\r\n                            <Link to={`/admin/assets/edit-font/${f.id}`} className=\"custom-fonts__table-font-family_hover_edit\">Edit</Link>\r\n                            <span onClick={() => this.deleteFont(f.id)} className=\"custom-fonts__table-font-family_hover_trash\">Trash</span>\r\n                        </span>\r\n                    </td>\r\n                    <td className=\"custom-fonts__table-preview\">Elementor Is Making the Web Beautiful!!!</td>\r\n                </tr>\r\n            ))\r\n        }\r\n\r\n        return (\r\n            <div className=\"custom-fonts\">\r\n\r\n                <div className=\"custom-fonts__title\">\r\n                    Custom Fonts\r\n                    <Link to=\"/admin/assets/add-new-font\">\r\n                        <button className=\"custom-fonts__btn custom-fonts__btn_add-new\">\r\n                            Add new\r\n                        </button>\r\n                    </Link>\r\n                </div>\r\n\r\n                <div className=\"custom-fonts__table-header\">\r\n                    <div className=\"custom-fonts__sorting-options\">\r\n                        <Link className=\"custom-fonts__sorting-options-name\">All\r\n                            <span className=\"custom-fonts__sorting-options-count custom-fonts__sorting-options-count_line\">\r\n                                {fontsCount}\r\n                            </span>\r\n                        </Link>\r\n                        <Link className=\"custom-fonts__sorting-options-name\">Published\r\n                            <span className=\"custom-fonts__sorting-options-count\">\r\n                                {fontsCount}\r\n                            </span>\r\n                        </Link>\r\n                    </div>\r\n                    <div className=\"custom-fonts__search\">\r\n                        <input className=\"custom-fonts__search-input\" />\r\n                        <button onClick={this.props.getMetaName} className=\"custom-fonts__btn custom-fonts__btn_search\">\r\n                            Search Font\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"custom-fonts__const-part-of-table\">\r\n                    <div className=\"custom-fonts__possible-actions\">\r\n                        <select className=\"custom-fonts__possible-actions-drop-list\">\r\n                            <option>Bulk actions</option>\r\n                            <option>Edit</option>\r\n                            <option>Move To Trash</option>\r\n                        </select>\r\n                        <button onClick={this.props.test} className=\"custom-fonts__btn custom-fonts__btn_apply\">\r\n                            Apply\r\n                        </button>\r\n                    </div>\r\n                    <span className=\"custom-fonts__number-of-items\">\r\n                        {fontsCount} items\r\n                    </span>\r\n                </div>\r\n                <table className=\"custom-fonts__table\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th className=\"custom-fonts__table-check\">\r\n                                <input type=\"checkbox\" />\r\n                            </th>\r\n                            <th className=\"custom-fonts__table-font-family\">Font Family</th>\r\n                            <th className=\"custom-fonts__table-preview\">Preview</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>{fonts}</tbody>\r\n                    <tfoot>\r\n                        <tr>\r\n                            <th className=\"custom-fonts__table-check\"><input type=\"checkbox\" /></th>\r\n                            <th className=\"custom-fonts__table-font-family\">Font Family</th>\r\n                            <th className=\"custom-fonts__table-preview\">Preview</th>\r\n                        </tr>\r\n                    </tfoot>\r\n                </table>\r\n                <div className=\"custom-fonts__const-part-of-table\">\r\n                    <div className=\"custom-fonts__possible-actions\">\r\n                        <select className=\"custom-fonts__possible-actions-drop-list\">\r\n                            <option>Bulk actions</option>\r\n                            <option>Edit</option>\r\n                            <option>Move To Trash</option>\r\n                        </select>\r\n                        <button className=\"custom-fonts__btn custom-fonts__btn_apply\">\r\n                            Apply\r\n                        </button>\r\n                    </div>\r\n                    <span className=\"custom-fonts__number-of-items\">\r\n                        {fontsCount} items\r\n                    </span>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(null, { getCustomFonts })\r\n)(CustomFonts);","import React from 'react';\r\nimport KeyboardArrowDownIcon from '@material-ui/icons/KeyboardArrowDown';\r\nimport KeyboardArrowUpIcon from '@material-ui/icons/KeyboardArrowUp';\r\n\r\nexport class EditFontElementPublish extends React.Component {\r\n    render() {\r\n        return (\r\n            <div>\r\n                <div className=\"edit-font__content-publish-header\">\r\n                    <span className=\"edit-font__content-publish-title\">Publish</span>\r\n                    <div>\r\n                        <button onClick={this.props.changePublishSizeMin} className=\"edit-font__content-publish-arrow\"><KeyboardArrowUpIcon /></button>\r\n                        <button onClick={this.props.changePublishSizeMax} className=\"edit-font__content-publish-arrow\"><KeyboardArrowDownIcon /></button>\r\n                    </div>\r\n                </div>\r\n                <div className=\"edit-font__content-publish-body\">\r\n                    <button type=\"submit\" className=\"edit-font__content-publish-btn\">Update</button>\r\n                    {this.props.pathName.indexOf(\"edit-font\") !== -1 && <span onClick={this.props.deleteFont} className=\"edit-font__content-publish-trash\">Move to Trash</span>}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}","import React, { Component } from \"react\";\r\nimport Resource from \"../../../editor/src/js/classes/Resource\";\r\nimport { withRouter } from \"react-router\";\r\nimport { Link } from 'react-router-dom';\r\nimport { compose } from \"redux\";\r\nimport { connect } from \"react-redux\";\r\nimport { EditFontElementPublish } from './EditFontElementPublish';\r\nimport AltrpMeta from '../../../editor/src/js/classes/AltrpMeta';\r\nimport { getCustomFonts } from '../js/store/custom-fonts/actions';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport { generateId } from '../js/helpers';\r\n\r\nconst fontWeightOptions = [100, 200, 300, 400, 500, 600, 700, 800, 900];\r\nconst fontStyleOptions = ['normal', 'italic', 'oblique'];\r\n\r\nclass EditFont extends Component {\r\n    state = {\r\n        fontFamily: '',\r\n        fontWeight: '',\r\n        fontStyle: '',\r\n        woffFile: '',\r\n        woff2File: '',\r\n        ttfFile: '',\r\n        svgFile: '',\r\n        eotFile: '',\r\n        fontsLibrary: [],\r\n        editFont: false,\r\n        publishMaxSize: false,\r\n    };\r\n\r\n    componentDidMount() {\r\n        new Resource({ route: `/admin/ajax/media?type=font` })\r\n            .getAll()\r\n            .then(fontsLibrary => this.setState({ fontsLibrary }));\r\n\r\n        this.initialFontName()\r\n    }\r\n\r\n    initialFontName() {\r\n        let fonts = this.props.metaValue\r\n        if (fonts !== null) {\r\n            const fontFamily = fonts[this.findIndexCurrentFont()].fontFamily\r\n            this.setState({\r\n                fontFamily,\r\n            })\r\n        }\r\n    }\r\n\r\n    changeHandler = ({ target: { value, name } }) => {\r\n        this.setState({ [name]: value });\r\n    };\r\n\r\n    postFont = e => {\r\n        e.persist();\r\n        new Resource({ route: '/admin/ajax/media' })\r\n            .postFiles(e.target.files)\r\n            .then(res => this.setState({ [e.target.name]: res[0].url, fontsLibrary: [...this.state.fontsLibrary, res[0]] }));\r\n    }\r\n\r\n    submitHandler = e => {\r\n        const { woffFile, woff2File, ttfFile, svgFile, eotFile } = this.state;\r\n\r\n        e.preventDefault();\r\n        // if (!woffFile && !woff2File && !ttfFile && !svgFile && !eotFile) {\r\n        //   return alert('Upload font file')\r\n        // }\r\n\r\n        const { fontsLibrary, ...restProps } = this.state;\r\n        const data = {};\r\n\r\n        for (const key in restProps) {\r\n            if (restProps[key]) {\r\n                data[key] = restProps[key];\r\n            }\r\n        }\r\n        // console.log(data)\r\n        this.addFontVariation(data)\r\n    }\r\n\r\n    addFontVariation = async (fontVariation) => {\r\n        let fonts = this.props.metaValue\r\n        let currentFont = fonts[this.findIndexCurrentFont()]\r\n        delete fontVariation.fontFamily\r\n        delete fontVariation.editFont\r\n        fontVariation.id = generateId()\r\n        currentFont.variations.push(fontVariation)\r\n        this.setNewMetaValue(fonts)\r\n    }\r\n\r\n    deleteFontVariation = async (id) => {\r\n        let fonts = this.props.metaValue\r\n        let currentFont = fonts[this.findIndexCurrentFont()]\r\n        const indexCurrentFontVariation = currentFont.variations.findIndex(item => item.id == id)\r\n        currentFont.variations.splice(indexCurrentFontVariation, 1)\r\n        this.setNewMetaValue(fonts)\r\n    }\r\n\r\n    deleteFont = async () => {\r\n        let fonts = this.props.metaValue\r\n        fonts.splice(this.findIndexCurrentFont(), 1)\r\n        this.setNewMetaValue(fonts)\r\n        this.setState({\r\n            fontFamily: '',\r\n        })\r\n    }\r\n\r\n    findIndexCurrentFont() {\r\n        const currentFontId = this.props.match.params.id\r\n        const indexCurrentFont = this.props.metaValue.findIndex(item => item.id == currentFontId)\r\n        return indexCurrentFont\r\n    }\r\n\r\n    setNewMetaValue = async (fonts) => {\r\n        let meta = await AltrpMeta.getMetaByName(\"custom_fonts\")\r\n        meta.setMetaValue(fonts)\r\n        await meta.save()\r\n        meta = await AltrpMeta.getMetaByName(\"custom_fonts\")\r\n        const metaValue = await meta.getMetaValue()\r\n        this.props.getCustomFonts(metaValue)\r\n    }\r\n\r\n    editFontOn = () => {\r\n        this.setState({\r\n            editFont: true,\r\n        })\r\n    }\r\n\r\n    editFontOff = () => {\r\n        this.setState({\r\n            editFont: false,\r\n        })\r\n    }\r\n\r\n    changePublishSizeMax = () => {\r\n        this.setState({\r\n            publishMaxSize: true,\r\n        })\r\n    }\r\n\r\n    changePublishSizeMin = () => {\r\n        this.setState({\r\n            publishMaxSize: false,\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const { fontFamily, fontWeight, fontStyle, woffFile, woff2File, ttfFile, svgFile, eotFile, fontsLibrary } = this.state;\r\n        let fontVariations = null;\r\n\r\n        if (this.props.metaValue !== null) {\r\n            const indexCurrentFont = this.props.metaValue.findIndex(item => item.id == this.props.match.params.id)\r\n            if (indexCurrentFont !== -1) {\r\n                const currentFont = this.props.metaValue[indexCurrentFont]\r\n                fontVariations = currentFont.variations.map(v => (\r\n                    <tr key={v.id} className=\"edit-font__content-font-editing-line\">\r\n                        <td className=\"edit-font__content-font-editing-line__element\"><span className=\"edit-font__content-font-editing-line__element_property\">Weight:</span>{v.fontWeight}</td>\r\n                        <td className=\"edit-font__content-font-editing-line__element\"><span className=\"edit-font__content-font-editing-line__element_property\">Style:</span>{v.fontStyle}</td>\r\n                        <td className=\"edit-font__content-font-editing-line__element edit-font__content-font-editing-line__element_description\">Elementor Is Making The Web Beautiful</td>\r\n                        <td className=\"edit-font__content-font-editing-line__element edit-font__content-font-editing-line__element_edit\"><EditIcon fontSize=\"small\" />Edit</td>\r\n                        <td onClick={() => this.deleteFontVariation(v.id)} className=\"edit-font__content-font-editing-line__element edit-font__content-font-editing-line__element_delete\"><DeleteIcon fontSize=\"small\" />Delete</td>\r\n                    </tr>\r\n                ))\r\n            }\r\n        }\r\n\r\n        return <div className=\"edit-font\">\r\n            <div className=\"custom-fonts__title\">Edit Font<Link to=\"/admin/assets/add-new-font\"><button className=\"custom-fonts__btn custom-fonts__btn_add-new\">Add new</button></Link></div>\r\n            <div className=\"edit-font__content\">\r\n                <div className=\"edit-font__content-main\">\r\n                    <div className=\"admin-content admin-content-fonts-form\">\r\n                        <form className=\"admin-form field-form\" onSubmit={this.submitHandler}>\r\n                            <input\r\n                                className=\"edit-font__content-input edit-font__content-input-add-font\"\r\n                                placeholder=\"Enter Font Family\"\r\n                                required\r\n                                type=\"text\"\r\n                                id=\"fontFamily\"\r\n                                name=\"fontFamily\"\r\n                                value={fontFamily}\r\n                                onChange={this.changeHandler} />\r\n                            {!this.state.publishMaxSize ? <div className=\"edit-font__content-publish edit-font__content-publish_min\">\r\n                                <EditFontElementPublish pathName={this.props.location.pathname} deleteFont={this.deleteFont} changePublishSizeMax={this.changePublishSizeMax} changePublishSizeMin={this.changePublishSizeMin} />\r\n                            </div> : null}\r\n                            {this.state.publishMaxSize ? <div className=\"edit-font__content-publish\">\r\n                                <EditFontElementPublish pathName={this.props.location.pathname} deleteFont={this.deleteFont} changePublishSizeMax={this.changePublishSizeMax} changePublishSizeMin={this.changePublishSizeMin} />\r\n                            </div> : null}\r\n                            <div className=\"edit-font__content-subtitle\">Manage Your Font Files</div>\r\n                            <table className=\"font-table\">\r\n                                <tbody>\r\n                                    {fontVariations}\r\n                                </tbody>\r\n                            </table>\r\n                            <div className={this.state.editFont ? \"add-variatons-open\" : \"add-variatons-close\"}>\r\n                                <table className=\"edit-font__content-main__variation-table\">\r\n                                    <tbody>\r\n                                        <tr className=\"edit-font__content-font-editing-line\">\r\n                                            <td className=\"edit-font__content-font-editing-line__element\"><span className=\"edit-font__content-font-editing-line__element_property\">Weight:</span>\r\n                                                <select\r\n                                                    id=\"fontWeight\"\r\n                                                    name=\"fontWeight\"\r\n                                                    value={fontWeight}\r\n                                                    onChange={this.changeHandler}\r\n                                                    className=\"edit-font__content-font-editing-line__element-value\"\r\n                                                >\r\n                                                    <option value=\"\"></option>\r\n                                                    {fontWeightOptions.map(value => <option value={value} key={value}>{value}</option>)}\r\n                                                </select></td>\r\n                                            <td className=\"edit-font__content-font-editing-line__element\"><span className=\"edit-font__content-font-editing-line__element_property\">Style:</span>\r\n                                                <select\r\n                                                    id=\"fontStyle\"\r\n                                                    name=\"fontStyle\"\r\n                                                    value={fontStyle}\r\n                                                    onChange={this.changeHandler}\r\n                                                    className=\"edit-font__content-font-editing-line__element-value\"\r\n                                                >\r\n                                                    <option value=\"\"></option>\r\n                                                    {fontStyleOptions.map(value => <option value={value} key={value}>{value}</option>)}\r\n                                                </select></td>\r\n                                            <td className=\"edit-font__content-font-editing-line__element edit-font__content-font-editing-line__element_description\">Elementor Is Making The Web Beautiful</td>\r\n                                            <td className=\"edit-font__content-font-editing-line__element edit-font__content-font-editing-line__element_edit\" onClick={this.editFontOff}>Close</td>\r\n                                            <td className=\"edit-font__content-font-editing-line__element edit-font__content-font-editing-line__element_delete\"><DeleteIcon fontSize=\"small\" />Delete</td>\r\n                                        </tr>\r\n                                    </tbody>\r\n                                </table>\r\n                                <div className=\"form-group-wrap\">\r\n                                    <div className=\"form-group d-flex justify-content-between\">\r\n                                        <div className=\"form-group-input-label\">WOFF File</div>\r\n                                        <input className=\"showFontUrl\" value={woffFile} />\r\n                                        <select\r\n                                            name=\"woffFile\"\r\n                                            value={woffFile}\r\n                                            onChange={this.changeHandler}\r\n                                            className=\"form-control w-auto flex-grow-1 mx-2\"\r\n                                        >\r\n                                            <option value=\"\">The Web Open Font Format, Used by Modern Browsers</option>\r\n                                            {fontsLibrary\r\n                                                .filter(({ filename }) => filename.endsWith(\".woff\"))\r\n                                                .map(({ filename, url }) => <option value={url} key={filename}>{filename}</option>)}\r\n                                        </select>\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group d-flex justify-content-between\">\r\n                                        <div className=\"form-group-input-label\">WOFF2 File</div>\r\n                                        <input className=\"showFontUrl\" value={woff2File} />\r\n                                        <select\r\n                                            name=\"woff2File\"\r\n                                            value={woff2File}\r\n                                            onChange={this.changeHandler}\r\n                                            className=\"form-control w-auto flex-grow-1 mx-2\"\r\n                                        >\r\n                                            <option value=\"\">The Web Open Font Format 2, Used by Super Modern Browsers</option>\r\n                                            {fontsLibrary\r\n                                                .filter(({ filename }) => filename.endsWith(\".woff2\"))\r\n                                                .map(({ filename, url }) => <option value={url} key={filename}>{filename}</option>)}\r\n                                        </select>\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group d-flex justify-content-between\">\r\n                                        <div className=\"form-group-input-label\">TTF File</div>\r\n                                        <input className=\"showFontUrl\" value={ttfFile} />\r\n                                        <select\r\n                                            name=\"ttfFile\"\r\n                                            value={ttfFile}\r\n                                            onChange={this.changeHandler}\r\n                                            className=\"form-control w-auto flex-grow-1 mx-2\"\r\n                                        >\r\n                                            <option value=\"\">TrueType Fonts, Used for better supporting Safari, Android, iOS</option>\r\n                                            {fontsLibrary\r\n                                                .filter(({ filename }) => filename.endsWith(\".ttf\"))\r\n                                                .map(({ filename, url }) => <option value={url} key={filename}>{filename}</option>)}\r\n                                        </select>\r\n                                    </div>\r\n                                    <div className=\"form-group d-flex justify-content-between\">\r\n                                        <div className=\"form-group-input-label\">SVG File</div>\r\n                                        <input className=\"showFontUrl\" value={svgFile} />\r\n                                        <select\r\n                                            name=\"svgFile\"\r\n                                            value={svgFile}\r\n                                            onChange={this.changeHandler}\r\n                                            className=\"form-control w-auto flex-grow-1 mx-2\"\r\n                                        >\r\n                                            <option value=\"\">SVG fonts allow SVG to be used as glyphs when displaying text, Used by Legacy iOS</option>\r\n                                            {fontsLibrary\r\n                                                .filter(({ filename }) => filename.endsWith(\".svg\"))\r\n                                                .map(({ filename, url }) => <option value={url} key={filename}>{filename}</option>)}\r\n                                        </select>\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group d-flex justify-content-between\">\r\n                                        <div className=\"form-group-input-label\">EOT File</div>\r\n                                        <input className=\"showFontUrl\" value={eotFile} />\r\n                                        <select\r\n                                            name=\"eotFile\"\r\n                                            value={eotFile}\r\n                                            onChange={this.changeHandler}\r\n                                            className=\"form-control w-auto flex-grow-1 mx-2\"\r\n                                        >\r\n                                            <option value=\"\">Embedded OpenType, Used by IE6-IE9 Browsers</option>\r\n                                            {fontsLibrary\r\n                                                .filter(({ filename }) => filename.endsWith(\".eot\"))\r\n                                                .map(({ filename, url }) => <option value={url} key={filename}>{filename}</option>)}\r\n                                        </select>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                    <button onClick={this.editFontOn} className=\"edit-font__content-main-btn\">ADD FONT VARIATION</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(null, { getCustomFonts }),\r\n    withRouter\r\n)(EditFont);","import React, { Component } from \"react\";\r\nimport Resource from \"../../../editor/src/js/classes/Resource\";\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport { withRouter } from \"react-router\";\r\nimport { Redirect } from 'react-router-dom';\r\nimport { compose } from \"redux\";\r\nimport { connect } from \"react-redux\";\r\nimport { EditFontElementPublish } from './EditFontElementPublish';\r\nimport AltrpMeta from '../../../editor/src/js/classes/AltrpMeta';\r\nimport { getCustomFonts } from '../js/store/custom-fonts/actions';\r\nimport { generateId } from '../js/helpers';\r\n\r\nconst fontWeightOptions = [100, 200, 300, 400, 500, 600, 700, 800, 900];\r\nconst fontStyleOptions = ['normal', 'italic', 'oblique'];\r\n\r\nclass AddNewFont extends Component {\r\n    state = {\r\n        fontFamily: '',\r\n        fontWeight: '',\r\n        fontStyle: '',\r\n        woffFile: '',\r\n        woff2File: '',\r\n        ttfFile: '',\r\n        svgFile: '',\r\n        eotFile: '',\r\n        fontsLibrary: [],\r\n        editFont: false,\r\n        publishMaxSize: false,\r\n        fontSavedSuccessfully: false,\r\n    };\r\n\r\n    componentDidMount() {\r\n        new Resource({ route: `/admin/ajax/media?type=font` })\r\n            .getAll()\r\n            .then(fontsLibrary => this.setState({ fontsLibrary }));\r\n    }\r\n\r\n    changeHandler = ({ target: { value, name } }) => {\r\n        this.setState({ [name]: value });\r\n    };\r\n\r\n    postFont = e => {\r\n        e.persist();\r\n        new Resource({ route: '/admin/ajax/media' })\r\n            .postFiles(e.target.files)\r\n            .then(res => this.setState({ [e.target.name]: res[0].url, fontsLibrary: [...this.state.fontsLibrary, res[0]] }));\r\n    }\r\n\r\n    submitHandler = e => {\r\n        const { woffFile, woff2File, ttfFile, svgFile, eotFile } = this.state;\r\n\r\n        e.preventDefault();\r\n        // if (!woffFile && !woff2File && !ttfFile && !svgFile && !eotFile) {\r\n        //   return alert('Upload font file')\r\n        // }\r\n\r\n        const { fontsLibrary, ...restProps } = this.state;\r\n        const data = {};\r\n\r\n        for (const key in restProps) {\r\n            if (restProps[key]) {\r\n                data[key] = restProps[key];\r\n            }\r\n        }\r\n        // console.log(data)\r\n        this.addNewFont(data)\r\n    }\r\n\r\n    addNewFont = async (newFont) => {\r\n        let meta = await AltrpMeta.getMetaByName(\"custom_fonts\")\r\n        let fonts = this.props.metaValue\r\n        if (fonts === null) {\r\n            fonts = []\r\n        }\r\n        const idCurrentFont = generateId()\r\n        let configNewFont = {\r\n            id: idCurrentFont,\r\n            fontFamily: newFont.fontFamily,\r\n            variations: [\r\n                {\r\n                    id: generateId(),\r\n                    fontStyle: newFont.fontStyle,\r\n                    fontWeight: newFont.fontWeight,\r\n                    woffFile: newFont.woffFile,\r\n                    woff2File: newFont.woff2File,\r\n                    ttfFile: newFont.ttfFile,\r\n                    svgFile: newFont.svgFile,\r\n                    eotFile: newFont.eotFile,\r\n                }\r\n            ]\r\n        }\r\n        fonts.push(configNewFont)\r\n        meta.setMetaValue(fonts)\r\n        await meta.save()\r\n        meta = await AltrpMeta.getMetaByName(\"custom_fonts\")\r\n        const metaValue = await meta.getMetaValue()\r\n        this.props.getCustomFonts(metaValue)\r\n        this.setState({\r\n            fontSavedSuccessfully: true,\r\n            idCurrentFontForRedirect: idCurrentFont,\r\n        })\r\n    }\r\n\r\n    editFontOn = () => {\r\n        this.setState({\r\n            editFont: true,\r\n        })\r\n    }\r\n\r\n    editFontOff = () => {\r\n        this.setState({\r\n            editFont: false,\r\n        })\r\n    }\r\n\r\n    changePublishSizeMax = () => {\r\n        this.setState({\r\n            publishMaxSize: true,\r\n        })\r\n    }\r\n\r\n    changePublishSizeMin = () => {\r\n        this.setState({\r\n            publishMaxSize: false,\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const { fontFamily, fontWeight, fontStyle, woffFile, woff2File, ttfFile, svgFile, eotFile, fontsLibrary } = this.state;\r\n\r\n        if (this.state.fontSavedSuccessfully) {\r\n            return <Redirect from=\"/admin/assets/add-new-font\" to={`/admin/assets/edit-font/${this.state.idCurrentFontForRedirect}`} />\r\n        }\r\n\r\n        return <div className=\"edit-font\">\r\n            <div className=\"custom-fonts__title\">Add New Font</div>\r\n            <div className=\"edit-font__content\">\r\n                <div className=\"edit-font__content-main\">\r\n                    <div className=\"admin-content admin-content-fonts-form\">\r\n                        <form className=\"admin-form field-form\" onSubmit={this.submitHandler}>\r\n                            <input\r\n                                className=\"edit-font__content-input edit-font__content-input-add-font\"\r\n                                placeholder=\"Enter Font Family\"\r\n                                required\r\n                                type=\"text\"\r\n                                id=\"fontFamily\"\r\n                                name=\"fontFamily\"\r\n                                value={fontFamily}\r\n                                onChange={this.changeHandler} />\r\n                            {!this.state.publishMaxSize ? <div className=\"edit-font__content-publish edit-font__content-publish_min\">\r\n                                <EditFontElementPublish pathName={this.props.location.pathname} changePublishSizeMax={this.changePublishSizeMax} changePublishSizeMin={this.changePublishSizeMin} />\r\n                            </div> : null}\r\n                            {this.state.publishMaxSize ? <div className=\"edit-font__content-publish\">\r\n                                <EditFontElementPublish pathName={this.props.location.pathname} changePublishSizeMax={this.changePublishSizeMax} changePublishSizeMin={this.changePublishSizeMin} />\r\n                            </div> : null}\r\n                            <div className=\"edit-font__content-subtitle\">Manage Your Font Files</div>\r\n                            <div className={this.state.editFont ? \"add-variatons-open\" : \"add-variatons-close\"}>\r\n                                <div className=\"edit-font__content-font-editing-line\">\r\n                                    <span className=\"edit-font__content-font-editing-line__element\"><span className=\"edit-font__content-font-editing-line__element_property\">Weight:</span><select\r\n                                        id=\"fontWeight\"\r\n                                        name=\"fontWeight\"\r\n                                        value={fontWeight}\r\n                                        onChange={this.changeHandler}\r\n                                        className=\"edit-font__content-font-editing-line__element-value\"\r\n                                    >\r\n                                        <option value=\"\"></option>\r\n                                        {fontWeightOptions.map(value => <option value={value} key={value}>{value}</option>)}\r\n                                    </select></span>\r\n                                    <span className=\"edit-font__content-font-editing-line__element\"><span className=\"edit-font__content-font-editing-line__element_property\">Style:</span><select\r\n                                        id=\"fontStyle\"\r\n                                        name=\"fontStyle\"\r\n                                        value={fontStyle}\r\n                                        onChange={this.changeHandler}\r\n                                        className=\"edit-font__content-font-editing-line__element-value\"\r\n                                    >\r\n                                        <option value=\"\"></option>\r\n                                        {fontStyleOptions.map(value => <option value={value} key={value}>{value}</option>)}\r\n                                    </select></span>\r\n                                    <span className=\"edit-font__content-font-editing-line__element edit-font__content-font-editing-line__element_description\">Elementor Is Making The Web Beautiful</span>\r\n                                    <span className=\"edit-font__content-font-editing-line__element edit-font__content-font-editing-line__element_edit\" onClick={this.editFontOff}>Close</span>\r\n                                    <span className=\"edit-font__content-font-editing-line__element edit-font__content-font-editing-line__element_delete\"><DeleteIcon fontSize=\"small\" />Delete</span>\r\n                                </div>\r\n                                <div className=\"form-group-wrap\">\r\n                                    <div className=\"form-group d-flex justify-content-between\">\r\n                                        <div className=\"form-group-input-label\">WOFF File</div>\r\n                                        <input className=\"showFontUrl\" value={woffFile} />\r\n                                        <select\r\n                                            name=\"woffFile\"\r\n                                            value={woffFile}\r\n                                            onChange={this.changeHandler}\r\n                                            className=\"form-control w-auto flex-grow-1 mx-2\"\r\n                                        >\r\n                                            <option value=\"\">The Web Open Font Format, Used by Modern Browsers</option>\r\n                                            {fontsLibrary\r\n                                                .filter(({ filename }) => filename.endsWith(\".woff\"))\r\n                                                .map(({ filename, url }) => <option value={url} key={filename}>{filename}</option>)}\r\n                                        </select>\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group d-flex justify-content-between\">\r\n                                        <div className=\"form-group-input-label\">WOFF2 File</div>\r\n                                        <input className=\"showFontUrl\" value={woff2File} />\r\n                                        <select\r\n                                            name=\"woff2File\"\r\n                                            value={woff2File}\r\n                                            onChange={this.changeHandler}\r\n                                            className=\"form-control w-auto flex-grow-1 mx-2\"\r\n                                        >\r\n                                            <option value=\"\">The Web Open Font Format 2, Used by Super Modern Browsers</option>\r\n                                            {fontsLibrary\r\n                                                .filter(({ filename }) => filename.endsWith(\".woff2\"))\r\n                                                .map(({ filename, url }) => <option value={url} key={filename}>{filename}</option>)}\r\n                                        </select>\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group d-flex justify-content-between\">\r\n                                        <div className=\"form-group-input-label\">TTF File</div>\r\n                                        <input className=\"showFontUrl\" value={ttfFile} />\r\n                                        <select\r\n                                            name=\"ttfFile\"\r\n                                            value={ttfFile}\r\n                                            onChange={this.changeHandler}\r\n                                            className=\"form-control w-auto flex-grow-1 mx-2\"\r\n                                        >\r\n                                            <option value=\"\">TrueType Fonts, Used for better supporting Safari, Android, iOS</option>\r\n                                            {fontsLibrary\r\n                                                .filter(({ filename }) => filename.endsWith(\".ttf\"))\r\n                                                .map(({ filename, url }) => <option value={url} key={filename}>{filename}</option>)}\r\n                                        </select>\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group d-flex justify-content-between\">\r\n                                        <div className=\"form-group-input-label\">SVG File</div>\r\n                                        <input className=\"showFontUrl\" value={svgFile} />\r\n                                        <select\r\n                                            name=\"svgFile\"\r\n                                            value={svgFile}\r\n                                            onChange={this.changeHandler}\r\n                                            className=\"form-control w-auto flex-grow-1 mx-2\"\r\n                                        >\r\n                                            <option value=\"\">SVG fonts allow SVG to be used as glyphs when displaying text, Used by Legacy iOS</option>\r\n                                            {fontsLibrary\r\n                                                .filter(({ filename }) => filename.endsWith(\".svg\"))\r\n                                                .map(({ filename, url }) => <option value={url} key={filename}>{filename}</option>)}\r\n                                        </select>\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group d-flex justify-content-between\">\r\n                                        <div className=\"form-group-input-label\">EOT File</div>\r\n                                        <input className=\"showFontUrl\" value={eotFile} />\r\n                                        <select\r\n                                            name=\"eotFile\"\r\n                                            value={eotFile}\r\n                                            onChange={this.changeHandler}\r\n                                            className=\"form-control w-auto flex-grow-1 mx-2\"\r\n                                        >\r\n                                            <option value=\"\">Embedded OpenType, Used by IE6-IE9 Browsers</option>\r\n                                            {fontsLibrary\r\n                                                .filter(({ filename }) => filename.endsWith(\".eot\"))\r\n                                                .map(({ filename, url }) => <option value={url} key={filename}>{filename}</option>)}\r\n                                        </select>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                    <button onClick={this.editFontOn} className=\"edit-font__content-main-btn\">ADD FONT VARIATION</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(null, { getCustomFonts }),\r\n    withRouter\r\n)(AddNewFont);","import React, {Component} from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport Times from \"../../../svgs/times.svg\";\r\nimport { assetsToggle } from \"../../store/assets-browser/actions\";\r\nimport Resource from \"../Resource\";\r\nimport '../../../sass/assets-browser.scss';\r\nimport toDataURL from \"../../helpers/to-data-url\";\r\n\r\n\r\nclass AssetsBrowser extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.tabClick = this.tabClick.bind(this);\r\n    this.toggleBrowser = this.toggleBrowser.bind(this);\r\n    this.selectAsset = this.selectAsset.bind(this);\r\n    this.chooseAsset = this.chooseAsset.bind(this);\r\n    this.state = {\r\n      // activeTab: 'icons',\r\n      activeTab: \"media\",\r\n      tabs: [\r\n        // {\r\n        //   name: 'upload',\r\n        //   title: 'Upload Media File',\r\n        // },\r\n        {\r\n          name: \"icons\",\r\n          title: \"Icons Library\"\r\n        },\r\n        {\r\n          name: \"media\",\r\n          title: \"Media Library\"\r\n        },\r\n        {\r\n          name: \"video\", //TODO: логично было бы эту вкладку назвать Media\r\n          title: \"Video Library\"\r\n        }\r\n      ],\r\n      svgAssets: [],\r\n      assets: this.getAssets(\"media\"),\r\n      // assets: this.getAssets('icons'),\r\n      selectedAsset: null,\r\n      mediaAssets: [],\r\n      videoAssets: []\r\n    };\r\n    this.mediaResource = new Resource({ route: \"/admin/ajax/media?type=image\" });\r\n    this.svgResource  =new Resource({ route: \"/admin/ajax/media?type=svg\" });\r\n    this.videoResource = new Resource({ route: \"/admin/ajax/media?type=media\" });\r\n  }\r\n\r\n  componentDidUpdate(prevProps, nextContext) {\r\n    if(this.props.tabs && prevProps.tabs !== this.props.tabs) {\r\n      let tabs = [...this.state.tabs];\r\n      let activeTab;\r\n      tabs = tabs.filter(tab=>{\r\n        if(this.props.tabs.indexOf(tab.name) !== -1 && ! activeTab){\r\n          activeTab = tab.name;\r\n        }\r\n        return this.props.tabs.indexOf(tab.name) !== -1;\r\n      });\r\n      if(! activeTab){\r\n        activeTab = 'media';\r\n      }\r\n      this.setState(state=>({...state, tabs, activeTab }), ()=>{this.setActiveTab(activeTab)})\r\n    }\r\n  }\r\n\r\n  async componentDidMount() {\r\n    try {\r\n      this.videoResource.getAll()\r\n        .then(videoAssets => this.setState({ videoAssets }));\r\n\r\n      let resSvg = await this.svgResource.getAll();\r\n      this.setState(state => {\r\n        return { ...state, svgAssets: resSvg };\r\n      });\r\n\r\n      let resMedia = await this.mediaResource.getAll();\r\n      this.setState(state => {\r\n        state = { ...state, mediaAssets: resMedia };\r\n        if (state.activeTab === \"media\") {\r\n          state.assets = resMedia;\r\n        }\r\n        return state;\r\n      });\r\n    } catch (error) {\r\n      console.log(\"error\", error);\r\n    }\r\n\r\n    document.addEventListener('keydown', (event) => {\r\n      if (event.key === \"Escape\") {\r\n          this.toggleBrowser();\r\n      }\r\n    });\r\n  }\r\n  getAssets(tab) {\r\n    if (! tab) {\r\n      tab = this.state.activeTab;\r\n    }\r\n\r\n    switch (tab) {\r\n      case \"icons\": {\r\n        return this.state.svgAssets\r\n        // return [ ...iconsManager().getIconsList(), ...this.state.svgAssets];\r\n      }\r\n      case \"media\": {\r\n        return this.state ? this.state.mediaAssets : [];\r\n      }\r\n    }\r\n    return [];\r\n  }\r\n\r\n  selectAsset(e) {\r\n    let selectedAsset = e.currentTarget.dataset.assetname;\r\n    this.setState(state => {\r\n      return { ...state, selectedAsset };\r\n    });\r\n  }\r\n\r\n  tabClick(e) {\r\n    this.setActiveTab(e.target.dataset.tab);\r\n  }\r\n\r\n  setActiveTab(tab) {\r\n    this.setState(state => {\r\n      return { ...state, activeTab: tab, assets: this.getAssets(tab) };\r\n    });\r\n  }\r\n\r\n  toggleBrowser() {\r\n    this.setState(state => {\r\n      return { ...state, selectedAsset: null };\r\n    });\r\n    this.props.dispatch(assetsToggle());\r\n  }\r\n\r\n  chooseAsset() {\r\n    let asset;\r\n    this.state.assets.forEach(item => {\r\n      if (item.name === this.state.selectedAsset) {\r\n        asset = item;\r\n      }\r\n    });\r\n    if (!asset) {\r\n      throw `Asset with name ${this.state.selectedAsset} not found in Assets Browser (${this.state.activeTab})!`;\r\n    }\r\n    this.props.onChoose(asset);\r\n    this.setState(state => {\r\n      return { ...state, selectedAsset: null };\r\n    });\r\n    this.props.dispatch(assetsToggle());\r\n  }\r\n\r\n  /**\r\n   * функция добавляет контент самого изображения к возвращаемым данным об изображении\r\n   * для вставки в HTML картинок в виде данных svg base64\r\n   */\r\n  insertRaw = ()=>{\r\n\r\n    let asset;\r\n    this.state.assets.forEach(item => {\r\n      if (item.name === this.state.selectedAsset) {\r\n        asset = item;\r\n      }\r\n    });\r\n    if (!asset) {\r\n      throw `Asset with name ${this.state.selectedAsset} not found in Assets Browser (${this.state.activeTab})!`;\r\n    }\r\n    if(asset.type === 'svg'){\r\n      const resource = new Resource({route: asset.url});\r\n      resource.getAsText().then(rawSVG=>{\r\n        rawSVG = rawSVG.replace(/<!--[\\s\\S]*?-->/g, '')\r\n        rawSVG = rawSVG.replace(/<![\\s\\S]*?>/g, '')\r\n        rawSVG = rawSVG.replace(/<\\?[\\s\\S]*?\\?>/g, '')\r\n        this.props.onChoose({...asset, rawSVG});\r\n        this.props.dispatch(assetsToggle());\r\n      });\r\n    } else {\r\n      toDataURL(asset.url, (dataUrl)=>{\r\n        this.props.onChoose({...asset, dataUrl});\r\n        this.props.dispatch(assetsToggle());\r\n      })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { videoAssets, activeTab } = this.state;\r\n    const { rawEnable, } = this.props;\r\n    let classes = \"assets-browser\";\r\n    if (this.props.active) {\r\n      classes += \" assets-browser_active\";\r\n    }\r\n    let buttonClasses = \"btn\";\r\n    if (!this.state.selectedAsset) {\r\n      buttonClasses += \" btn_disabled\";\r\n    } else {\r\n      buttonClasses += \" btn_success\";\r\n    }\r\n    if(! this.props.active){\r\n      return  '';\r\n    }\r\n    return (\r\n      <div className={classes}>\r\n        <div className=\"assets-browser__bg\" onClick={this.toggleBrowser} />\r\n        <div className=\"assets-browser-content\">\r\n          <div className=\"assets-browser-top\">\r\n            <div className=\"caption\">Append Media</div>\r\n            <button className=\"btn btn_bare assets-browser__close\" onClick={this.toggleBrowser} >\r\n              <Times className=\"icon\"/>\r\n            </button>\r\n            <div className=\"assets-browser-nav\">\r\n              {this.state.tabs.map(tab => {\r\n                let tabClasses = \"assets-browser__tab\";\r\n                if (this.state.activeTab === tab.name) {\r\n                  tabClasses += \" assets-browser__tab_active\";\r\n                }\r\n                return (\r\n                  <button\r\n                    className={tabClasses}\r\n                    onClick={this.tabClick}\r\n                    key={tab.name}\r\n                    data-tab={tab.name}\r\n                  >\r\n                    {tab.title}\r\n                  </button>\r\n                );\r\n              })}\r\n            </div>\r\n          </div>\r\n          {this.state.assets.length ? (\r\n            <div className=\"assets-browser-choose-frame\">\r\n              {this.state.assets.map(asset => {\r\n                let AssetContent;\r\n                let classes = \"asset-choose\";\r\n                let assetProps = {\r\n                  className: \"asset-choose__content\"\r\n                };\r\n                if (this.state.activeTab === \"icons\") {\r\n                  if(asset.iconComponent) {\r\n                    AssetContent = asset.iconComponent;\r\n                  } else {\r\n                    AssetContent = \"img\";\r\n                    asset.name = asset.filename;\r\n                    assetProps.src = asset.url;\r\n                  }\r\n\r\n                  classes += \" asset-choose_icon\";\r\n                  // assetProps.viewBox = '0 0 20 20';\r\n                  // assetProps.viewport = '0 0 10 10';\r\n                  assetProps.width = \"35\";\r\n                  assetProps.height = \"35\";\r\n                }\r\n                if (this.state.activeTab === \"media\") {\r\n                  AssetContent = \"img\";\r\n                  assetProps.src = asset.url;\r\n                  classes += \" asset-choose_media\";\r\n                  asset.name = asset.filename;\r\n                  asset.assetType = \"media\";\r\n                }\r\n                asset.assetType = this.state.activeTab\r\n                if (this.state.selectedAsset === asset.name) {\r\n                  classes += \" asset-choose_selected\";\r\n                }\r\n                return (\r\n                  <div\r\n                    className={classes}\r\n                    data-assetname={asset.name}\r\n                    key={asset.name}\r\n                    onClick={this.selectAsset}\r\n                  >\r\n                    <AssetContent {...assetProps} />\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n          {activeTab === 'video' && <div className=\"assets-browser-choose-frame\">\r\n            {videoAssets.map(video => <div className=\"assets-list__item item col-1\" onClick={this.selectAsset}>\r\n              <svg width=\"43\" height=\"56\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" className=\"item__icon-background\">\r\n                <path d=\"M30.485 0H1.463C.655 0 0 .655 0 1.926V55c0 .345.655 1 1.463 1h40.074c.808 0 1.463-.655 1.463-1V12.978c0-.696-.093-.92-.257-1.085L31.107.257A.884.884 0 0030.485 0z\" fill=\"#F7F8F9\"></path><path d=\"M31 .151V12h11.849L31 .151z\" fill=\"#E0E1E6\"></path><path d=\"M41.537 56H1.463A1.463 1.463 0 010 54.537V39h43v15.537c0 .808-.655 1.463-1.463 1.463z\" fill=\"#7CA727\"></path><path d=\"M18.262 52h-1.86v-6.07L13.96 52h-.806l-2.444-6.07V52H8.863v-8.67h2.587l2.106 5.238 2.106-5.239h2.6V52zM21.83 52h-1.846v-8.67h4.056c.91 0 1.62.268 2.132.805.52.529.78 1.192.78 1.99 0 .788-.26 1.45-.78 1.988-.52.537-1.23.806-2.132.806h-2.21V52zm1.963-4.706c.373 0 .676-.104.91-.312.243-.217.364-.503.364-.858s-.121-.637-.364-.845c-.234-.217-.537-.325-.91-.325H21.83v2.34h1.963zM33.556 52H31.71v-1.794h-4.147V48.75l3.445-5.42h2.548v5.251h1.118v1.625h-1.118V52zm-1.846-3.419v-3.614l-2.34 3.614h2.34z\" fill=\"#fff\"></path><path d=\"M16.923 28a.964.964 0 01-.444-.108.87.87 0 01-.479-.767v-12.25a.87.87 0 01.48-.768.972.972 0 01.94.03l10.153 6.124c.265.161.427.44.427.739 0 .3-.162.577-.427.738l-10.154 6.125a.968.968 0 01-.496.137zm.923-11.532v9.063L25.357 21l-7.51-4.532z\" fill=\"#D5D7DE\"></path><path d=\"M21 35c-7.72 0-14-6.28-14-14S13.28 7 21 7s14 6.28 14 14-6.28 14-14 14zm0-26.133C14.31 8.867 8.867 14.31 8.867 21c0 6.69 5.443 12.133 12.133 12.133 6.69 0 12.133-5.443 12.133-12.133 0-6.69-5.443-12.133-12.133-12.133z\" fill=\"#D5D7DE\"></path>\r\n              </svg>\r\n            </div>)}\r\n          </div>}\r\n          <div className=\"assets-browser-bottom\">\r\n            <button className={buttonClasses} onClick={this.chooseAsset}>\r\n              Choose\r\n            </button>\r\n            {rawEnable && <button className={buttonClasses + ' ml-3'} onClick={this.insertRaw}>Insert Raw</button>}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    ...state.assetsManagerSettings\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps)(AssetsBrowser);\r\n","/**\r\n *\r\n * @param {string} url\r\n * @param {function} callback - функция, в которую передается строка в виду dataUrl\r\n */\r\nexport default function toDataURL(url, callback) {\r\n  var xhr = new XMLHttpRequest();\r\n  xhr.onload = function() {\r\n    var reader = new FileReader();\r\n    reader.onloadend = function() {\r\n      callback(reader.result);\r\n    }\r\n    reader.readAsDataURL(xhr.response);\r\n  };\r\n  xhr.open('GET', url);\r\n  xhr.responseType = 'blob';\r\n  xhr.send();\r\n}\r\n","export const SET_USER_DATA = 'SET_USER_DATA';\r\nexport const SET_USERS_ONLINE = 'SET_USERS_ONLINE';\r\n\r\nexport function setUserData(userData) {\r\n  return {\r\n    userData,\r\n    type: SET_USER_DATA,\r\n  }\r\n}\r\nexport function setUsersOnline(members){\r\n  return { type: SET_USERS_ONLINE, members }\r\n}\r\n","import React, {Component} from \"react\";\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\nimport AdminTable from \"../AdminTable\";\r\nimport {Link} from \"react-router-dom\";\r\nimport CONSTANTS from '../../../../editor/src/js/consts'\r\n\r\nclass Areas extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      areas: [],\r\n    }\r\n  }\r\n\r\n  async componentDidMount() {\r\n    this.updateAreas();\r\n  }\r\n\r\n  updateAreas = async () => {\r\n    const resource = new Resource({route: '/admin/ajax/areas'});\r\n    let areas = await resource.getAll();\r\n    areas = areas.filter(area => CONSTANTS.DEFAULT_AREAS.indexOf(area.name) === -1)\r\n    this.setState(state => ({...state, areas}))\r\n  }\r\n\r\n  render() {\r\n    return <div className=\"admin-pages admin-page\">\r\n      <div className=\"admin-heading\">\r\n        <div className=\"admin-breadcrumbs\">\r\n          <div className=\"admin-breadcrumbs__current\">Areas</div>\r\n        </div>\r\n        <Link className=\"btn\" to={`/admin/areas/add`}>Add New</Link>\r\n      </div>\r\n      <div className=\"admin-content\">\r\n        <AdminTable columns={[\r\n          {\r\n            name: 'title',\r\n            title: 'Title',\r\n            url: true,\r\n            editUrl: true,\r\n            tag: 'Link'\r\n          },\r\n        ]}\r\n                    quickActions={[\r\n                      {\r\n                        tag: \"button\",\r\n                        route: `/admin/ajax/areas/:id`,\r\n                        method: \"delete\",\r\n                        confirm: \"Are You Sure?\",\r\n                        after: ()=>{this.updateAreas()},\r\n                        className: \"quick-action-menu__item_danger\",\r\n                        title: \"Trash\"\r\n                      }\r\n                    ]}\r\n                    rows={this.state.areas.map(area => ({\r\n                      ...area,\r\n                      editUrl: '/admin/areas/' + area.id\r\n                    }))}/>\r\n      </div>\r\n    </div>\r\n  }\r\n}\r\n\r\nexport default Areas\r\n","import React, {Component} from \"react\";\r\nimport AltrpCodeEditor from \"../altrp-editor/AltrpCodeEditor\";\r\nimport {titleToName} from \"../../js/helpers\";\r\n\r\nclass AreaForm extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    let defaultValue = {\r\n      title: '',\r\n      name: '',\r\n      settings: {\r\n        area_type: 'sidebar',\r\n        sidebar_type: '',\r\n        sidebar_location: '',\r\n        sidebar_width: '',\r\n        custom_css: '',\r\n        sidebar_checked: false,\r\n      },\r\n    };\r\n    this.state = {\r\n      value: props.value ? props.value : defaultValue,\r\n    };\r\n  }\r\n\r\n  /**\r\n   * передадим значение\r\n   */\r\n  submitForm = (e) => {\r\n    e.preventDefault();\r\n    if (this.props.onSubmit) {\r\n      this.props.onSubmit(this.state.value);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Обновим значение\r\n   * @param {*} inputValue\r\n   * @param {string} valueName\r\n   */\r\n  changeValue = (inputValue, valueName) => {\r\n    const value = {...this.state.value};\r\n    if (valueName === 'title') {\r\n      value.name = titleToName(inputValue);\r\n    }\r\n    _.set(value, valueName, inputValue);\r\n    this.setState(state => ({...state, value}))\r\n  }\r\n\r\n  render() {\r\n    const {title, settings, name} = this.state.value;\r\n    return <form method=\"post\" action=\"/ajax/areas/add\" onSubmit={this.submitForm}>\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"title\">Title</label>\r\n        <input type=\"text\" id=\"title\" required\r\n               name=\"title\"\r\n               value={title}\r\n               onChange={e => {\r\n                 this.changeValue(e.target.value, 'title')\r\n               }}\r\n               className=\"form-control\"\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"title\">Name</label>\r\n        <input type=\"text\" id=\"title\" required\r\n               name=\"title\"\r\n               disabled={true}\r\n               value={name}\r\n               className=\"form-control\"\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"settings.area_type\">Area Type</label>\r\n        <select\r\n          id=\"settings.area_type\"\r\n          required={true}\r\n          value={settings.area_type}\r\n          onChange={e => {\r\n            this.changeValue(e.target.value, 'settings.area_type');\r\n          }}\r\n          className=\"form-control\"\r\n        >\r\n          <option value=\"sidebar\">Sidebar</option>\r\n        </select>\r\n      </div>\r\n      {settings.area_type === 'sidebar' &&\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"settings.sidebar_type\">Sidebar Type</label>\r\n        <select\r\n          id=\"settings.sidebar_type\"\r\n          required={true}\r\n          value={settings.sidebar_type}\r\n          onChange={e => {\r\n            this.changeValue(e.target.value, 'settings.sidebar_type');\r\n          }}\r\n          className=\"form-control\"\r\n        >\r\n          <option value=\"\">Choose...</option>\r\n          <option value=\"content_sidebar\">Content Sidebar</option>\r\n          <option value=\"app_sidebar\">App Sidebar</option>\r\n        </select>\r\n      </div>}\r\n      {settings.area_type === 'sidebar' &&\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"settings.sidebar_location\">Sidebar Location</label>\r\n        <select\r\n          id=\"settings.sidebar_location\"\r\n          required={true}\r\n          value={settings.sidebar_location}\r\n          onChange={e => {\r\n            this.changeValue(e.target.value, 'settings.sidebar_location');\r\n          }}\r\n          className=\"form-control\"\r\n        >\r\n          <option value=\"\">Choose...</option>\r\n          <option value=\"left\">Left</option>\r\n          <option value=\"right\">Right</option>\r\n        </select>\r\n      </div>}\r\n      {settings.area_type === 'sidebar' &&\r\n      <div className=\"row\">\r\n        <div className=\"form-group col-6\">\r\n          <label htmlFor=\"settings.sidebar_width\">Sidebar Width</label>\r\n          <input type=\"text\" id=\"settings.sidebar_width\" required\r\n                 name=\"settings.sidebar_width\"\r\n                 value={settings.sidebar_width}\r\n                 onChange={e => {\r\n                   this.changeValue(e.target.value, 'settings.sidebar_width')\r\n                 }}\r\n                 className=\"form-control\"\r\n          />\r\n        </div>\r\n        <div className=\"form-group col-6\">\r\n          <label htmlFor=\"settings.sidebar_fixed\">Sidebar Fixed</label>\r\n          <br/>\r\n          <input type=\"checkbox\" id=\"settings.sidebar_fixed\"\r\n                 name=\"settings.sidebar_fixed\"\r\n                 checked={settings.sidebar_fixed}\r\n                 onChange={e => {\r\n                   console.log(e.target.checked);\r\n                   this.changeValue(e.target.checked, 'settings.sidebar_fixed')\r\n                 }}\r\n          />\r\n        </div>\r\n      </div>\r\n      }\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"settings.custom_css\">Custom CSS</label>\r\n        <AltrpCodeEditor value={settings.custom_css}\r\n                         id=\"settings.custom_css\"\r\n                         mode=\"css\"\r\n                         onChange={value => {\r\n                           this.changeValue(value, 'settings.custom_css')\r\n                         }}\r\n        />\r\n      </div>\r\n      <button className=\"btn btn_success\">{this.props.submitText || 'Add'}</button>\r\n    </form>\r\n  }\r\n}\r\n\r\nexport default AreaForm\r\n","import React, {Component} from \"react\";\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\nimport {Link} from \"react-router-dom\";\r\nimport AreaForm from \"./AreaForm\";\r\nimport {withRouter} from \"react-router\";\r\n\r\nclass AreaAdd extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {}\r\n    this.resource = new Resource({route: '/admin/ajax/areas'});\r\n  }\r\n\r\n\r\n  submitForm = value => {\r\n    try{\r\n      const res = this.resource.post(value);\r\n      alert('Success');\r\n      this.props.history.push('/admin/areas');\r\n    } catch (e) {\r\n      console.error(e);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return <div className=\"admin-pages admin-page\">\r\n      <div className=\"admin-heading\">\r\n        <div className=\"admin-breadcrumbs\">\r\n          <Link to=\"/admin/areas\" className=\"admin-breadcrumbs__link\">Areas</Link>\r\n        </div>\r\n      </div>\r\n      <div className=\"admin-content\">\r\n        <AreaForm onSubmit={this.submitForm}/>\r\n      </div>\r\n    </div>\r\n  }\r\n}\r\n\r\nexport default withRouter(AreaAdd)\r\n","import {withRouter} from \"react-router\";\r\nimport React, {Component} from \"react\";\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\nimport {Link} from \"react-router-dom\";\r\nimport AreaForm from \"./AreaForm\";\r\n\r\n\r\nclass AreaEdit extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n    this.resource = new Resource({route: '/admin/ajax/areas'});\r\n  }\r\n\r\n  async componentDidMount() {\r\n    try {\r\n      let value = await this.resource.get(this.props.match.params.id)\r\n      this.setState(state=>({...state, value}))\r\n    } catch (e) {\r\n      console.error(e);\r\n    }\r\n  }\r\n\r\n  submitForm = value => {\r\n    try{\r\n      const res = this.resource.put(this.props.match.params.id, value);\r\n      alert('Success');\r\n      this.props.history.push('/admin/areas');\r\n    } catch (e) {\r\n      console.error(e);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return <div className=\"admin-pages admin-page\">\r\n      <div className=\"admin-heading\">\r\n        <div className=\"admin-breadcrumbs\">\r\n          <Link to=\"/admin/areas\" className=\"admin-breadcrumbs__link\">Areas</Link>\r\n        </div>\r\n      </div>\r\n      <div className=\"admin-content\">\r\n        {this.state.value &&\r\n        <AreaForm onSubmit={this.submitForm}\r\n                  submitText={'Update'}\r\n                  value={this.state.value}/>}\r\n      </div>\r\n    </div>\r\n  }\r\n}\r\n\r\nexport default withRouter(AreaEdit)\r\n","import React, {Component} from \"react\";\r\nimport {ReactSortable} from \"react-sortablejs\";\r\nimport IconSelect from \"../icon-select/IconSelect\";\r\n\r\n\r\nclass MenuItem extends Component {\r\n  state = {\r\n    showContent: false,\r\n  };\r\n\r\n  render() {\r\n    const {showContent} = this.state;\r\n    return (\r\n      <div className=\"altrp-menu-item\">\r\n        <div\r\n          className=\"altrp-menu-item__handle\"\r\n          onDoubleClick={() => this.setState(state => ({...state, showContent: !this.state.showContent}))}>\r\n          <span className=\"altrp-menu-item__title\">{this.props.item.label || '(no Label)'}</span>\r\n        </div>\r\n        {showContent && <div className=\"altrp-menu-item-content p-3 \">\r\n          <label htmlFor={`${this.props.indexes.join('.')}.label`} className=\"form-label\">Label</label>\r\n          <input type=\"text\"\r\n                 className=\"form-control\"\r\n                 id={`${this.props.indexes.join('.')}.label`}\r\n                 onChange={(e) => {\r\n                   let value = e.target.value;\r\n                   let path = this.props.indexes.map(((index) => {\r\n                     return `children.${index}`;\r\n                   })).join('.') + '.label'\r\n                   this.props.updateValue(value, path)\r\n                 }}\r\n                 value={this.props.item.label}/>\r\n          <label htmlFor={`${this.props.indexes.join('.')}.url`} className=\"form-label\">URL</label>\r\n          <input type=\"text\"\r\n                 className=\"form-control\"\r\n                 id={`${this.props.indexes.join('.')}.url`}\r\n                 onChange={(e) => {\r\n                   let value = e.target.value;\r\n                   let path = this.props.indexes.map(((index) => {\r\n                     return `children.${index}`;\r\n                   })).join('.') + '.url'\r\n                   this.props.updateValue(value, path)\r\n                 }}\r\n                 value={this.props.item.url}/>\r\n          <label htmlFor={`${this.props.indexes.join('.')}.icon`} className=\"form-label\">Icon</label>\r\n          <button\r\n            onClick={() => {\r\n              let value = '';\r\n              let path = this.props.indexes.map(((index) => {\r\n                return `children.${index}`;\r\n              })).join('.') + '.icon'\r\n              this.props.updateValue(value, path)\r\n            }}\r\n            className=\"btn btn_link text-danger fs-2 altrp-menu-item__delete\">delete Icon\r\n          </button>\r\n          <IconSelect\r\n            value={this.props.item.icon}\r\n            returnType=\"text\"\r\n            onChange={(icon) => {\r\n              let value = icon;\r\n              let path = this.props.indexes.map(((index) => {\r\n                return `children.${index}`;\r\n              })).join('.') + '.icon'\r\n              this.props.updateValue(value, path)\r\n            }}/>\r\n          <button\r\n            onClick={() => {\r\n              this.props.deleteItem(this.props.indexes)\r\n            }}\r\n            className=\"btn btn_link text-danger fs-2 altrp-menu-item__delete\">delete\r\n          </button>\r\n        </div>}\r\n        <ReactSortable\r\n          className=\"altrp-menu-item-children\"\r\n          group=\"nested\"\r\n          setList={(newList) => this.props.updateChildren(newList, this.props.indexes)}\r\n          list={this.props.item.children}>\r\n          {this.props.item.children.map((item, idx) => {\r\n            return <MenuItem\r\n              item={item}\r\n              key={item.id}\r\n              indexes={[...this.props.indexes, idx]}\r\n              deleteItem={this.props.deleteItem}\r\n              updateChildren={this.props.updateChildren}\r\n              updateValue={this.props.updateValue}/>\r\n          })}\r\n        </ReactSortable>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MenuItem\r\n","import React, {Component} from \"react\";\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\nimport styled from 'styled-components';\r\nimport {ReactSortable} from \"react-sortablejs\";\r\nimport {generateId} from \"../../js/helpers\";\r\nimport MenuItem from \"./MenuItem\";\r\nimport mutate from \"dot-prop-immutable\";\r\nimport {mbParseJSON} from \"../../../../front-app/src/js/helpers\";\r\nimport IconSelect from \"../icon-select/IconSelect\";\r\n\r\n\r\nconst defaultValue = {\r\n  name: '',\r\n  children: [],\r\n  settings: {\r\n    toggle_icon: ''\r\n  },\r\n};\r\nconst Wrapper = styled.div`\r\n  & {\r\n    border: 1px solid #dcdcde;\r\n  }\r\n\r\n  & .altrp-menu-item {\r\n    line-height: 1.5;\r\n    position: relative;\r\n  }\r\n\r\n  & .altrp-menu-item__handle {\r\n    border: 1px solid #dcdcde;\r\n    position: relative;\r\n    padding: 10px 15px;\r\n    height: auto;\r\n    min-height: 20px;\r\n    max-width: 382px;\r\n    line-height: 1.5;\r\n    overflow: hidden;\r\n    word-wrap: break-word;\r\n    cursor: move;\r\n    background-color: #F7F8F9;\r\n  }\r\n\r\n  & .altrp-menu-item-content {\r\n    border: 1px solid #dcdcde;\r\n    border-top: none;\r\n    max-width: 382px;\r\n  }\r\n\r\n  & .altrp-menu-builder-top {\r\n    border-bottom: 1px solid #dcdcde;\r\n\r\n    .form-control {\r\n      width: 400px;\r\n    }\r\n  }\r\n\r\n  & .altrp-menu-sortable {\r\n    width: calc(100% - 400px);\r\n    background-color: #fff;\r\n  }\r\n\r\n  & .altrp-menu-item-children {\r\n    padding-bottom: 6px;\r\n    padding-top: 6px;\r\n    padding-left: 20px;\r\n  }\r\n\r\n  & .altrp-menu-item-content .form-control:not(:first-child) {\r\n    margin-bottom: 13px;\r\n  }\r\n\r\n  & .altrp-menu-builder-add {\r\n    width: 400px;\r\n    border-right: 1px solid #dcdcde;\r\n\r\n    .form-label {\r\n      width: auto;\r\n      margin-bottom: 0;\r\n    }\r\n  }\r\n\r\n  & .altrp-menu-item__delete {\r\n    font-size: 12px;\r\n  }\r\n\r\n  & .altrp-menu-builder-actions {\r\n    width: 100%;\r\n    border-top: 1px solid #dcdcde;\r\n    background-color: #fff;\r\n  }\r\n`;\r\n\r\n\r\nclass MenuBuilder extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      value: {...defaultValue},\r\n      new: {\r\n        label: '',\r\n        url: '',\r\n      }\r\n    };\r\n    this.resource = new Resource({route: '/admin/ajax/menus'})\r\n  }\r\n\r\n  async componentDidMount() {\r\n    if (!this.props.menuId) {\r\n      return;\r\n    }\r\n    try {\r\n      let menu = await this.resource.get(this.props.menuId);\r\n      menu.children = mbParseJSON(menu.children, []);\r\n      if(! menu.name){\r\n        menu.name = '';\r\n      }\r\n      if(! menu.settings){\r\n        menu.settings = {toggle_icon: ''};\r\n      } else {\r\n        menu.settings = mbParseJSON(menu.settings, {toggle_icon: ''});\r\n      }\r\n      this.setState(state => ({...state, value: menu}));\r\n    } catch (e) {\r\n      // console.error(e);\r\n      this.props.fetchError && this.props.fetchError();\r\n    }\r\n    this.setState(state => ({...state, show: true}))\r\n  }\r\n\r\n  addNew = () => {\r\n    const newItem = {\r\n      children: [],\r\n      label: this.state.new.label,\r\n      url: this.state.new.url,\r\n      id: generateId(),\r\n    }\r\n    let value = {...this.state.value};\r\n    value.children = [...value.children];\r\n    value.children.push(newItem)\r\n    this.setState(state => ({...state, new: {label: '', url: '',}, value}))\r\n  }\r\n  save = async () => {\r\n    try {\r\n      let value = {...this.state.value};\r\n      value.children = JSON.stringify(value.children);\r\n      value.settings = JSON.stringify(value.settings);\r\n      let res = await this.resource.put(this.props.menuId, value)\r\n      if (res.success) {\r\n        alert('Success');\r\n        this.props.afterSave && this.props.afterSave();\r\n      }\r\n    } catch (e) {\r\n      if (e.res instanceof Promise) {\r\n        e = await e.res.then();\r\n        e = mbParseJSON(e);\r\n      } else if (e instanceof Promise) {\r\n        e = await e.then();\r\n        e = mbParseJSON(e);\r\n      }\r\n      console.error(e);\r\n      alert('Error: ' + e.message);\r\n    }\r\n  }\r\n\r\n  delete = async () => {\r\n    let allow = confirm('Sure?');\r\n    if (!allow) {\r\n      return;\r\n    }\r\n    try {\r\n      let res = await this.resource.delete(this.props.menuId)\r\n      if (res.success) {\r\n        alert('Success');\r\n        this.props.afterDelete && this.props.afterDelete();\r\n      }\r\n    } catch (e) {\r\n      if (e.res instanceof Promise) {\r\n        e = await e.res.then();\r\n        e = mbParseJSON(e);\r\n      } else if (e instanceof Promise) {\r\n        e = await e.then();\r\n        e = mbParseJSON(e);\r\n      }\r\n      console.error(e);\r\n      alert('Error: ' + e.message);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    if(! this.state.show){\r\n      return null;\r\n    }\r\n    const {value} = this.state;\r\n    return <Wrapper className=\"altrp-menu-builder d-flex flex-wrap\">\r\n      <div className=\"altrp-menu-builder-top p-3 d-flex align-items-center w-100\">\r\n        <label htmlFor=\"menu-name\" className=\"mb-0 mr-3\">Menu Name</label>\r\n        <input\r\n          type=\"text\"\r\n          id=\"menu-name\"\r\n          value={value.name}\r\n          onChange={(e)=>{\r\n            let inputValue = e.target.value;\r\n            let value = mutate.set(this.state.value, 'name', inputValue);\r\n            this.setState(state=>({...state, value}));\r\n          }}\r\n          className=\"form-control\"/>\r\n        <label htmlFor=\"toggle-icon\" className=\"mb-0 mr-3 ml-3\">Toggle Icon</label>\r\n        <IconSelect\r\n          id=\"toggle-icon\"\r\n          returnType=\"text\"\r\n          value={this.state.value.settings.toggle_icon}\r\n          maxWidth=\"50px\"\r\n          maxHeight=\"50px\"\r\n          onChange={(icon) => {\r\n            let value = mutate.set(this.state.value, 'settings.toggle_icon', icon);\r\n            this.setState(state=>({...state, value}));\r\n          }}/>\r\n      </div>\r\n\r\n      <div className=\"d-flex altrp-menu-builder-add align-items-center align-content-start p-3 flex-wrap\">\r\n        <label htmlFor={`label`} className=\"form-label \">Label</label>\r\n        <input type=\"text\"\r\n               className=\"form-control \"\r\n               id={`label`}\r\n               onChange={(e) => {\r\n                 let value = e.target.value;\r\n                 this.setState(state => ({...state, new: {...state.new, label: value}}));\r\n               }}\r\n               value={this.state.new.label}/>\r\n        <label htmlFor={`url`} className=\"form-label \">URL</label>\r\n        <input type=\"text\"\r\n               className=\"form-control \"\r\n               id={`url`}\r\n               onChange={(e) => {\r\n                 let value = e.target.value;\r\n                 this.setState(state => ({...state, new: {...state.new, url: value}}));\r\n               }}\r\n               value={this.state.new.url}/>\r\n        <button className=\"btn btn_success mt-3\" onClick={this.addNew}>Add new</button>\r\n      </div>\r\n      <ReactSortable\r\n        className=\"altrp-menu-sortable p-3\"\r\n        group=\"nested\"\r\n        handle=\".altrp-menu-item__handle\"\r\n        list={value.children}\r\n        setList={(newList) => this.setState(state => ({...state, value: {...state.value, children: newList}}))}>\r\n        {value.children.map((item, idx) => {\r\n          return <MenuItem\r\n            item={item}\r\n            key={item.id}\r\n            indexes={[idx]}\r\n            deleteItem={indexes => {\r\n              let value = this.state.value;\r\n              let path = indexes.map(((index) => {\r\n                return `children.${index}`;\r\n              })).join('.');\r\n              value = mutate.delete(value, path)\r\n              this.setState(state => ({...state, value}));\r\n            }}\r\n            updateValue={(value, path) => {\r\n              let thisValue = this.state.value;\r\n              thisValue = mutate.set(thisValue, path, value);\r\n              this.setState(state => ({...state, value: thisValue}));\r\n            }}\r\n            updateChildren={(newList, indexes) => {\r\n              let value = this.state.value;\r\n              let path = indexes.map(((index) => {\r\n                return `children.${index}`;\r\n              })).join('.') + '.children';\r\n              value = mutate.set(value, path, newList)\r\n              this.setState(state => ({...state, value}));\r\n            }}/>\r\n        })}\r\n      </ReactSortable>\r\n      <div className=\"altrp-menu-builder-actions d-flex p-3\">\r\n        <button className=\"btn btn_danger mr-3\" onClick={this.delete}>Delete</button>\r\n        <button className=\"btn btn_success\" onClick={this.save}>Save</button>\r\n      </div>\r\n    </Wrapper>;\r\n  }\r\n}\r\n\r\n\r\nexport default MenuBuilder\r\n","import React, {Component} from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\nimport MenuBuilder from \"./MenuBuilder\";\r\nimport {withRouter} from \"react-router\";\r\n\r\nclass MenuPage extends Component {\r\n  render() {\r\n    return <div className=\"admin-pages admin-page\">\r\n      <div className=\"admin-heading\">\r\n        <div className=\"admin-breadcrumbs\">\r\n          <Link to=\"/admin/menus\" className=\"admin-breadcrumbs__link\">All Menus</Link>\r\n        </div>\r\n      </div>\r\n      <div className=\"admin-content\">\r\n        <MenuBuilder\r\n          menuId={this.props.match.params?.id}\r\n          afterDelete={()=>{this.props.history.push('/admin/menus/')}}/>\r\n      </div>\r\n    </div>\r\n  }\r\n}\r\n\r\nexport default withRouter(MenuPage)\r\n","import React, {Component} from \"react\";\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\nimport {Link} from \"react-router-dom\";\r\nimport AdminTable from \"../AdminTable\";\r\nimport CONSTANTS from \"../../../../editor/src/js/consts\";\r\nimport {mbParseJSON} from \"../../../../front-app/src/js/helpers\";\r\nimport {withRouter} from \"react-router\";\r\n\r\nclass MenusList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      menus: [],\r\n    }\r\n    this.resource = new Resource({route: '/admin/ajax/menus'})\r\n  }\r\n\r\n  async componentDidMount() {\r\n    try {\r\n      let menus = await this.resource.getAll();\r\n      this.setState(state => ({...state, menus}));\r\n    } catch (e) {\r\n      console.error(e);\r\n    }\r\n  }\r\n\r\n  addNew = async()=>{\r\n    try{\r\n      let res = await this.resource.post({name: '', children: '[]'});\r\n      res = res.data;\r\n      console.log(res);\r\n      this.props.history.push(`/admin/menus/${res.id}`)\r\n    }catch (e) {\r\n      if(e.res instanceof Promise){\r\n        e = await e.res.then();\r\n        e = mbParseJSON(e);\r\n      } else if (e instanceof Promise){\r\n        e = await e.then();\r\n        e = mbParseJSON(e);\r\n      }\r\n      console.error(e);\r\n      alert('Error: ' + e.message);\r\n    }\r\n  }\r\n\r\n  updateMenus = async () => {\r\n    this.resource = new Resource({route: '/admin/ajax/menus'});\r\n    let menus = await  this.resource.getAll();\r\n    this.setState(state => ({...state, menus}))\r\n  }\r\n\r\n  render() {\r\n    return <div className=\"admin-pages admin-page\">\r\n      <div className=\"admin-heading\">\r\n        <div className=\"admin-breadcrumbs\">\r\n          <div className=\"admin-breadcrumbs__current\">Areas</div>\r\n        </div>\r\n        <button className=\"btn\" onClick={this.addNew} >Add New</button>\r\n      </div>\r\n      <div className=\"admin-content\">\r\n        <AdminTable\r\n          columns={[\r\n            {\r\n              name: 'name',\r\n              title: 'Name',\r\n              default: '(no Name)',\r\n              url: true,\r\n              editUrl: true,\r\n              tag: 'Link'\r\n            },\r\n          ]}\r\n\r\n          quickActions={[\r\n            {\r\n              tag: \"button\",\r\n              route: `/admin/ajax/menus/:id`,\r\n              method: \"delete\",\r\n              confirm: \"Are You Sure?\",\r\n              after: () => {\r\n                this.updateMenus()\r\n              },\r\n              className: \"quick-action-menu__item_danger\",\r\n              title: \"Trash\"\r\n            }\r\n          ]}\r\n          rows={this.state.menus.map(menu => ({\r\n            ...menu,\r\n            editUrl: '/admin/menus/' + menu.id\r\n          }))}/>\r\n      </div>\r\n    </div>\r\n  }\r\n}\r\n\r\nexport default withRouter(MenusList)\r\n","import React, { Component } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Redirect,\r\n  Link\r\n} from \"react-router-dom\";\r\nimport { hot } from \"react-hot-loader\";\r\nimport { Scrollbars } from \"react-custom-scrollbars\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport Bars from \"./svgs/bars.svg\";\r\nimport AssetSvg from \"./svgs/assets.svg\";\r\nimport DashboardSvg from \"./svgs/dashboard.svg\";\r\nimport PagesSvg from \"./svgs/pages.svg\";\r\nimport PluginSvg from \"./svgs/plugins.svg\";\r\nimport ReportSvg from \"./svgs/reports.svg\";\r\nimport SettingSvg from \"./svgs/settings.svg\";\r\nimport TableSvg from \"./svgs/tables.svg\";\r\nimport TemplateSvg from \"./svgs/templates.svg\";\r\nimport UserSvg from \"./svgs/users.svg\";\r\n\r\nimport AdminLogo from \"./components/AdminLogo\";\r\nimport AllPages from \"./components/AllPages\";\r\nimport AdminSettings from \"./components/AdminSettings\";\r\nimport Users from \"./components/users/Users\";\r\nimport Notifications from \"./components/users/Notifications/Notifications\";\r\nimport EditNotification from \"./components/users/Notifications/EditNotification\";\r\nimport AddUserPage from \"./components/users/AddUserPage\";\r\nimport UserPage from \"./components/users/UserPage\";\r\nimport UsersTools from \"./components/users/UsersTools\";\r\nimport Assets from \"./components/Assets\";\r\nimport Dashboard from \"./components/Dashboard\";\r\nimport Plugins from \"./components/Plugins\";\r\nimport Reports from \"./components/Reports\";\r\nimport Tables from \"./components/Tables\";\r\nimport Templates from \"./components/Templates\";\r\nimport Robots from \"./components/Robots\";\r\nimport AdminModal from \"./components/AdminModal\";\r\nimport AddPage from \"./components/AddPage\";\r\nimport AddReport from \"./components/AddReport\";\r\nimport UserTopPanel from \"./components/UserTopPanel\";\r\nimport Models from \"./components/Models\";\r\nimport EditModel from \"./components/models/EditModel\";\r\nimport EditField from \"./components/models/EditField\";\r\nimport AddRelation from \"./components/models/AddRelation\";\r\nimport AddAccessor from \"./components/models/AddAccessor\";\r\nimport AddDataSource from \"./components/models/AddDataSource\";\r\nimport SQLBuilder from \"./components/SQLBuilder\";\r\nimport SqlEditor from \"./components/models/SqlEditor\";\r\nimport AccessOptions from \"./components/AccessOptions\";\r\nimport RolePage from \"./components/access/RolePage\";\r\nimport PermissionPage from \"./components/access/PermissionPage\";\r\nimport AddTable from \"./components/tables/AddTable\";\r\nimport EditTable from \"./components/tables/EditTable\";\r\nimport SettingTable from \"./components/tables/SettingTable\";\r\nimport AddMigrationPage from \"./components/tables/AddMigrationPage\";\r\nimport AdminVersion from \"./components/AdminVersion\";\r\nimport SQLEditors from \"./components/SQLEditors\";\r\nimport ColorSchemes from \"./components/dashboard/ColorSchemes\";\r\nimport ModelPage from \"./components/models/ModelPage\";\r\nimport { WithRouterAdminAssetsDropList } from \"./components/AdminAssetsDropList\";\r\nimport CustomFonts from \"./components/CustomFonts\";\r\nimport EditFont from \"./components/EditFont\";\r\nimport AddNewFont from \"./components/AddNewFont\";\r\n\r\nimport AssetsBrowser from \"../../editor/src/js/classes/modules/AssetsBrowser\";\r\nimport Resource from \"../../editor/src/js/classes/Resource\";\r\nimport Echo from \"laravel-echo\"\r\n\r\nimport store from \"./js/store/store\";\r\nimport { setUserData, setUsersOnline } from \"./js/store/current-user/actions\";\r\nimport { getCustomFonts } from \"./js/store/custom-fonts/actions\";\r\n\r\nimport \"./sass/admin-style.scss\";\r\n\r\nimport { changeCurrentUser } from \"../../front-app/src/js/store/current-user/actions\";\r\nimport {\r\n  setWebsocketsEnabled,\r\n  setWebsocketsKey,\r\n  setWebsocketsPort\r\n} from \"./js/store/websockets-storage/actions\";\r\nimport AltrpMeta from '../../../modules/editor/src/js/classes/AltrpMeta';\r\nimport Areas from \"./components/areas/Areas\";\r\nimport AreaAdd from \"./components/areas/AreaAdd\";\r\nimport AreaEdit from \"./components/areas/AreaEdit\";\r\nimport MenuPage from \"./components/menu-builder/MenuPage\";\r\nimport MenusList from \"./components/menu-builder/MenusList\";\r\n\r\nwindow.React = React;\r\nwindow.ReactDOM = ReactDOM;\r\nwindow.Component = React.Component;\r\n\r\nclass Admin extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      adminState: {\r\n        adminEnable: true\r\n      },\r\n      pagesMenuShow: false,\r\n      models: [],\r\n    };\r\n    this.toggleMenu = this.toggleMenu.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    store.subscribe(this.updateAdminState.bind(this));\r\n    new Resource({ route: \"/admin/ajax/model_options\" })\r\n      .getAll()\r\n      .then(({ options }) => this.setState({ models: options }));\r\n\r\n    this.getConnect();\r\n    this.getMetaName();\r\n  }\r\n\r\n  // Подключение вебсокетов\r\n  async getConnect() {\r\n    // get current user\r\n    let currentUser = await new Resource({ route: \"/ajax/current-user\" }).getAll();\r\n    currentUser = currentUser.data;\r\n    store.dispatch(changeCurrentUser(currentUser));\r\n\r\n\r\n    let pusherKey = await new Resource({ route: \"/admin/ajax/settings\" }).get(\"pusher_app_key\");\r\n    let websocketsPort = await new Resource({ route: \"/admin/ajax/settings\" }).get(\"websockets_port\");\r\n    let websocketsHost = await new Resource({ route: \"/admin/ajax/settings\" }).get(\"pusher_host\");\r\n\r\n    pusherKey = pusherKey?.pusher_app_key;\r\n    websocketsPort = websocketsPort?.websockets_port;\r\n    websocketsHost = websocketsHost?.pusher_host;\r\n\r\n    // Проверка наличия ключа и порта\r\n    if (pusherKey && websocketsPort) {\r\n      try {\r\n        window.Pusher = require(\"pusher-js\");\r\n        window.Echo = new Echo({\r\n          broadcaster: \"pusher\",\r\n          key: pusherKey,\r\n          wsHost: websocketsHost,\r\n          wsPort: websocketsPort,\r\n          forceTLS: false,\r\n          disableStats: true,\r\n        });\r\n        console.log(\"Вебсокеты включены\");\r\n\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n\r\n      // Запись ключа и порта в store\r\n      store.dispatch(setWebsocketsKey(pusherKey));\r\n      store.dispatch(setWebsocketsPort(websocketsPort));\r\n\r\n      // Подключение слушателя канала\r\n      window.Echo.private(\"App.User.\" + currentUser.id)\r\n        .notification((notification) => {\r\n          console.log(notification);\r\n        });\r\n\r\n      // Подключение слушателя для получения users online\r\n      let presenceChannel = window.Echo.join(\"online\");\r\n      let activeUsers = [];\r\n      presenceChannel.here((users) => {\r\n        activeUsers = users;\r\n        store.dispatch(setUsersOnline(activeUsers));\r\n      })\r\n        .joining((user) => {\r\n          activeUsers.push(user);\r\n          store.dispatch(setUsersOnline(activeUsers));\r\n        })\r\n        .leaving((user) => {\r\n          activeUsers.splice(activeUsers.indexOf(user), 1);\r\n          store.dispatch(setUsersOnline(activeUsers));\r\n        });\r\n\r\n    } else {\r\n      console.log(\"Вебсокеты выключены\");\r\n    }\r\n\r\n    this.getPusherConnect();\r\n  }\r\n\r\n  // Запись в store в случае успешного соединения\r\n  getPusherConnect() {\r\n    window?.Echo?.connector?.pusher.connection.bind('connected', function () {\r\n      store.dispatch(setWebsocketsEnabled(true));\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Срабатвыает, когда меняется adminState в store\r\n   */\r\n  updateAdminState() {\r\n    let adminState = store.getState().adminState;\r\n    this.setState(state => {\r\n      return { ...state, adminState: { ...adminState } };\r\n    });\r\n  }\r\n\r\n  toggleMenu() {\r\n    this.setState(state => {\r\n      return { ...state, pagesMenuShow: !state.pagesMenuShow };\r\n    });\r\n  }\r\n\r\n  assetsActive = () => {\r\n    this.setState({\r\n      isAssetsActive: true,\r\n    })\r\n  }\r\n\r\n  getMetaName = async () => {\r\n    let meta = await AltrpMeta.getMetaByName(\"custom_fonts\")\r\n\r\n    const metaValue = await meta.getMetaValue()\r\n\r\n    store.dispatch(getCustomFonts(metaValue))\r\n  }\r\n\r\n  render() {\r\n    const { models } = this.state;\r\n    let adminClasses = [\"admin\"];\r\n    if (!this.state.adminState.adminEnable) {\r\n      adminClasses.push(\"pointer-event-none\");\r\n    }\r\n    if (this.state.pagesMenuShow) {\r\n      adminClasses.push(\"admin_pages-show\");\r\n    }\r\n    return (\r\n      <div className={adminClasses.join(\" \")}>\r\n        <Router>\r\n          <nav className=\"admin-nav\">\r\n            <div className=\"admin-nav-top\">\r\n              <AdminLogo />\r\n              <Bars className=\"admin__bars\" onClick={this.toggleMenu} />\r\n            </div>\r\n            <div className=\"admin-nav-main\">\r\n              {this.state.pagesMenuShow ? (\r\n                <Scrollbars\r\n                  autoHide\r\n                  autoHideTimeout={500}\r\n                  autoHideDuration={200}\r\n                >\r\n                  <ul className=\"admin-nav-list\">\r\n                    <li>\r\n                      <Link\r\n                        to=\"/admin/pages\"\r\n                        className=\"admin-nav-list__link\"\r\n                      >\r\n                        <PagesSvg className=\"icon\" />\r\n                        <span>Pages</span>\r\n                      </Link>\r\n                    </li>\r\n                    <li>\r\n                      <Link\r\n                        to=\"/admin/reports\"\r\n                        className=\"admin-nav-list__link\"\r\n                      >\r\n                        <ReportSvg className=\"icon\" />\r\n                        <span>Reports</span>\r\n                      </Link>\r\n                    </li>\r\n                      Models\r\n                      {models\r\n                      .sort((a, b) => {\r\n                        if (a.label.toUpperCase() < b.label.toUpperCase())\r\n                          return -1;\r\n                        if (a.label.toUpperCase() > b.label.toUpperCase())\r\n                          return 1;\r\n                        return 0;\r\n                      })\r\n                      .map(({ value: id, label }) => (\r\n                        <li key={id}>\r\n                          <Link\r\n                            to={{\r\n                              pathname: `/admin/model/${id}`,\r\n                              propsSearch: label,\r\n                            }}\r\n                            className=\"admin-nav-list__link admin-nav-list__link--models\"\r\n                          >\r\n                            {label}\r\n                          </Link>\r\n                        </li>\r\n                      ))}\r\n                  </ul>\r\n                </Scrollbars>\r\n              ) : (\r\n                <Scrollbars\r\n                  autoHide\r\n                  autoHideTimeout={500}\r\n                  autoHideDuration={200}\r\n                >\r\n                  <ul className=\"admin-nav-list\">\r\n                    <li>\r\n                      <Link\r\n                        to=\"/admin/dashboard\"\r\n                        className=\"admin-nav-list__link\"\r\n                      >\r\n                        <DashboardSvg className=\"icon\" />\r\n                        <span>Dashboard</span>\r\n                      </Link>\r\n                    </li>\r\n                    <li>\r\n                      <Link\r\n                        to=\"/admin/assets\"\r\n                        className=\"admin-nav-list__link\"\r\n                      >\r\n                        <AssetSvg className=\"icon\" />\r\n                        <span>Assets</span>\r\n                      </Link>\r\n                      <WithRouterAdminAssetsDropList />\r\n                    </li>\r\n                    <li>\r\n                      {/*<Link to=\"/admin/tables\" className=\"admin-nav-list__link\">*/}\r\n                      {/*<TableSvg className=\"icon\"/>*/}\r\n                      {/*<span>Tables</span>*/}\r\n                      {/*</Link>*/}\r\n\r\n                      <Link\r\n                        to=\"/admin/tables/models\"\r\n                        className=\"admin-nav-list__link\"\r\n                      >\r\n                        <TableSvg className=\"icon\" />\r\n                        <span>Tables</span>\r\n                      </Link>\r\n                      <ul className=\"admin-nav-sublist\">\r\n                        <li>\r\n                          <Link\r\n                            to=\"/admin/tables/sql_editors\"\r\n                            className=\"admin-nav-list__link\"\r\n                          >\r\n                            <TableSvg className=\"icon\" />\r\n                            <span>SQL Editors</span>\r\n                          </Link>\r\n                        </li>\r\n                      </ul>\r\n                    </li>\r\n                    <li>\r\n                      <Link\r\n                        to=\"/admin/templates\"\r\n                        className=\"admin-nav-list__link\"\r\n                      >\r\n                        <TemplateSvg className=\"icon\" />\r\n                        <span>Templates</span>\r\n                      </Link>\r\n                    </li>\r\n                    <li>\r\n                      <Link\r\n                        to=\"/admin/areas\"\r\n                        className=\"admin-nav-list__link\"\r\n                      >\r\n                        <TemplateSvg className=\"icon\" />\r\n                        <span>Custom Areas</span>\r\n                      </Link>\r\n                    </li>\r\n                    <li>\r\n                      <Link to=\"/admin/robots\" className=\"admin-nav-list__link\">\r\n                        <TemplateSvg className=\"icon\" />\r\n                        <span>Robots</span>\r\n                      </Link>\r\n                    </li>\r\n                    {/* <li>\r\n                    <Link to=\"/admin/reports\" className=\"admin-nav-list__link\">\r\n                      <ReportSvg className=\"icon\" />\r\n                      <span>Reports</span>\r\n                    </Link>\r\n                  </li> */}\r\n                    <li>\r\n                      <Link\r\n                        to=\"/admin/users\"\r\n                        className=\"admin-nav-list__link\"\r\n                      >\r\n                        <UserSvg className=\"icon\" />\r\n                        <span>Users</span>\r\n                      </Link>\r\n                    </li>\r\n                    <li>\r\n                      <Link\r\n                        to=\"/admin/tools\"\r\n                        className=\"admin-nav-list__link\"\r\n                      >\r\n                        <span>Tools</span>\r\n                      </Link>\r\n                    </li>\r\n                    <li>\r\n                      <Link\r\n                        to=\"/admin/access/roles\"\r\n                        className=\"admin-nav-list__link\"\r\n                      >\r\n                        <UserSvg className=\"icon\" />\r\n                        <span>Access</span>\r\n                      </Link>\r\n                    </li>\r\n                    <li>\r\n                      <Link\r\n                        to=\"/admin/plugins\"\r\n                        className=\"admin-nav-list__link\"\r\n                      >\r\n                        <PluginSvg className=\"icon\" />\r\n                        <span>Plugins</span>\r\n                      </Link>\r\n                    </li>\r\n                    <li>\r\n                      <Link\r\n                        to=\"/admin/settings\"\r\n                        className=\"admin-nav-list__link\"\r\n                      >\r\n                        <SettingSvg className=\"icon\" />\r\n                        <span>Settings</span>\r\n                      </Link>\r\n                    </li>\r\n                    <li>\r\n                      <Link\r\n                        to=\"/admin/menus\"\r\n                        className=\"admin-nav-list__link\"\r\n                      >\r\n                        <SettingSvg className=\"icon\" />\r\n                        <span>Menus</span>\r\n                      </Link>\r\n                    </li>\r\n                  </ul>\r\n                </Scrollbars>\r\n              )}\r\n\r\n            </div>\r\n            <AdminVersion />\r\n          </nav>\r\n          <Switch>\r\n            <Route path=\"/admin/reports/add\">\r\n              <AddReport />\r\n            </Route>\r\n            <Route path=\"/admin/\" exact>\r\n              <Redirect to=\"/admin/dashboard\" />\r\n            </Route>\r\n            <Route path=\"/admin/settings\">\r\n              <AdminSettings />\r\n            </Route>\r\n            <Route path=\"/admin/users\" exact>\r\n              <Users />\r\n            </Route>\r\n            <Route path=\"/admin/users/new\" exact>\r\n              <AddUserPage />\r\n            </Route>\r\n            <Route path=\"/admin/users/user/:id\" exact>\r\n              <UserPage />\r\n            </Route>\r\n            <Route path=\"/admin/users/user/:id\" exact>\r\n              <Notifications />\r\n            </Route>\r\n            <Route path=\"/admin/users/user/:id/notification/:name\" exact>\r\n              <EditNotification />\r\n            </Route>\r\n            <Route path=\"/admin/users/user/:id/notification/new\" exact>\r\n              <EditNotification />\r\n            </Route>            <Route path=\"/admin/tools\">\r\n              <UsersTools />\r\n            </Route>\r\n            <Route path=\"/admin/assets/custom-fonts\">\r\n              <CustomFonts metaValue={(this.props.metaValue != '') ? this.props.metaValue : null} />\r\n            </Route>\r\n            <Route path=\"/admin/assets/add-new-font\">\r\n              <AddNewFont metaValue={(this.props.metaValue != '') ? this.props.metaValue : null} />\r\n            </Route>\r\n            <Route path=\"/admin/assets/edit-font/:id?\">\r\n              <EditFont metaValue={(this.props.metaValue != '') ? this.props.metaValue : null} />\r\n            </Route>\r\n            <Route path=\"/admin/assets\">\r\n              <Assets />\r\n            </Route>\r\n            <Route path=\"/admin/dashboard\">\r\n              <Dashboard />\r\n            </Route>\r\n            <Route path=\"/admin/dashboard/colors\">\r\n              <ColorSchemes />\r\n            </Route>\r\n            <Route path=\"/admin/plugins\">\r\n              <Plugins />\r\n            </Route>\r\n            <Route path=\"/admin/reports\">\r\n              <Reports />\r\n            </Route>\r\n            <Route path=\"/admin/tables\" exact>\r\n              <Tables />\r\n            </Route>\r\n            <Route path=\"/admin/tables/edit/:id\" component={EditTable} exact>\r\n              <EditTable />\r\n            </Route>\r\n            <Route\r\n              path=\"/admin/tables/edit/:id/setting\"\r\n              component={SettingTable}\r\n              exact\r\n            />\r\n            <Route\r\n              path=\"/admin/tables/edit/:id/setting/migrations/add\"\r\n              component={AddMigrationPage}\r\n            />\r\n            <Route path=\"/admin/tables/add\">\r\n              <AddTable />\r\n            </Route>\r\n            <Route path=\"/admin/templates\">\r\n              <Templates />\r\n            </Route>\r\n            <Route path=\"/admin/areas/add\">\r\n              <AreaAdd />\r\n            </Route>\r\n            <Route path=\"/admin/areas/:id\">\r\n              <AreaEdit />\r\n            </Route>\r\n            <Route path=\"/admin/areas\">\r\n              <Areas />\r\n            </Route>\r\n            <Route path=\"/admin/menus/:id\">\r\n              <MenuPage />\r\n            </Route>\r\n            <Route path=\"/admin/menus\">\r\n              <MenusList />\r\n            </Route>\r\n            <Route path=\"/admin/robots\">\r\n              <Robots />\r\n            </Route>\r\n            <Route path=\"/admin/pages\" exact>\r\n              <AllPages />\r\n            </Route>\r\n            <Route path=\"/admin/pages/edit/:id\">\r\n              <AddPage />\r\n            </Route>\r\n            <Route path=\"/admin/pages/add\">\r\n              <AddPage />\r\n            </Route>\r\n            <Route path=\"/admin/tables/models\" exact>\r\n              <Models />\r\n            </Route>\r\n            <Route path=\"/admin/tables/sql_editors\" exact>\r\n              <SQLEditors />\r\n            </Route>\r\n            <Route path=\"/admin/tables/sql_editors/add\">\r\n              <SqlEditor />\r\n            </Route>\r\n            <Route path=\"/admin/tables/sql_editors/edit/:id\">\r\n              <SqlEditor />\r\n            </Route>\r\n            <Route path=\"/admin/tables/models/add\">\r\n              <EditModel />\r\n            </Route>\r\n            <Route path=\"/admin/tables/models/edit/:id\" exact>\r\n              <EditModel />\r\n            </Route>\r\n            <Route path=\"/admin/tables/models/:modelId/fields/add\">\r\n              <EditField />\r\n            </Route>\r\n            <Route path=\"/admin/tables/models/:modelId/fields/edit/:id\">\r\n              <EditField />\r\n            </Route>\r\n            <Route path=\"/admin/tables/models/:modelId/remote-fields/add\">\r\n              <EditField />\r\n            </Route>\r\n            <Route path=\"/admin/tables/models/:modelId/remote-fields/edit/:id\">\r\n              <EditField />\r\n            </Route>\r\n            <Route path=\"/admin/tables/models/:modelId/relations/add\">\r\n              <AddRelation />\r\n            </Route>\r\n            <Route path=\"/admin/tables/models/:modelId/relations/edit/:id\">\r\n              <AddRelation />\r\n            </Route>\r\n            <Route path=\"/admin/tables/models/:modelId/accessors/add\">\r\n              <AddAccessor />\r\n            </Route>\r\n            <Route path=\"/admin/tables/models/:modelId/accessors/edit/:id\">\r\n              <AddAccessor />\r\n            </Route>\r\n            <Route path=\"/admin/tables/models/:modelId/queries/add\">\r\n              <SQLBuilder />\r\n            </Route>\r\n            <Route path=\"/admin/tables/models/:modelId/queries/edit/:id\">\r\n              <SQLBuilder />\r\n            </Route>\r\n            <Route path=\"/admin/tables/data-sources/add\">\r\n              <AddDataSource />\r\n            </Route>\r\n            <Route path=\"/admin/tables/data-sources/edit/:id\">\r\n              <AddDataSource />\r\n            </Route>\r\n            <Route path=\"/admin/access/roles/add\">\r\n              <RolePage />\r\n            </Route>\r\n            <Route path=\"/admin/access/roles/edit/:id\">\r\n              <RolePage />\r\n            </Route>\r\n            <Route path=\"/admin/access/permissions/add\">\r\n              <PermissionPage />\r\n            </Route>\r\n            <Route path=\"/admin/access/permissions/edit/:id\">\r\n              <PermissionPage />\r\n            </Route>\r\n            <Route path=\"/admin/access\">\r\n              <AccessOptions />\r\n            </Route>\r\n            <Route path=\"/admin/model/:id\">\r\n              <ModelPage />\r\n            </Route>\r\n          </Switch>\r\n        </Router>\r\n        <AdminModal />\r\n        <UserTopPanel />\r\n        <AssetsBrowser />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nlet _export;\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    metaValue: state.customFonts.metaValue,\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    setUserData: user => dispatch(setUserData(user)),\r\n    getCustomFonts: metaValue => dispatch(getCustomFonts(metaValue))\r\n  }\r\n};\r\n\r\nAdmin = connect(mapStateToProps, mapDispatchToProps)(Admin)\r\nif (process.env.NODE_ENV === \"production\") {\r\n  _export = Admin;\r\n} else {\r\n  _export = hot(module)(Admin);\r\n}\r\n\r\nexport default _export;\r\n","import {connect} from \"react-redux\";\r\nclass AltrpCodeEditor extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      value: this.prepareIncomingValue(this.props.value) || '',\r\n    };\r\n\r\n    this.editorProps = {...this.props};\r\n\r\n    this.editorProps.theme = this.props.theme || 'textmate';\r\n    this.editorProps.mode = this.props.mode || 'css';\r\n    if(this.props.mode === 'wrapped json'){\r\n      this.editorProps.mode = 'json';\r\n    }\r\n    // this.editorProps.onChange = this.props.onChange || this.onChange;\r\n    this.editorProps.height = this.props.height || '15em';\r\n    this.editorProps.enableLiveAutocompletion = _.get(this.props, 'enableLiveAutocompletion', true) ;\r\n    this.editorProps.onChange = (value) => {\r\n      value = this.prepareOutgoingValue(value);\r\n      if(_.isFunction(this.props.onChange)){\r\n        this.props.onChange(value);\r\n      } else {\r\n        this.onChange(value);\r\n      }\r\n    };\r\n  }\r\n  /**\r\n   * Обработка смены значения по умолчанию\r\n   */\r\n  onChange = (e) =>{\r\n    console.log(e);\r\n  };\r\n  componentDidUpdate(prevProps){\r\n    if(this.props.value !== prevProps.value){\r\n      // console.log(this.props);\r\n      // console.log(prevProps);\r\n      let value = this.prepareIncomingValue(this.props.value);\r\n      this.setState(state =>({...state, value}));\r\n      this.editor = <this.props.AceEditor\r\n          {...this.editorProps}\r\n          // mode=\"json\"\r\n          // theme=\"textmate\"\r\n          // onChange={this.onChange}\r\n          //\r\n          // name=\"aceEditor\"\r\n          // height=\"15em\"\r\n          value={value}\r\n          // setOptions={{\r\n          //   value: this.state.value || ''\r\n          // }}\r\n          // enableLiveAutocompletion={true}\r\n      />\r\n    }\r\n    if(this.props.AceEditor && ! prevProps.AceEditor){\r\n      this.setState(state =>({...state, value: this.props.value}));\r\n    }\r\n  }\r\n\r\n  /**\r\n   * обрабатвыаем значение перед отрисовкой\r\n   */\r\n  prepareIncomingValue(value){\r\n    if(! value){\r\n      return value;\r\n    }\r\n    if(this.props.mode === 'wrapped json'){\r\n      if(value[0] === \"'\" ){\r\n        value = value.substr(1);\r\n      }\r\n      if(value[value.length - 1] === \"'\" ){\r\n        value = value.slice(0, -1);\r\n      }\r\n    }\r\n    return value;\r\n  }\r\n  /**\r\n   * обрабатвыаем значение перед отправкой\r\n   */\r\n  prepareOutgoingValue(value){\r\n    if(! value){\r\n      return value;\r\n    }\r\n    if(this.props.mode === 'wrapped json'){\r\n      if(value[0] !== \"'\" ){\r\n        value = `'${value}`;\r\n      }\r\n      if(value[value.length - 1] !== \"'\" ){\r\n        value = `${value}'`;\r\n      }\r\n    }\r\n    // console.log(value);\r\n    return value;\r\n  }\r\n  render() {\r\n    let {value} = this.state;\r\n    // const editorProps = {...this.props};\r\n    //\r\n    // editorProps.theme = this.props.theme || 'textmate';\r\n    // editorProps.mode = this.props.mode || 'css';\r\n    // editorProps.onChange = this.props.onChange || this.onChange;\r\n    // editorProps.height = this.props.height || '15em';\r\n    // editorProps.enableLiveAutocompletion = _.get(this.props, 'enableLiveAutocompletion', true) ;\r\n    return<div className=\"altrp-code-editor\">\r\n     {this.props.AceEditor && (this.editor = (this.editor ||\r\n       <this.props.AceEditor\r\n           {...this.editorProps}\r\n          // mode=\"json\"\r\n          // theme=\"textmate\"\r\n          // onChange={this.onChange}\r\n          //\r\n          // name=\"aceEditor\"\r\n          // height=\"15em\"\r\n           value={value}\r\n          // setOptions={{\r\n          //   value: this.state.value || ''\r\n          // }}\r\n        // enableLiveAutocompletion={true}\r\n     />))}</div>\r\n  }\r\n}\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    AceEditor: state.aceEditorReducer.AceEditor,\r\n  }\r\n}\r\nexport default connect(mapStateToProps)(AltrpCodeEditor);","exports = module.exports = require(\"../../../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".wrapper{width:100%}.wrapper a{cursor:pointer}.wrapper a:hover{text-decoration:none}.wrapper .disabled{color:gray}.wrapper .admin-notice--heading{display:flex;align-items:center;padding:10px 20px 10px 25px}.wrapper .admin-notice--heading a{text-decoration:none;color:gray}.wrapper .admin-notice--heading a:hover{color:#315efb;text-decoration:underline}.wrapper .admin-notice-box-parent{display:block;padding:10px 20px 10px 25px}.wrapper .admin-notice-box-parent .admin-notice-general{display:flex}.wrapper .admin-notice-box-parent .admin-notice-general .form-group{margin-right:20px;min-width:25%;max-width:65%}.wrapper .admin-notice-box-parent .admin-notice-general .form-group #source{min-width:400px}.wrapper .react-tabs{padding:10px 20px 10px 25px}.wrapper .react-tabs .react-tabs__tab-panel--selected .admin-notice-condition-box{display:flex}.wrapper .react-tabs .react-tabs__tab-panel--selected .admin-notice-condition-box .btn{margin:25px 0}.wrapper .react-tabs .react-tabs__tab-panel--selected .admin-notice-condition-box .condition-box{width:35%;padding-right:10px}.wrapper .react-tabs .react-tabs__tab-panel--selected .admin-notice-condition-box .admin-notice-box-child{width:65%}.wrapper .react-tabs .react-tabs__tab-panel--selected .admin-notice-condition-box .admin-notice-box-child .condition-compare-box{width:100%}.wrapper .react-tabs .react-tabs__tab-panel--selected .admin-notice-condition-box .admin-notice-box-child .condition-compare-box .condition-box-general{display:flex;min-width:400px;max-width:100%;padding-top:10px;padding-right:10px}.wrapper .react-tabs .react-tabs__tab-panel--selected .admin-notice-condition-box .admin-notice-box-child .condition-compare-box .condition-box-general .form-group{display:flex;align-items:center;margin-right:20px}.wrapper .react-tabs .react-tabs__tab-panel--selected .admin-notice-condition-box .admin-notice-box-child .condition-compare-box .condition-box-general .form-group label{padding:0;margin:0 10px 0 0}.wrapper .react-tabs .react-tabs__tab-panel--selected .admin-notice-condition-box .admin-notice-box-child .condition-compare-box .condition-box-general .form-group #condition-input{width:250px}.wrapper .react-tabs .react-tabs__tab-panel--selected .admin-notice-condition-box .admin-notice-box-child .condition-compare-box .condition-box-general .form-group #condition-select{width:80px}.wrapper .react-tabs .react-tabs__tab-panel--selected .admin-notice-condition-box .admin-notice-box-child .condition-compare-box .admin-notice-compare-box{display:flex;justify-content:flex-start}.wrapper .react-tabs .react-tabs__tab-panel--selected .admin-notice-condition-box .admin-notice-box-child .condition-compare-box .admin-notice-compare-box .compare-box{width:60%;padding-right:10px}.wrapper .react-tabs .react-tabs__tab-panel--selected .admin-notice-condition-box .admin-notice-box-child .condition-compare-box .admin-notice-compare-box .admin-notice-box-child-compare{width:40%;margin-top:55px;margin-right:50px}.wrapper .react-tabs .react-tabs__tab-panel--selected .admin-notice-condition-box .admin-notice-box-child .condition-compare-box .admin-notice-compare-box .admin-notice-box-child-compare #value{height:60px}.wrapper .react-tabs .react-tabs__tab-panel--selected .admin-notice-condition-box .admin-notice-box-child .btn-box{display:flex;justify-content:flex-end;margin-right:50px}.wrapper .react-tabs .react-tabs__tab-panel--selected .admin-notice-condition-box .admin-notice-box-child .btn-box button{margin-left:15px}.wrapper .react-tabs .react-tabs__tab-panel--selected .admin-notice-condition-box .admin-notice-box-child .btn-box .btn_save{background-color:#91d11b}.wrapper .list-box{position:relative;height:50px}.wrapper .list-box .list-item a{margin-right:10px}.wrapper .list-box .quick-action-menu{display:none;position:absolute;bottom:4px;left:0}.wrapper .list-box .quick-action-menu.quick-action-menu--li{position:relative;bottom:0;left:10px}.wrapper .list-box .quick-action-menu__item_wrapper::after{content:\\\" | \\\";color:gray}.wrapper .list-box .quick-action-menu__item_wrapper:last-child::after{content:\\\"\\\"}.wrapper .list-box:hover .quick-action-menu{display:inline-block}.wrapper .list-box:hover .quick-action-menu.quick-action-menu--li{display:none}.wrapper .list-box:hover .quick-action-menu .quick-action-menu__item{font-size:12px;color:gray;padding:0;background-color:transparent}.wrapper .list-box:hover .quick-action-menu .quick-action-menu__item.quick-action-menu__item_danger{color:#cf0025}.wrapper .list-box:hover .quick-action-menu .quick-action-menu__item:hover{text-decoration:underline}.wrapper .list-box li:hover .quick-action-menu.quick-action-menu--li{display:inline-block}.admin-users-notice .admin-breadcrumbs{margin:25px 10px}.admin-users-notice .admin-breadcrumbs a{text-decoration:none;color:gray}.admin-users-notice .admin-breadcrumbs a:hover{color:#315efb;text-decoration:underline}.send-checkbox-box label{margin-right:40px;margin-left:10px}\", \"\"]);\n\n// exports\n","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\nexports.i(require(\"-!../../../../../node_modules/css-loader/index.js!bootstrap/dist/css/bootstrap.css\"), \"\");\nexports.i(require(\"-!../../../../../node_modules/css-loader/index.js!bootstrap/dist/css/bootstrap-grid.min.css\"), \"\");\nexports.i(require(\"-!../../../../../node_modules/css-loader/index.js!react-datepicker/dist/react-datepicker.css\"), \"\");\nexports.push([module.id, \"@import url(https://fonts.googleapis.com/css?family=Roboto:100,100italic,200,200italic,300,300italic,400,400italic,500,500italic,600,600italic,700,700italic,800,800italic,900,900italic&subset=cyrillic);\", \"\"]);\nexports.push([module.id, \"@import url(https://fonts.googleapis.com/css?family=Montserrat:100,100italic,200,200italic,300,300italic,400,400italic,500,500italic,600,600italic,700,700italic,800,800italic,900,900italic&subset=cyrillic);\", \"\"]);\nexports.push([module.id, \"@import url(https://fonts.googleapis.com/css?family=Open+Sans:100,100italic,200,200italic,300,300italic,400,400italic,500,500italic,600,600italic,700,700italic,800,800italic,900,900italic&subset=cyrillic);\", \"\"]);\nexports.push([module.id, \"@import url(https://fonts.googleapis.com/css?family=PT+Sans:100,100italic,200,200italic,300,300italic,400,400italic,500,500italic,600,600italic,700,700italic,800,800italic,900,900italic&subset=cyrillic);\", \"\"]);\n\n// module\nexports.push([module.id, \"html{height:100%}body,*,*:focus,*::before,*::after{box-sizing:border-box;outline:none}body{font-family:Roboto,sans-serif;margin:0;overflow-x:hidden;color:#242424;display:flex;flex-direction:column;height:100%}a,button,svg,path{-webkit-transition-duration:.2s;-moz-transition-duration:.2s;-ms-transition-duration:.2s;-o-transition-duration:.2s;transition-duration:.2s;font-family:Roboto,sans-serif}.btn:active,.btn:focus,a:active,a:focus,button:active,button:focus{outline:none;box-shadow:none}button{cursor:pointer}.btn_grey{background-color:#8e94aa}.btn_disabled{background-color:#8e94aa;cursor:default;font-weight:bold;color:#fff;pointer-events:none}.btn,button{padding:10px 15px;border:none;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}iframe{display:block;border:none}input[type=checkbox]{cursor:pointer}.no-transition{-webkit-transition-duration:0s !important;-moz-transition-duration:0s !important;-ms-transition-duration:0s !important;-o-transition-duration:0s !important;transition-duration:0s !important}.caption{margin-bottom:15px;font-weight:600;font-size:18px}.btn_bare{border:none;background-color:transparent}.btn_success{background-color:#87ca00;color:#fff;font-weight:bold}.btn_failure{background-color:#ff4e6e;color:#fff;font-weight:bold}.text_bold{font-weight:bold}.altrp-scroll__vertical-track{bottom:2px;top:2px;right:2px;z-index:1000;border-radius:3px}.clickable{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.cursor-pointer{cursor:pointer}.rotate-180{transform:rotatex(180deg)}.altrp-label{display:block}#editor-content .fixed-section,.fixed-section,.fixed-section .altrp-section{position:fixed;z-index:55;width:auto}.position-relative{position:relative}.ck.ck-balloon-panel{z-index:99999999999 !important}#ckf-modal{z-index:999999999999 !important}.export-panel{position:relative;z-index:99999999999}@media print{.export-panel{display:none}}.hidden{display:none}.admin-heading{display:flex;align-items:center;padding:10px 20px 10px 25px}.admin-breadcrumbs{margin-right:20px;font-size:28px;font-family:Montserrat,Arial,sans-serif}.admin-breadcrumbs__link{font-weight:500;font-size:28px;text-decoration:none;color:#8e94aa}.admin-breadcrumbs__link:hover{color:#315efb}.admin-breadcrumbs__separator{font-weight:bold;font-size:28px;margin-left:5px;margin-right:5px}.admin-breadcrumbs__current{font-weight:bold;font-size:28px}.admin-filters{margin-left:20px;margin-right:20px;font-size:15px;font-family:Roboto,Arial,sans-serif}.admin-filters__link{text-decoration:none;color:#8e94aa}.admin-filters__link:hover{color:#315efb}.admin-filters__separator{margin-left:5px;margin-right:5px}.admin-filters__current{font-size:15px}.btn{display:inline-block;padding:6px 12px;background:#e9e9eb;border:1.5px solid #3c455b;border-radius:2px;font-family:Roboto,Arial,sans-serif;font-weight:500;font-size:15px;line-height:18px;text-decoration:none;color:#3c455b}.btn:hover{background:#3c455b;color:#fff}.btn_success{background-color:#87ca00;border-color:#87ca00}.btn_success:hover{border-color:#343b4c}.btn_link{padding:0;border:none;background-color:transparent}.btn_link:hover{background-color:transparent;text-decoration:underline}.btn_disable{background-color:#ccc;color:#666;border-color:#666}.btn_disable:hover{background-color:#ccc;color:#666}.btn_danger{border-color:#ff4e6e;color:#fff;background-color:#ff4e6e}.btn_danger:hover{background-color:#fff;color:#ff4e6e}.form-bottom{display:flex;justify-content:flex-end}.form-label{position:relative;margin-bottom:13px;font-size:13px;display:block;width:100%}.form-label select.form__input,.form-label .form__input[type=text]{margin-top:5px;font-size:13px;border:1px solid #d5d7de}.form-label__error{position:absolute;left:0;top:100%;font-size:12px;line-height:13px;color:#ff4e6e}select.form__input,input[type=number].form__input,input[type=text].form__input{width:100%;padding:10px;line-height:16px;font-size:14px}.admin-pills .nav-item{background-color:transparent}.admin-pills .nav-link{border:1px solid #d5d7de;border-radius:3px 3px 0 0;margin-bottom:-1px;background-color:#e6e9ec;font-family:Montserrat,sans-serif;font-size:16px;font-weight:bold;color:#8e94aa}.admin-pills .nav-link.active{background-color:#fff;border-bottom-color:#fff;color:#343b4c}.admin-user-top-panel{position:absolute;top:0;right:0;height:62px;padding-right:27px}.top-panel-notification{margin-right:19px}.top-panel__portrait{margin-right:7px}.top-panel__greeting{margin-right:14px;font-size:15px;color:#8e94aa}.top-panel-logout{background-color:transparent;border:none;padding:0}.custom-tab__tabs{bottom:-1px;position:relative}.custom-tab__tab{display:inline-block;margin-right:16px;padding:.5rem 1rem;border:1px solid #d5d7de;border-radius:3px 3px 0 0;background-color:#e6e9ec;font-family:Montserrat,sans-serif;font-size:16px;font-weight:bold;color:#8e94aa;cursor:pointer}.custom-tab__tab:hover{background-color:#f1f3f5;color:#8992b4;text-decoration:none}.custom-tab__tab--selected{display:inline-block;background-color:#fff;border-bottom-color:#fff;color:#343b4c}.custom-tab__tab--selected:hover{background-color:#fff;color:#343b4c}.custom-tab__tab-panel{padding:0 10px;background-color:#fff;border:1px solid #d5d7de}.admin-table{width:100%;border:1px solid #d5d7de;border-radius:3px;overflow:hidden}.admin-table .admin-table__td{height:65px;position:relative}.admin-table .admin-table__td_check{width:45px;text-align:center}.admin-table table{border-collapse:collapse;width:100%}.admin-table-head{background-color:#fff;border-bottom:1px solid #d5d7de}.admin-table-head .admin-table__td{height:45px;font-family:Montserrat;font-style:normal;font-weight:600;font-size:16px;line-height:20px;color:#343b4c}.admin-table-body .admin-table-row:nth-child(2n){background-color:#f7f8f9}.admin-table-body .admin-table-row:nth-child(2n+1){background-color:#fff}.admin-table-body .admin-table-row .quick-action-menu{display:none;position:absolute;bottom:4px;left:0}.admin-table-body .admin-table-row .quick-action-menu.quick-action-menu--li{position:relative;bottom:0;left:10px}.admin-table-body .admin-table-row .quick-action-menu__item_wrapper::after{content:\\\" | \\\";color:#8e94aa}.admin-table-body .admin-table-row .quick-action-menu__item_wrapper:last-child::after{content:\\\"\\\"}.admin-table-body .admin-table-row:hover .quick-action-menu{display:inline-block}.admin-table-body .admin-table-row:hover .quick-action-menu.quick-action-menu--li{display:none}.admin-table-body .admin-table-row:hover .quick-action-menu .quick-action-menu__item{font-size:12px;color:#8e94aa;padding:0;background-color:transparent}.admin-table-body .admin-table-row:hover .quick-action-menu .quick-action-menu__item.quick-action-menu__item_danger{color:#cf0025}.admin-table-body .admin-table-row:hover .quick-action-menu .quick-action-menu__item:hover{text-decoration:underline}.admin-table-body .admin-table-row li:hover .quick-action-menu.quick-action-menu--li{display:inline-block}.admin-modal{display:flex;opacity:0;z-index:-1000;position:fixed;top:0;bottom:0;right:0;left:0;align-items:center;justify-content:center}.admin-modal_active{display:flex;opacity:1;z-index:1000;background-color:rgba(52,59,76,.2)}.admin-modal_active .admin-modal-content{transform:translate(0, 0vh)}.admin-modal-content{width:470px;max-height:70vh;overflow:auto;position:relative;padding:25px;background-color:#fff;border:1px solid #d5d7de;-webkit-box-shadow:0px 4px 5px rgba(0,0,0,.04);-moz-box-shadow:0px 4px 5px rgba(0,0,0,.04);box-shadow:0px 4px 5px rgba(0,0,0,.04);border-radius:3px;z-index:100;transform:translate(0, -50vh);transition-duration:.5s}.admin-modal__close{position:absolute;top:0;right:0;padding:10px;border:none;background-color:transparent}.admin-modal__close .icon{width:auto;height:auto;margin:0;display:block}.admin-modal__bg{position:absolute;top:0;bottom:0;left:0;right:0;z-index:50}.uploader{padding:48px;background-color:#fff;border:1px solid #d5d7de;border-radius:5px;-webkit-transition-duration:.5s;-moz-transition-duration:.5s;-ms-transition-duration:.5s;-o-transition-duration:.5s;transition-duration:.5s;color:#8e94aa}.uploader .icon{width:auto;height:auto;fill:#8e94aa;margin:0;transition-duration:inherit}.uploader__input{display:none}.uploader_drag-over{padding:44px;border:5px solid #71d7f7;color:#71d7f7}.uploader_drag-over .icon{fill:#71d7f7}.item{position:relative}.item__delete{position:absolute;top:0;right:0;padding:8px 15px;border:none;background-color:transparent}.item__delete-icon{transform:scale(1.2)}.item__background{position:absolute;top:5px;bottom:5px;left:5px;right:5px;background-position:center;-webkit-background-size:contain;background-size:contain;background-repeat:no-repeat;background-color:#f7f8f9}.item__icon-background{position:absolute;top:17px;right:27px;transform:scale(1.5)}.assets-list{background-color:#fff}.assets-list__item{padding-top:8.333333%}.admin-settings{width:100%;border:1px solid #d5d7de;border-radius:3px;overflow:hidden}.admin-settings .nav{margin-bottom:-1px}.admin-settings .admin-settings-table__td{height:65px;padding:8px 16px}.admin-settings .admin-settings-table__td_check{width:45px;text-align:center}.admin-settings .header-text{text-transform:uppercase;font-weight:600;font-size:16px;line-height:20px}.admin-settings .row-text{font-family:Roboto;font-style:normal;font-weight:bold;font-size:15px;line-height:18px}.admin-settings .admin-settings-button{line-height:5px;width:163px;height:30px;left:315px;top:448px;background:#87ca00;border:1.5px solid #87ca00;box-sizing:border-box;border-radius:2px}.admin-settings table{border-collapse:collapse;width:100%}.admin-settings table .admin-table__td_check{margin-right:10px}.admin-settings-head{background-color:#fff;border-bottom:1px solid #d5d7de}.admin-settings-head .admin-settings-table__td{height:45px;font-family:Montserrat;font-style:normal;font-weight:600;font-size:16px;line-height:20px;color:#343b4c}.admin-settings-body .admin-settings-table-row:nth-child(2n){background-color:#f7f8f9}.admin-settings-body .admin-settings-table-row:nth-child(2n+1){background-color:#fff}.admin_input_key,.admin_input_port,.admin_input_host{width:150px}.admin_settings_telegram{display:flex;margin-top:20px}.admin_settings_telegram .admin_input__label{font-weight:bold;margin-right:15px}.admin_settings_telegram .admin_input_key{min-width:500px}.admin_switcher{display:flex;margin-right:50px}.admin_switcher .control-switcher{display:flex;align-items:center;justify-content:center;padding-right:7px;padding-left:7px;font-size:8px;line-height:9px;width:49px;height:22px;border-radius:11px;position:relative;-webkit-transition-duration:.2s;-moz-transition-duration:.2s;-ms-transition-duration:.2s;-o-transition-duration:.2s;transition-duration:.2s;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-weight:bold}.admin_switcher .control-switcher_off{background:#e6e9ec;box-shadow:inset 1px 1px 2px rgba(0,0,0,.15),inset -1px -1px 2px rgba(0,0,0,.15);color:rgba(0,0,0,.3)}.admin_switcher .control-switcher_off .control-switcher__on-text{opacity:0}.admin_switcher .control-switcher_on{background:#87ca00;box-shadow:inset 1px 1px 2px rgba(0,0,0,.15),inset -1px -1px 2px rgba(0,0,0,.15);color:#fff}.admin_switcher .control-switcher_on .control-switcher__off-text{opacity:0}.admin_switcher .control-switcher_on .control-switcher__caret{left:30px}.admin_switcher .control-switcher__caret{position:absolute;width:16px;height:16px;top:3px;left:3px;border-radius:50%;background:#fff;box-shadow:-1px 1px 2px rgba(0,0,0,.25);-webkit-transition-duration:.2s;-moz-transition-duration:.2s;-ms-transition-duration:.2s;-o-transition-duration:.2s;transition-duration:.2s}.admin_switcher .admin_switcher__label{font-weight:bold;font-size:15px;margin-right:10px}.admin_settings_websockets .admin_settings_websockets_box{display:flex;margin-top:20px}.admin_settings_websockets .admin_input__label{margin-right:15px}.admin_settings_websockets .admin_input{margin-right:30px}.react-tabs__tab-panel{width:100%;padding:10px;border:1px solid #d5d7de;border-radius:3px;overflow:hidden;background-color:#fff}.nav-pills .react-tabs__tab{margin-right:16px;padding:.5rem 1rem;border:1px solid #d5d7de;border-radius:3px 3px 0 0;background-color:#e6e9ec;font-family:Montserrat,sans-serif;font-size:16px;font-weight:bold;color:#8e94aa}.nav-pills .react-tabs__tab--selected{background-color:#fff;border-bottom-color:#fff;color:#343b4c}.admin-users{width:100%}.admin-users .wrapper{margin:15px}.admin-users .admin-heading-users{padding:10px 0;display:flex;align-items:center}.admin-users .admin-panel{display:flex}.admin-users .admin-users-form{display:flex}.admin-users .admin-users-form .admin-users-button{margin-left:8px;flex:none}.admin-users .form-bulk-left{width:unset}.admin-users .form-bulk-right{margin-left:24px}.admin-users .form-bulk-search{margin-left:auto}.admin-users .form-control{border:1px solid #343b4c;box-sizing:border-box;box-shadow:0px 0px 0px #007cba;border-radius:2px;max-height:35px}.admin-users .admin-users-table{margin-top:10px;border:1px solid #d5d7de;height:75vh;border-radius:3px}.admin-users .table{border-bottom:1px solid #d5d7de;font-family:Roboto;font-style:normal;font-size:15px;line-height:15px}.admin-users .table thead{text-transform:uppercase;font-weight:600;font-family:Montserrat}.admin-users .table td{vertical-align:middle}.admin-users .table td a{font-family:Roboto;color:#274bc8;cursor:pointer}.admin-users .table .input-users{margin-right:10px}.admin-users .table .users-svg{position:relative;margin-right:5px;max-width:36px;max-height:36px;display:inline-block;align-items:center}.vector-svg{position:relative;margin-left:8px;width:16px;height:16px;display:inline-block;align-items:center;fill:red}.vector-svg.vector-svg--active{border:1px solid red;border-radius:100%}.role-svg{transform:rotate(180deg)}#content{width:100%;height:100vh;margin:12px}.admin-heading{display:flex;align-items:center;padding:10px 20px 10px 25px}.admin-breadcrumbs{margin-right:20px;font-size:28px;font-family:Montserrat,Arial,sans-serif}.admin-breadcrumbs__link{font-weight:500;font-size:28px;text-decoration:none;color:gray}.admin-breadcrumbs__separator{font-weight:bold;font-size:28px}.admin-breadcrumbs__current{font-weight:bold;font-size:28px}.nav{margin-top:10px}.nav-item a{font-family:Montserrat;font-style:normal;font-weight:600;font-size:16px;line-height:20px;text-transform:uppercase}.change-role{line-height:50px;padding:35px 8px 8px 8px;align-items:center}.form-control-sm{margin:0 35px 0 20px;background:#fff;border:1px solid #343b4c !important;box-sizing:border-box;box-shadow:0px 0px 0px #007cba;border-radius:2px}.form-control-sm:focus{box-shadow:none}.form-check{padding-left:1.2rem !important}.form-check-inline{margin-right:0 !important}.form-check-label{font-family:Roboto;font-style:normal;font-weight:normal;font-size:15px;line-height:18px;color:#343b4c}.form-check-label:hover{color:#007bff}.col-3{align-self:center}.col-6{padding-bottom:8px;padding-top:10px;border-top:0;border-bottom:0;margin:0 !important}.form-group{margin-top:14px !important}fieldset{padding-top:12px}.treeview{margin-top:-50px;padding:0;clear:both;font-family:Arial,sans-serif;width:100%;height:70vh}.treeview *{font-family:Roboto;font-style:normal;font-weight:normal;font-size:15px;line-height:18px;color:#8e94aa}.treeview ul{overflow:hidden;width:100%;margin:0;padding:0 0 1.5em 0;list-style-type:none}.treeview ul ul{overflow:visible;width:auto;margin:0 0 0 0;padding:0 0 0 1.5em}.treeview ul.l{border-left:1px solid;margin-left:-1px}ul{overflow:hidden}.treeview li{position:relative;padding-left:1.2em}.treeview+ul{margin-left:30px;padding-top:10px}.treeview li{margin-bottom:.8em}.treeview li{margin:0;padding:0}.treeview li li{margin:0 0 0 .5em;border-left:1px solid;padding:0}.treeview li div{position:relative;height:1.5em;min-height:16px;height:1.9em}.treeview li li div{border-bottom:1px solid}.treeview li p{position:absolute;z-index:1;top:.8em;top:1.2em;left:.95em;width:100%;margin:0;border-bottom:1px dashed;padding:0}.treeview li p.form-group-p{margin-left:7.8rem}.treeview a{padding:.1em .2em;white-space:nowrap;height:1px}.treeview a:hover{padding:.1em .2em;white-space:nowrap;height:1px;text-decoration:none}.treeview img.i{border-right:2px solid;border-bottom:.5em solid;margin-bottom:-0.5em;vertical-align:middle}.treeview a.sc{position:absolute;top:.06em;margin-left:-1em;padding:0;text-decoration:none}.treeview li p,.treeview img.i,.treeview .sc{background:#fff}.treeview ul.l,.treeview li p,.treeview img.i{border-color:#fff}.treeview ul li li,.treeview ul li li div{border-color:#999}.treeview a,.treeview a.sc,.treeview a.sc:hover{color:#8e94aa}.treeview a.core{color:#343b4c}.treeview a:hover{color:#f97c13}.group-table{height:50px;align-items:center}.group-table .text-group{margin:0 0 0 15px;font-family:Montserrat;font-style:normal;font-weight:600;font-size:16px;line-height:20px;text-transform:uppercase;color:#343b4c}.group-table .text-total{font-family:Roboto;font-style:normal;font-weight:normal;font-size:15px;line-height:18px;color:#343b4c}.col input .search-tools{height:30px;border:1px solid #ced4da}.form-tools button{min-width:-webkit-fill-available;min-height:-webkit-fill-available;border-bottom:none;border-right:none;border-top:none;border-left:1px solid #ced4da;background:#87ca00;font-family:Montserrat;font-style:normal;font-weight:bold;font-size:18px;line-height:22px;text-transform:uppercase;color:#3c455b}.form-tools button:hover{min-width:-webkit-fill-available;min-height:-webkit-fill-available;border-bottom:none;border-right:none;border-top:none;border-left:1px solid #ced4da;background:#b5ea49;font-family:Montserrat;font-style:normal;font-weight:bold;font-size:18px;line-height:22px;text-transform:uppercase;color:#3c455b}.group-table-trees{height:75vh}.form-check-group{margin-top:16px}.form-group-p{margin:0;margin-left:10px;display:inline-block}.form-group-p a{font-family:Roboto;font-style:normal;font-weight:normal;font-size:11px;line-height:14px;color:#8e94aa;text-decoration:none !important}.form-group-p span{margin:0;font-size:12px;line-height:14px;color:#8e94aa}.form-group-p a:last-child{color:#fc394d}.form-group-p a:last-child:hover{color:#fa011a}.group-vertical{display:grid;width:80%;margin:25px auto}.group-vertical button{margin-top:5px;font-family:Roboto;font-style:normal;font-weight:normal;font-size:15px;line-height:18px;text-align:center;color:#3c455b}.dangerous{display:grid;width:80%;justify-content:center;margin:350px auto auto auto}.dangerous span{width:195px;font-family:Roboto;font-style:normal;font-weight:bold;font-size:12px;line-height:14px;margin:0 19px;color:#8e94aa}.dangerous button{margin:5px auto;width:195px;height:40px;left:1651px;top:889px;background:#ff4e6e;border:1px solid #ff4e6e;box-sizing:border-box;border-radius:2px;font-family:Montserrat;font-style:normal;font-weight:bold;font-size:18px;line-height:22px;text-align:center;color:#fff}.admin-logo{width:100%;height:41px;background-color:#2a2d36}.logo{margin:8px 15px}.admin-users{width:100%}.admin-users .wrapper{margin:15px}.admin-users .admin-heading-users{padding:10px 0;display:flex;align-items:center}.admin-users .admin-panel{display:flex}.admin-users .admin-users-form{display:flex}.admin-users .admin-users-form .admin-users-button{margin-left:8px;flex:none}.admin-users .form-bulk-left{width:unset}.admin-users .form-bulk-right{margin-left:24px}.admin-users .form-bulk-search{margin-left:auto}.admin-users .form-control{border:1px solid #343b4c;box-sizing:border-box;box-shadow:0px 0px 0px #007cba;border-radius:2px;max-height:35px}.admin-users .admin-users-table{margin-top:10px;border:1px solid #d5d7de;height:75vh;border-radius:3px}.admin-users .table{border-bottom:1px solid #d5d7de;font-family:Roboto;font-style:normal;font-size:15px;line-height:15px}.admin-users .table thead{text-transform:uppercase;font-weight:600;font-family:Montserrat}.admin-users .table td{vertical-align:middle}.admin-users .table td a{font-family:Roboto;color:#274bc8;cursor:pointer}.admin-users .table .input-users{margin-right:10px}.admin-users .table .users-svg{position:relative;margin-right:5px;max-width:36px;max-height:36px;display:inline-block;align-items:center}.vector-svg{position:relative;margin-left:8px;width:16px;height:16px;display:inline-block;align-items:center;fill:red}.vector-svg.vector-svg--active{border:1px solid red;border-radius:100%}.role-svg{transform:rotate(180deg)}.btn__wrapper .btn{margin-right:20px}.btn_add{margin-top:20px}.form-group__inline-wrapper{display:flex;justify-content:space-between}.form-group__inline-wrapper__divider,.form-group__inline-wrapper .form-group_checkbox{align-self:flex-end}.form-group.form-group_width30{flex-basis:30%}.form-group.form-group_width65{flex-basis:65%}.form-group.form-group_width47{flex-basis:47.5%}.form-group.form-group_width30{flex-basis:30%}.form-group.form-group_width15{flex-basis:15%}.sub-header{margin:30px 0;font-weight:600;font-size:16px;line-height:20px;text-transform:uppercase;color:#343b4c}.field-form p,.admin-form p{color:#242424;display:block;font-family:inherit}.field-form .checkbox-group,.admin-form .checkbox-group{display:flex}.field-form .checkbox-group .form-group,.admin-form .checkbox-group .form-group{flex-grow:1}.centred{text-align:center}.checkbox-label{margin-left:10px}.flex-container{display:flex;justify-content:space-between;align-items:baseline}.label_checkbox{margin-bottom:0;cursor:pointer}.disabling-radio{margin-left:15px}.charts{display:flex;flex-wrap:wrap}.charts .card{margin-right:10px;margin-bottom:10px;min-height:300px;min-width:450px;padding:20px;border:0}.charts .card-body{padding:0}.charts .card-body .spinner-container{width:100%;height:100%;display:flex;justify-content:center;align-items:center}.charts .card-body .widget-table{overflow:auto;width:100%;height:100%}.charts .card-body .widget-table table{width:100%;font-size:.8rem}.charts .card-body .widget-table table.vertical-table tbody td:first-child{background-color:#f0f0f0;color:#666;width:50%;font-weight:600}.charts .card-body .widget-table table thead th,.charts .card-body .widget-table table tbody td{border-collapse:collapse;border:1px solid rgba(0,0,0,.125);padding:.3rem .5rem}.charts .card-body .widget-table table thead{background-color:#f0f0f0;color:#666;font-weight:600}.charts .card-header{display:flex;justify-content:space-between;align-items:center;padding:.5rem .7rem;border-bottom:none;background-color:transparent;margin-bottom:10px}.charts .card-header__name{width:80%;font-size:1.2rem;color:#2a2d36;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.charts .card-header__buttons button{border:0;background:transparent;padding:0 7px}.widget-placeholder{width:100%;height:420px;border:1px solid #dedede;overflow:hidden;border-radius:2px;margin-right:15px;padding:20px}.widget-placeholder .widget-table{overflow:auto;width:100%;height:100%}.widget-placeholder .widget-table table{width:100%;font-size:.8rem}.widget-placeholder .widget-table table.vertical-table tbody td:first-child{background-color:#f0f0f0;color:#666;width:50%;font-weight:600}.widget-placeholder .widget-table table thead th,.widget-placeholder .widget-table table tbody td{border-collapse:collapse;border:1px solid rgba(0,0,0,.125);padding:.3rem .5rem}.widget-placeholder .widget-table table thead{background-color:#f0f0f0;color:#666;font-weight:600}.form-group .react-datepicker-wrapper{width:100%}.hide-blocks .react-datepicker__header{display:none}.form-segment .form-group label{width:100%}.from-segment .form-group_checkbox{margin-bottom:25px}.document-detail_opacity-background{background-color:#000;opacity:.7;z-index:1;position:absolute;top:0;bottom:0;right:0;left:0}.document-detail{position:absolute;top:30px;left:0;right:0;margin:auto;overflow-y:hidden;height:91.6%;width:96%;background:#fff;z-index:2}.document-detail_header{display:flex;justify-content:space-between;border-bottom:1px solid #dcdcde}.document-detail__title{font-size:22px;font-weight:bold;line-height:2.3;margin-left:16px;letter-spacing:.8px}.document-detail__btn-nav-group{display:flex}.document-detail__btn-nav{color:#787c82;background-color:#fff;border:1px solid #dcdcde;border-bottom:none;padding:13px 15px}.document-detail__btn-nav:hover{border-left-color:#c3c4c7;color:#000;background-color:#dcdcde}.document-detail__btn-nav:disabled{color:#dcdcde}.document-detail__btn-nav:disabled:hover{background-color:#fff;cursor:default}.document-detail__content{display:flex;justify-content:space-between;width:100%;height:91%}.document-detail__display{display:flex;flex-direction:column;width:66%;margin:0 auto;padding:20px 30px 20px 30px}.document-detail__image{margin:20px auto;object-fit:scale-down;max-width:100%;max-height:87%}.document-detail__btn{background-color:#f6f7f7;font-size:13px;border:1px solid #1a74af;border-radius:4px;color:#1a74af;padding:5px 10px}.document-detail__btn:hover{color:#0a4b78;border-color:#0a4b78;background-color:#f0f0f1}.document-detail__btn-edit-image{width:84px;margin:0 auto}.document-detail__editing-section{width:367px;height:100%;border-left:1px solid #dcdcde;padding:11px 16px 11px 16px;font-size:12px;color:#646970;overflow-y:auto}.document-detail__data-wrap{padding-right:34px}.document-detail__data{font-weight:600;padding-bottom:15px;margin-bottom:16px;border-bottom:1px solid #dcdcde}.document-detail__data-result{font-weight:normal;word-wrap:break-word}.document-detail__line-to-change{text-align:right;margin-bottom:12px}.document-detail__line-to-change_uploated-by{margin:18px 0px 18px 36px}.document-detail__name-of-changes{margin-right:18px;vertical-align:top}.document-detail__name-of-changes__uploated-by{margin-left:18px}.document-detail__input{width:65%;border-radius:4px;height:30px;border:1px solid #8c8f94;padding:0px 8px;font-size:14px}.document-detail__textarea{width:65%;border:1px solid #8c8f94;border-radius:4px;height:62px;font-size:14px;padding:4px 8px}.document-detail__btn-copy-url{font-size:11px;margin-left:117px}.document-detail__btn-delete-wrap{border-top:1px solid #dcdcde;margin-top:24px;padding-top:15px}.document-detail__btn-delete{padding:0;background-color:#fff;color:#e55a43}.document-detail__save-notification{color:#646970;font-size:12px;position:absolute;top:62px;right:30px}.custom-fonts{width:100%;padding:17px 17px 15px 22px;background-color:#f0f0f1}.custom-fonts a{color:#1a74af;text-decoration:none;position:relative}.custom-fonts a:hover{text-decoration:none;color:#0a4b78}.custom-fonts__title{display:flex;font-size:21px;letter-spacing:1px}.custom-fonts__table-header{display:flex;justify-content:space-between;font-size:13px;margin-top:16px;margin-left:4px}.custom-fonts__sorting-options-count{color:#646970}.custom-fonts__sorting-options-count_line{border-right:2px solid #646970;padding-right:4px;margin-right:4px}.custom-fonts__btn{border:1px solid #1a74af;color:#1a74af;background:#fff;padding:0px 11px;border-radius:3px;line-height:2px;font-size:13px;background-color:#fff}.custom-fonts__btn:hover{color:#0a4b78;border-color:#0a4b78;background-color:#f0f0f1}.custom-fonts__btn_add-new{margin-left:8px;font-weight:800;height:25px;margin-top:3px;letter-spacing:.8px;padding:0px 8px 0px 8px}.custom-fonts__search{display:flex}.custom-fonts__search-input{height:31px;width:221px;border-radius:4px;border:1px solid #8c8f94;margin-right:4px;background-color:#fff}.custom-fonts__const-part-of-table{display:flex;justify-content:space-between}.custom-fonts__possible-actions{display:flex}.custom-fonts__possible-actions-drop-list{width:126px;margin-right:6px;font-size:14px;padding:5px 4px 5px 4px;color:#2c3338;cursor:pointer;background-color:#fff}.custom-fonts__possible-actions-drop-list:hover{color:#1a74af}.custom-fonts__number-of-items{font-size:12px;margin-top:11px}.custom-fonts__table{border:1px solid #c3c4c7;margin:6px 0px 10px 0px;width:100%;font-size:14px;background-color:#fff}.custom-fonts__table thead{border-bottom:1px solid #c3c4c7}.custom-fonts__table thead tr{height:36px}.custom-fonts__table thead .custom-fonts__table-font-family:hover{cursor:pointer}.custom-fonts__table tbody .custom-fonts__table-font-family{position:relative;font-weight:bold}.custom-fonts__table tbody .custom-fonts__table-font-family_hover{opacity:0}.custom-fonts__table tbody .custom-fonts__table-font-family_hover:hover{opacity:1}.custom-fonts__table tbody .custom-fonts__table-font-family_hover_edit{position:absolute;left:1px;bottom:11px;font-size:13px;font-weight:normal;border-right:1px solid #cecece;height:11px;line-height:10px;padding-right:5px;cursor:pointer}.custom-fonts__table tbody .custom-fonts__table-font-family_hover_trash{position:absolute;left:33px;bottom:8px;color:#e55a43;font-size:13px;font-weight:normal;cursor:pointer}.custom-fonts__table tbody .custom-fonts__table-preview{color:#50575e}.custom-fonts__table tbody tr{height:60px;vertical-align:initial}.custom-fonts__table tfoot{border-top:1px solid #c3c4c7}.custom-fonts__table tfoot tr{height:36px}.custom-fonts__table tfoot .custom-fonts__table-font-family:hover{cursor:pointer}.custom-fonts__table-check{width:3.5%;padding:10px 0px 0px 11px}.custom-fonts__table-font-family{width:36.3%;font-weight:normal;color:#1a74af}.custom-fonts__table-font-family:hover{color:#0a4b78}.custom-fonts__table-font-family__count{position:absolute;top:-3px;right:-22px;width:17px;height:16px;background-color:#d4dffb;border-radius:9px;font-size:9px;text-align:center;padding-top:1px}.custom-fonts__table-preview{font-weight:normal}.custom-fonts__table input{width:16px;height:16px}.edit-font{width:100%;padding:17px 17px 15px 22px;background-color:#f0f0f1}.edit-font__content{display:flex;justify-content:space-between;margin-top:15px}.edit-font__content-main{width:74.9%}.edit-font__content-main-btn{background-color:#a4afb7;color:#fff;font-size:13px;padding:7px 20px;letter-spacing:.5px;margin-top:19px;border-radius:5px}.edit-font__content-main-btn:hover{background-color:#767e83}.edit-font__content-main__variation-table{width:100%}.edit-font__content-main__variation-table .add-variations{width:200px}.edit-font__content-input{font-size:22px;padding:2px 5px 0px 7px;width:100%;color:#2c3338;border-radius:5px;border:1px solid #8c8f94}.edit-font__content-input-add-font{color:#787c82}.edit-font__content-subtitle{font-size:14px;font-weight:bold;letter-spacing:.4px;margin-top:24px;margin-bottom:6px;border-bottom:1px solid #c3c4c7}.edit-font__content-font-editing-line{border-radius:5px;background-color:#fff;font-size:13px;letter-spacing:.6px;padding:18px 35px 21px 20px;color:#6d7882;border-bottom:4px solid #f0f0f1}.edit-font__content-font-editing-line td{padding:8px 20px}.edit-font__content-font-editing-line__element{margin-right:76px}.edit-font__content-font-editing-line__element_property{font-weight:bold;margin-right:8px}.edit-font__content-font-editing-line__element_description{margin-left:15px;font-size:14px;letter-spacing:.4px;margin-right:73px}.edit-font__content-font-editing-line__element_edit{opacity:.6;margin-right:0px;letter-spacing:0px}.edit-font__content-font-editing-line__element_edit:hover{cursor:pointer;opacity:1}.edit-font__content-font-editing-line__element_delete{opacity:.6;margin-right:0px;margin-left:56px;letter-spacing:0px}.edit-font__content-font-editing-line__element_delete:hover{cursor:pointer;opacity:1;color:#b32d2e}.edit-font__content-font-editing-line__element-value{height:31px;width:81px}.edit-font__content-publish{border:1px solid #c3c4c7;margin-top:26px;background-color:#fff;height:93px}.edit-font__content-publish_min{position:absolute;right:22px;top:37px;width:18%}.edit-font__content-publish-header{border-bottom:1px solid #c3c4c7;padding:9px 3px 5px 12px;font-size:15px;font-weight:bold;display:flex;justify-content:space-between}.edit-font__content-publish-body{padding:11px;display:flex;justify-content:space-between;flex-direction:row-reverse}.edit-font__content-publish-trash{color:#b32d2e;font-size:13px;text-decoration:underline;line-height:28px}.edit-font__content-publish-trash:hover{cursor:pointer}.edit-font__content-publish-btn{font-size:13px;background-color:#2271b1;padding:7px 15px 6px 15px;color:#fff;border-radius:4px}.edit-font__content-publish-btn:hover{background-color:#0a4b78}.edit-font__content-publish-arrow{background-color:#fff;color:#787c82;padding:0}.admin-content.admin-content-fonts-form{padding:0px}.admin-content .edit-font__content-font-editing-line__element{margin-right:41px;width:200px}.admin-content .edit-font__content-font-editing-line__element_description{margin-right:52px;padding-left:0px}.admin-content .edit-font__content-font-editing-line__element_edit{margin-left:32px;margin-right:0}.admin-content .edit-font__content-font-editing-line__element_delete{margin-right:0}.form-group-wrap{padding:8px 40px 10px 40px;background-color:#fff}.form-group-wrap .form-group{padding-right:20px;padding-left:20px;padding-bottom:9px;border-bottom:4px solid #f0f0f1}.form-group-wrap .form-group-input-label{font-size:12px;letter-spacing:.8px;margin-top:0px;width:125px;padding-top:12px;padding-left:10px;color:#6d7882;font-weight:600}.form-group-wrap .form-group select{color:#495157;font-size:12px;padding:5px 5px;height:37px}.add-variatons-open{display:block}.add-variatons-close{display:none}.font-table{width:100%;background-color:#f0f0f1}.showFontUrl{width:37%;color:#495157;font-size:12px;padding:5px;border-radius:5px;border:1px solid #d5dadf}.admin{display:flex;min-height:100vh;padding-left:271px}.admin__logo{width:120px;height:44px;padding-left:12px;display:flex;align-items:center;justify-content:center}.admin__logo img{max-width:100%;max-height:100%}.admin-nav{position:fixed;z-index:1;top:0;left:0;bottom:0;overflow:hidden;height:100vh;background-color:#2a2d36;width:271px;flex-shrink:0}.admin-nav-main{height:100%}.admin-nav-top{display:flex;justify-content:space-between;align-items:center;width:271px;padding-right:5px}.admin-nav-top .nav-logo{background-color:#2a2d36}.admin-nav-list{margin-top:10px}.admin-nav-list__link{position:relative;display:flex;padding:6px;color:#fff;font-size:17px;font-weight:500}.admin-nav-list__link.admin-nav-list__link--models{margin-left:40px}.admin-nav-list__link:hover{color:#87ca00}.admin-nav-list__link:hover path{fill:#87ca00}.admin-nav-list__link:hover::before{content:\\\"\\\";position:absolute;left:1px;top:3px;border-left:4px solid #7eb223;height:28px}.admin-nav-list__link svg{position:relative;top:1px;margin:3px 16px 0 7px}.admin-nav-list_pages{position:absolute;top:44px;left:0;right:0;background-color:#2a2d36;transform:translate(100%, 0);transition-duration:.3s}.admin-nav-list .admin-nav-list--sublist_active::after{content:\\\"\\\";position:absolute;right:0;top:62px;border:8px solid transparent;border-right:8px solid #f7f8f9;display:block;width:0;height:0}.admin-nav-list .admin-nav-list--sublist_active li{background-color:#677289;position:relative}.admin-nav-list .admin-nav-list--sublist_active li:hover{background-color:#677289}.admin-nav-list .admin-nav-list--sublist_active .admin-nav-list__link{font-size:13px;text-decoration:none;padding:8px 12px 8px 12px}.admin-nav-list.admin-nav-list--sublist{display:none;position:fixed;left:271px;top:81px}.admin-nav-list.admin-nav-list--sublist::before{content:\\\"\\\";position:fixed;left:255px;top:102px;border:8px solid transparent;border-right:8px solid #677289;display:block;width:0;height:0}.admin-nav-list.admin-nav-list--sublist li{background-color:#677289;position:relative}.admin-nav-list.admin-nav-list--sublist li:hover{background-color:#677289}.admin-nav-list.admin-nav-list--sublist .admin-nav-list__link{font-size:13px;padding:8px 67px 8px 19px;text-decoration:none}.admin-nav-list li:hover .admin-nav-list.admin-nav-list--sublist{display:block}.admin-content{width:100%}.admin-caption{margin-bottom:15px;font-weight:600;font-size:18px}.admin__bars{margin:12px 12px;float:right;cursor:pointer}.admin_pages-show .admin-nav-list_pages{transform:translate(0, 0)}.admin__version{position:absolute;bottom:0;left:0;right:0;padding:5px;text-align:center;font-size:13px;color:#fff}.admin-form__subheader{text-transform:uppercase;margin-top:25px;font-weight:600;font-size:16px;line-height:20px}.icon{width:16px;height:16px;fill:#fff;margin-right:15px;display:inline-block;align-items:center}.admin-nav li{list-style-type:none;background:#343b4c}.admin-nav li:hover{background:#495267}ul{margin-left:0;padding-left:0}p{display:inline-block;color:#fff;font-weight:500;font-family:Montserrat,Arial,sans-serif}a{text-decoration:none}.admin-page{width:100%;display:flex;flex-direction:column}.admin-content{background-color:#f7f8f9;flex-grow:1;padding:13px 25px}.ace_editor{font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace}.admin-skeleton .altrp-skeleton{width:220px;height:240px}\", \"\"]);\n\n// exports\n","var escape = require(\"../../../../../../node_modules/css-loader/lib/url/escape.js\");\nexports = module.exports = require(\"../../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".pagination{display:flex;align-items:center;padding:20px 0}.pagination__version{font-family:Roboto;font-style:italic;font-weight:normal;font-size:13px;line-height:15px;color:#8e94aa;margin-right:437px}.pagination__link{text-decoration:none;font-weight:400;font-family:Roboto;font-style:italic;font-size:13px;line-height:15px;color:#673daa}.pagination__text{margin:0 9px;font-family:Roboto;font-style:normal;font-weight:normal;font-size:15px;line-height:18px;color:#343b4c}.pagination__move{width:30px;height:30px;padding:0;display:flex;justify-content:center;align-items:center;border:1px solid #8e94aa;box-sizing:border-box;cursor:pointer;border-radius:2px}.pagination__buttons{display:flex;align-items:center}.pagination__indicator{display:flex;justify-content:center;align-items:center;width:43px;height:30px;background:#fff;border:1px solid #343b4c;box-sizing:border-box;box-shadow:0px 0px 0px #007cba;border-radius:2px}.pagination__prev{background-image:url(\" + escape(require(\"../../svgs/left.svg\")) + \");background-size:7.5px 4px;margin:0 7px}.pagination__map{margin:0 9px;font-family:Roboto;font-style:normal;font-weight:normal;font-size:15px;line-height:18px;color:#343b4c}.pagination__next{margin-right:7.5px}.pagination__disabled{opacity:.5;cursor:auto}.right__arrow{transform:rotate(-180deg)}\", \"\"]);\n\n// exports\n","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\nexports.i(require(\"-!../../../../../node_modules/css-loader/index.js!bootstrap/dist/css/bootstrap-grid.min.css\"), \"\");\n\n// module\nexports.push([module.id, \"html{height:100%}body,*,*:focus,*::before,*::after{box-sizing:border-box;outline:none}body{font-family:Roboto,sans-serif;margin:0;overflow-x:hidden;color:#242424;display:flex;flex-direction:column;height:100%}a,button,svg,path{-webkit-transition-duration:.2s;-moz-transition-duration:.2s;-ms-transition-duration:.2s;-o-transition-duration:.2s;transition-duration:.2s;font-family:Roboto,sans-serif}.btn:active,.btn:focus,a:active,a:focus,button:active,button:focus{outline:none;box-shadow:none}button{cursor:pointer}.btn_grey{background-color:#8e94aa}.btn_disabled{background-color:#8e94aa;cursor:default;font-weight:bold;color:#fff;pointer-events:none}.btn,button{padding:10px 15px;border:none;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}iframe{display:block;border:none}input[type=checkbox]{cursor:pointer}.no-transition{-webkit-transition-duration:0s !important;-moz-transition-duration:0s !important;-ms-transition-duration:0s !important;-o-transition-duration:0s !important;transition-duration:0s !important}.caption{margin-bottom:15px;font-weight:600;font-size:18px}.btn_bare{border:none;background-color:transparent}.btn_success{background-color:#87ca00;color:#fff;font-weight:bold}.btn_failure{background-color:#ff4e6e;color:#fff;font-weight:bold}.text_bold{font-weight:bold}.altrp-scroll__vertical-track{bottom:2px;top:2px;right:2px;z-index:1000;border-radius:3px}.clickable{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.cursor-pointer{cursor:pointer}.rotate-180{transform:rotatex(180deg)}.altrp-label{display:block}#editor-content .fixed-section,.fixed-section,.fixed-section .altrp-section{position:fixed;z-index:55;width:auto}.position-relative{position:relative}.ck.ck-balloon-panel{z-index:99999999999 !important}#ckf-modal{z-index:999999999999 !important}.export-panel{position:relative;z-index:99999999999}@media print{.export-panel{display:none}}.hidden{display:none}.assets-browser{display:none}.assets-browser_active{position:fixed;display:flex;top:0;bottom:0;right:0;left:0;z-index:1000}.assets-browser__bg{position:absolute;top:0;left:0;bottom:0;right:0;background-color:rgba(52,59,76,.2);z-index:50}.assets-browser-content{position:absolute;top:5%;bottom:5%;left:5%;right:5%;padding-bottom:60px;z-index:100;border:1px solid #d5d7de;border-radius:3px;background-color:#fff}.assets-browser__close.btn{position:absolute;top:0;right:0;padding:10px;-webkit-transform:scale(2);-moz-transform:scale(2);-ms-transform:scale(2);-o-transform:scale(2);transform:scale(2);background-color:transparent}.assets-browser__close.btn .icon{margin:0;width:auto;height:auto}.assets-browser-top{padding:20px 20px 0;background-color:#f7f8f9}.assets-browser-top .caption{font-size:22px}.assets-browser-nav{margin-left:-20px;margin-right:-20px;padding-left:5px;padding-right:5px;border-bottom:1px solid #d5d7de}.assets-browser__tab{margin-bottom:-1px;background-color:transparent;border-top:1px solid transparent;border-left:1px solid transparent;border-right:1px solid transparent}.assets-browser__tab_active{border-top:1px solid #d5d7de;border-left:1px solid #d5d7de;border-right:1px solid #d5d7de;background-color:#fff}.assets-browser-bottom{position:absolute;bottom:0;left:0;right:0;display:flex;align-items:center;justify-content:flex-end;height:60px;padding-right:20px;border-top:1px solid #d5d7de}.assets-browser-choose-frame{display:flex;align-content:flex-start;align-items:flex-start;flex-wrap:wrap;padding:20px 20px 20px 10px;height:calc( 100% - 96.5px );overflow:auto}.asset-choose{position:relative;cursor:pointer;margin-bottom:10px;margin-left:10px;border:1px solid #d5d7de}.asset-choose__content{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%, -50%);-moz-transform:translate(-50%, -50%);-ms-transform:translate(-50%, -50%);-o-transform:translate(-50%, -50%);transform:translate(-50%, -50%)}.asset-choose_selected{background:#71d7f7}.asset-choose_icon{width:calc(5% - 10px);padding-top:calc(5% - 10px)}.asset-choose_media{width:calc(10% - 10px);padding-top:calc(10% - 10px)}.asset-choose_media .asset-choose__content{top:10px;left:10px;width:calc(100% - 20px);height:calc(100% - 20px);transform:none;object-fit:contain;object-position:center;background-color:#f7f8f9}\", \"\"]);\n\n// exports\n","var map = {\n\t\"./af\": 42786,\n\t\"./af.js\": 42786,\n\t\"./ar\": 30867,\n\t\"./ar-dz\": 14130,\n\t\"./ar-dz.js\": 14130,\n\t\"./ar-kw\": 96135,\n\t\"./ar-kw.js\": 96135,\n\t\"./ar-ly\": 56440,\n\t\"./ar-ly.js\": 56440,\n\t\"./ar-ma\": 47702,\n\t\"./ar-ma.js\": 47702,\n\t\"./ar-sa\": 16040,\n\t\"./ar-sa.js\": 16040,\n\t\"./ar-tn\": 37100,\n\t\"./ar-tn.js\": 37100,\n\t\"./ar.js\": 30867,\n\t\"./az\": 31083,\n\t\"./az.js\": 31083,\n\t\"./be\": 9808,\n\t\"./be.js\": 9808,\n\t\"./bg\": 68338,\n\t\"./bg.js\": 68338,\n\t\"./bm\": 67438,\n\t\"./bm.js\": 67438,\n\t\"./bn\": 8905,\n\t\"./bn-bd\": 76225,\n\t\"./bn-bd.js\": 76225,\n\t\"./bn.js\": 8905,\n\t\"./bo\": 11560,\n\t\"./bo.js\": 11560,\n\t\"./br\": 1278,\n\t\"./br.js\": 1278,\n\t\"./bs\": 80622,\n\t\"./bs.js\": 80622,\n\t\"./ca\": 2468,\n\t\"./ca.js\": 2468,\n\t\"./cs\": 5822,\n\t\"./cs.js\": 5822,\n\t\"./cv\": 50877,\n\t\"./cv.js\": 50877,\n\t\"./cy\": 47373,\n\t\"./cy.js\": 47373,\n\t\"./da\": 24780,\n\t\"./da.js\": 24780,\n\t\"./de\": 59740,\n\t\"./de-at\": 60217,\n\t\"./de-at.js\": 60217,\n\t\"./de-ch\": 60894,\n\t\"./de-ch.js\": 60894,\n\t\"./de.js\": 59740,\n\t\"./dv\": 5300,\n\t\"./dv.js\": 5300,\n\t\"./el\": 50837,\n\t\"./el.js\": 50837,\n\t\"./en-au\": 78348,\n\t\"./en-au.js\": 78348,\n\t\"./en-ca\": 77925,\n\t\"./en-ca.js\": 77925,\n\t\"./en-gb\": 22243,\n\t\"./en-gb.js\": 22243,\n\t\"./en-ie\": 46436,\n\t\"./en-ie.js\": 46436,\n\t\"./en-il\": 47207,\n\t\"./en-il.js\": 47207,\n\t\"./en-in\": 44175,\n\t\"./en-in.js\": 44175,\n\t\"./en-nz\": 76319,\n\t\"./en-nz.js\": 76319,\n\t\"./en-sg\": 31662,\n\t\"./en-sg.js\": 31662,\n\t\"./eo\": 92915,\n\t\"./eo.js\": 92915,\n\t\"./es\": 55655,\n\t\"./es-do\": 55251,\n\t\"./es-do.js\": 55251,\n\t\"./es-mx\": 96112,\n\t\"./es-mx.js\": 96112,\n\t\"./es-us\": 71146,\n\t\"./es-us.js\": 71146,\n\t\"./es.js\": 55655,\n\t\"./et\": 5603,\n\t\"./et.js\": 5603,\n\t\"./eu\": 77763,\n\t\"./eu.js\": 77763,\n\t\"./fa\": 76959,\n\t\"./fa.js\": 76959,\n\t\"./fi\": 11897,\n\t\"./fi.js\": 11897,\n\t\"./fil\": 42549,\n\t\"./fil.js\": 42549,\n\t\"./fo\": 94694,\n\t\"./fo.js\": 94694,\n\t\"./fr\": 94470,\n\t\"./fr-ca\": 63049,\n\t\"./fr-ca.js\": 63049,\n\t\"./fr-ch\": 52330,\n\t\"./fr-ch.js\": 52330,\n\t\"./fr.js\": 94470,\n\t\"./fy\": 5044,\n\t\"./fy.js\": 5044,\n\t\"./ga\": 29295,\n\t\"./ga.js\": 29295,\n\t\"./gd\": 2101,\n\t\"./gd.js\": 2101,\n\t\"./gl\": 38794,\n\t\"./gl.js\": 38794,\n\t\"./gom-deva\": 27884,\n\t\"./gom-deva.js\": 27884,\n\t\"./gom-latn\": 23168,\n\t\"./gom-latn.js\": 23168,\n\t\"./gu\": 95349,\n\t\"./gu.js\": 95349,\n\t\"./he\": 24206,\n\t\"./he.js\": 24206,\n\t\"./hi\": 30094,\n\t\"./hi.js\": 30094,\n\t\"./hr\": 30316,\n\t\"./hr.js\": 30316,\n\t\"./hu\": 22138,\n\t\"./hu.js\": 22138,\n\t\"./hy-am\": 11423,\n\t\"./hy-am.js\": 11423,\n\t\"./id\": 29218,\n\t\"./id.js\": 29218,\n\t\"./is\": 90135,\n\t\"./is.js\": 90135,\n\t\"./it\": 90626,\n\t\"./it-ch\": 10150,\n\t\"./it-ch.js\": 10150,\n\t\"./it.js\": 90626,\n\t\"./ja\": 39183,\n\t\"./ja.js\": 39183,\n\t\"./jv\": 24286,\n\t\"./jv.js\": 24286,\n\t\"./ka\": 12105,\n\t\"./ka.js\": 12105,\n\t\"./kk\": 47772,\n\t\"./kk.js\": 47772,\n\t\"./km\": 18758,\n\t\"./km.js\": 18758,\n\t\"./kn\": 79282,\n\t\"./kn.js\": 79282,\n\t\"./ko\": 33730,\n\t\"./ko.js\": 33730,\n\t\"./ku\": 1408,\n\t\"./ku.js\": 1408,\n\t\"./ky\": 33291,\n\t\"./ky.js\": 33291,\n\t\"./lb\": 36841,\n\t\"./lb.js\": 36841,\n\t\"./lo\": 55466,\n\t\"./lo.js\": 55466,\n\t\"./lt\": 57010,\n\t\"./lt.js\": 57010,\n\t\"./lv\": 37595,\n\t\"./lv.js\": 37595,\n\t\"./me\": 39861,\n\t\"./me.js\": 39861,\n\t\"./mi\": 35493,\n\t\"./mi.js\": 35493,\n\t\"./mk\": 95966,\n\t\"./mk.js\": 95966,\n\t\"./ml\": 87341,\n\t\"./ml.js\": 87341,\n\t\"./mn\": 5115,\n\t\"./mn.js\": 5115,\n\t\"./mr\": 10370,\n\t\"./mr.js\": 10370,\n\t\"./ms\": 9847,\n\t\"./ms-my\": 41237,\n\t\"./ms-my.js\": 41237,\n\t\"./ms.js\": 9847,\n\t\"./mt\": 72126,\n\t\"./mt.js\": 72126,\n\t\"./my\": 56165,\n\t\"./my.js\": 56165,\n\t\"./nb\": 64924,\n\t\"./nb.js\": 64924,\n\t\"./ne\": 16744,\n\t\"./ne.js\": 16744,\n\t\"./nl\": 93901,\n\t\"./nl-be\": 59814,\n\t\"./nl-be.js\": 59814,\n\t\"./nl.js\": 93901,\n\t\"./nn\": 83877,\n\t\"./nn.js\": 83877,\n\t\"./oc-lnc\": 92135,\n\t\"./oc-lnc.js\": 92135,\n\t\"./pa-in\": 15858,\n\t\"./pa-in.js\": 15858,\n\t\"./pl\": 64495,\n\t\"./pl.js\": 64495,\n\t\"./pt\": 89520,\n\t\"./pt-br\": 57971,\n\t\"./pt-br.js\": 57971,\n\t\"./pt.js\": 89520,\n\t\"./ro\": 96459,\n\t\"./ro.js\": 96459,\n\t\"./ru\": 21793,\n\t\"./ru.js\": 21793,\n\t\"./sd\": 40950,\n\t\"./sd.js\": 40950,\n\t\"./se\": 10490,\n\t\"./se.js\": 10490,\n\t\"./si\": 90124,\n\t\"./si.js\": 90124,\n\t\"./sk\": 64249,\n\t\"./sk.js\": 64249,\n\t\"./sl\": 14985,\n\t\"./sl.js\": 14985,\n\t\"./sq\": 51104,\n\t\"./sq.js\": 51104,\n\t\"./sr\": 49131,\n\t\"./sr-cyrl\": 79915,\n\t\"./sr-cyrl.js\": 79915,\n\t\"./sr.js\": 49131,\n\t\"./ss\": 85893,\n\t\"./ss.js\": 85893,\n\t\"./sv\": 98760,\n\t\"./sv.js\": 98760,\n\t\"./sw\": 91172,\n\t\"./sw.js\": 91172,\n\t\"./ta\": 27333,\n\t\"./ta.js\": 27333,\n\t\"./te\": 23110,\n\t\"./te.js\": 23110,\n\t\"./tet\": 52095,\n\t\"./tet.js\": 52095,\n\t\"./tg\": 27321,\n\t\"./tg.js\": 27321,\n\t\"./th\": 9041,\n\t\"./th.js\": 9041,\n\t\"./tk\": 19005,\n\t\"./tk.js\": 19005,\n\t\"./tl-ph\": 75768,\n\t\"./tl-ph.js\": 75768,\n\t\"./tlh\": 89444,\n\t\"./tlh.js\": 89444,\n\t\"./tr\": 72397,\n\t\"./tr.js\": 72397,\n\t\"./tzl\": 28254,\n\t\"./tzl.js\": 28254,\n\t\"./tzm\": 51106,\n\t\"./tzm-latn\": 30699,\n\t\"./tzm-latn.js\": 30699,\n\t\"./tzm.js\": 51106,\n\t\"./ug-cn\": 9288,\n\t\"./ug-cn.js\": 9288,\n\t\"./uk\": 67691,\n\t\"./uk.js\": 67691,\n\t\"./ur\": 13795,\n\t\"./ur.js\": 13795,\n\t\"./uz\": 6791,\n\t\"./uz-latn\": 60588,\n\t\"./uz-latn.js\": 60588,\n\t\"./uz.js\": 6791,\n\t\"./vi\": 65666,\n\t\"./vi.js\": 65666,\n\t\"./x-pseudo\": 14378,\n\t\"./x-pseudo.js\": 14378,\n\t\"./yo\": 75805,\n\t\"./yo.js\": 75805,\n\t\"./zh-cn\": 83839,\n\t\"./zh-cn.js\": 83839,\n\t\"./zh-hk\": 55726,\n\t\"./zh-hk.js\": 55726,\n\t\"./zh-mo\": 99807,\n\t\"./zh-mo.js\": 99807,\n\t\"./zh-tw\": 74152,\n\t\"./zh-tw.js\": 74152\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 46700;","\nvar content = require(\"!!../../../../../../../node_modules/css-loader/index.js!../../../../../../../node_modules/sass-loader/dist/cjs.js!./admin-notifications.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../../../node_modules/css-loader/index.js!../../../../../../../node_modules/sass-loader/dist/cjs.js!./admin-notifications.scss\", function() {\n\t\tvar newContent = require(\"!!../../../../../../../node_modules/css-loader/index.js!../../../../../../../node_modules/sass-loader/dist/cjs.js!./admin-notifications.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/sass-loader/dist/cjs.js!./admin-style.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/sass-loader/dist/cjs.js!./admin-style.scss\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/sass-loader/dist/cjs.js!./admin-style.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","\nvar content = require(\"!!../../../../../../node_modules/css-loader/index.js!../../../../../../node_modules/sass-loader/dist/cjs.js!./admin-pagination.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../../node_modules/css-loader/index.js!../../../../../../node_modules/sass-loader/dist/cjs.js!./admin-pagination.scss\", function() {\n\t\tvar newContent = require(\"!!../../../../../../node_modules/css-loader/index.js!../../../../../../node_modules/sass-loader/dist/cjs.js!./admin-pagination.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/sass-loader/dist/cjs.js!./assets-browser.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/sass-loader/dist/cjs.js!./assets-browser.scss\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/sass-loader/dist/cjs.js!./assets-browser.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}"],"sourceRoot":""}