{"version":3,"sources":["webpack:///./resources/modules/admin/src/installing.js"],"names":["window","adminStore","store","then","ace","default","config","set","_module","require","addCompleter","getCompletions","editor","session","pos","prefix","callback","list","token","getTokenAt","row","column","length","match","type","name","caption","value","score","meta","getMode","$id","indexOf","AceEditor","setAceEditor","addEventListener","e","keyCode","altKey","preventDefault","currentTestEnable","getState","adminState","testEnable","dispatch","setAdminProperty","_","lodash"],"mappings":"yJAKAA,OAAOC,WAAaC,UACpB,oCAAqBC,MAAK,SAAAC,GAIxB,OAHAJ,OAAOI,IAAMA,EAAIC,QACjBD,EAAIE,OAAOC,IAAI,WAAY,eAEpB,uCACNJ,MAAK,SAAAK,GACN,OAAO,uCACNL,MAAK,SAAAK,GACN,OAAO,uCACNL,MAAK,SAAAK,GACN,OAAO,uCACNL,MAAK,SAAAK,GA+BN,OA9BiBR,OAAOI,IAAIK,QAAQ,0BA6B1BC,aA3Bc,CACtBC,eAAgB,SAAwBC,EAAQC,EAASC,EAAKC,EAAQC,GACpE,IAAIC,EAAO,GACPC,EAAQL,EAAQM,WAAWL,EAAIM,IAAKN,EAAIO,QAExC,EAAIN,EAAOO,QAAU,WAAWC,MAAMR,IAAW,aAAeG,EAAMM,OACxEP,EAAO,CAAC,CACNQ,KAAM,eACNC,QAAS,WACTC,MAAO,eACPC,MAAO,EACPC,KAAM,WAGN,EAAId,EAAOO,SAAW,SAASC,MAAMR,IAAW,aAAaQ,MAAMR,KAAaF,EAAQiB,UAAUC,IAAIC,QAAQ,SAAW,IAC3Hf,EAAO,CAAC,CACNQ,KAAM,aACNC,QAAS,aACTC,MAAO,aACPC,MAAO,EACPC,KAAM,WAIVb,EAAS,KAAMC,MAIZ,0DACNd,MAAK,SAAA8B,GACNA,EAAYA,EAAU5B,QACtBL,OAAOiC,UAAYA,EACnB/B,oBAAegC,OAAaD,OAG9BjC,OAAOmC,iBAAiB,WAAW,SAAAC,GACjC,GAAiB,KAAdA,EAAEC,SAAkBD,EAAEE,OAAO,CAC9BF,EAAEG,iBACF,IAAIC,EAAoBvC,WAAWwC,WAAWC,WAAWC,WACzD1C,WAAW2C,UAASC,QAAiB,cAAgBL,QAGzDxC,OAAO8C,EAAIC","file":"47.admin.js","sourcesContent":["\r\nimport lodash from 'lodash';\r\nimport store from \"./js/store/store\";\r\nimport {setAceEditor} from \"./js/store/ace-editor/actions\";\r\nimport {setAdminProperty} from \"./js/store/admin-state/actions\";\r\nwindow.adminStore = store;\r\nimport(\"ace-builds\").then(ace=>{\r\n  window.ace = ace.default;\r\n  ace.config.set('basePath', '/addons/ace');\r\n\r\n  return import(\"../../../../node_modules/ace-builds/src-min-noconflict/ext-language_tools\");\r\n}).then(_module=>{\r\n  return import(\"../../../../node_modules/ace-builds/src-noconflict/snippets/css\");\r\n}).then(_module=>{\r\n  return import(\"../../../../node_modules/ace-builds/src-noconflict/theme-textmate\");\r\n}).then(_module=>{\r\n  return import(\"../../../../node_modules/ace-builds/src-noconflict/mode-css\");\r\n}).then(_module=>{\r\n  let langTools =  window.ace.require('ace/ext/language_tools');\r\n\r\n  let selectorCompleter = {\r\n    getCompletions: function getCompletions(editor, session, pos, prefix, callback) {\r\n      let list = [],\r\n          token = session.getTokenAt(pos.row, pos.column);\r\n\r\n      if (0 < prefix.length && 'selector'.match(prefix) && 'constant' === token.type) {\r\n        list = [{\r\n          name: '__selector__',\r\n          caption: 'selector',\r\n          value: '__selector__',\r\n          score: 1,\r\n          meta: 'Altrp'\r\n        }];\r\n      }\r\n      if (0 < prefix.length && ('prefix'.match(prefix) || '{{PREFIX}}'.match(prefix)) && (session.getMode().$id.indexOf('sql') >= -1)) {\r\n        list = [{\r\n          name: '{{PREFIX}}',\r\n          caption: '{{PREFIX}}',\r\n          value: '{{PREFIX}}',\r\n          score: 1,\r\n          meta: 'Altrp'\r\n        }];\r\n      }\r\n\r\n      callback(null, list);\r\n    }\r\n  };\r\n  langTools.addCompleter(selectorCompleter);\r\n  return import(\"react-ace\");\r\n}).then(AceEditor=>{\r\n  AceEditor = AceEditor.default;\r\n  window.AceEditor = AceEditor;\r\n  store.dispatch(setAceEditor(AceEditor));\r\n});\r\n\r\nwindow.addEventListener('keydown', e=>{\r\n  if(e.keyCode === 65 && e.altKey){\r\n    e.preventDefault();\r\n    let currentTestEnable = adminStore.getState().adminState.testEnable;\r\n    adminStore.dispatch(setAdminProperty('testEnable', ! currentTestEnable));\r\n  }\r\n});\r\nwindow._ = lodash;"],"sourceRoot":""}