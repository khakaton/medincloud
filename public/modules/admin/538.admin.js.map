{"version":3,"sources":["webpack:///./resources/modules/admin/src/components/media-input/MediaInput.js","webpack:///./resources/modules/admin/src/components/media-input/media-input.scss","webpack:///./resources/modules/admin/src/components/media-input/media-input.scss?ac3a"],"names":["MediaInput","props","state","value","openMediaBrowser","bind","assetsSettings","active","onChoose","assetValue","onChange","setState","this","dispatch","assetsShow","className","assetType","renderAsset","onClick","Component","connect","adminLogo","module","exports","push","id","content","transform","undefined","locals"],"mappings":"+yBAMMA,E,wcACJ,WAAYC,GAAM,6BAChB,cAAMA,IACDC,MAAQ,CACXC,MAAOF,EAAME,OAAS,IAExB,EAAKC,iBAAmB,EAAKA,iBAAiBC,MAAtB,WALR,E,+CAOlB,WAAkB,WACZC,EAAiB,CACnBC,QAAQ,EACRC,SAAU,SAACC,GACT,EAAKR,MAAMS,SAASD,GACpB,EAAKE,UAAS,SAAAT,GAAK,cAAOA,GAAP,IAAcC,MAAOM,SAG5CG,KAAKX,MAAMY,UAASC,QAAWR,M,oBAEjC,WACE,OAAM,uBAAKS,UAAU,2DACnB,uBAAKA,UAAU,+EACXH,KAAKV,MAAMC,MAAMa,WAAaC,QAAYL,KAAKV,MAAMC,OAAS,gBAElE,0BAAQY,UAAU,4CAA4CG,QAASN,KAAKR,kBAA5E,e,GAvBmBe,aAoCzB,WAAeC,SANf,SAAyBlB,GACvB,YACKA,EAAMmB,aAIb,CAAwCrB,I,sBC1C9BsB,EAAOC,QAAU,EAAQ,KAAR,EAAqE,IAKxFC,KAAK,CAACF,EAAOG,GAAI,8JAA+J,M,sBCJxL,IAAIC,EAAU,EAAQ,MAEA,iBAAZA,IAAsBA,EAAU,CAAC,CAACJ,EAAOG,GAAIC,EAAS,MAYnD,EAAQ,MAAR,CAAyEA,EALxE,CAAC,KAAM,EAErB,eAPIC,EAQJ,gBAAqBC,IAIlBF,EAAQG,SAAQP,EAAOC,QAAUG,EAAQG","file":"538.admin.js","sourcesContent":["import React, {Component} from \"react\";\r\nimport './media-input.scss';\r\nimport {renderAsset} from \"../../../../front-app/src/js/helpers\";\r\nimport {assetsShow} from \"../../../../editor/src/js/store/assets-browser/actions\";\r\nimport {connect} from \"react-redux\";\r\n\r\nclass MediaInput extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      value: props.value || {}\r\n    };\r\n    this.openMediaBrowser = this.openMediaBrowser.bind(this);\r\n  }\r\n  openMediaBrowser(){\r\n    let assetsSettings = {\r\n      active: true,\r\n      onChoose: (assetValue) => {\r\n        this.props.onChange(assetValue);\r\n        this.setState(state=>({...state, value: assetValue}))\r\n      },\r\n    };\r\n    this.props.dispatch(assetsShow(assetsSettings));\r\n  }\r\n  render(){\r\n    return<div className=\"admin-media-input d-flex flex-column align-items-center\">\r\n      <div className=\"admin-media-input__preview d-flex align-items-center justify-content-center\">\r\n        {(this.state.value.assetType) ? renderAsset(this.state.value) : 'Not selected' }\r\n      </div>\r\n      <button className=\"admin-media-input__button btn btn_success\" onClick={this.openMediaBrowser}>\r\n        Change\r\n      </button>\r\n    </div>\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    ...state.adminLogo\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps)(MediaInput);\r\n","exports = module.exports = require(\"../../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".admin-media-input{width:100px}.admin-media-input__preview{height:100px;width:100%;background-color:#e6e9ec}.admin-media-input__preview img{max-width:100%}\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../../../node_modules/css-loader/index.js!../../../../../../node_modules/sass-loader/dist/cjs.js!./media-input.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../../node_modules/css-loader/index.js!../../../../../../node_modules/sass-loader/dist/cjs.js!./media-input.scss\", function() {\n\t\tvar newContent = require(\"!!../../../../../../node_modules/css-loader/index.js!../../../../../../node_modules/sass-loader/dist/cjs.js!./media-input.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}"],"sourceRoot":""}