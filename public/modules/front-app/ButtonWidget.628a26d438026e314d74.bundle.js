(self.webpackChunk=self.webpackChunk||[]).push([[7761],{71743:function(e,t,n){"use strict";var a=n(6610),r=n(5991),s=n(83465),c=n.n(s),l=n(29208),i=n.n(l),o=n(31468),p=n.n(o),m=n(38394),u=n.n(m),d=n(96633),b=n.n(d),g=n(99245),f=n.n(g),h=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,a.Z)(this,e),this.data=c()(t)}return(0,r.Z)(e,[{key:"getData",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e?c()(this.data):this.data}},{key:"isEmpty",value:function(){return f()(this.data)}},{key:"getProperty",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return i()(this.data,e,t)}},{key:"hasProperty",value:function(e){return u()(this.data,e)}},{key:"setProperty",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return n instanceof e&&(n=n.getData(!1)),p()(this.data,t,n)}},{key:"unsetProperty",value:function(e){return b()(this.data,e)}}]),e}();window.AltrpModel=h,t.Z=h},89981:function(e,t,n){"use strict";n.r(t);var a=n(96156),r=n(92137),s=n(6610),c=n(5991),l=n(63349),i=n(10379),o=n(46070),p=n(77608),m=n(87757),u=n.n(m),d=n(76593);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}(window.globalDefaults=window.globalDefaults||[]).push("\n  .altrp-btn-wrapper {\n    align-items: center;\n    display: flex;\n    flex-direction: column;\n\n    & img {\n      max-width: 100%;\n    }\n  }\n\n  .altrp-btn:hover {\n    text-decoration: none;\n  }\n\n  .altrp-btn {\n    width: auto;\n    text-decoration: none;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    border-radius: 6px;\n    flex-direction: row;\n    background-color: #343B4C;\n    color: #FFFFFF;\n    padding-top: 20px;\n    padding-right: 25px;\n    padding-bottom: 20px;\n    padding-left: 25px\n\n    &_gray {\n      background-color: #8E94AA;\n      color: #fff;\n    }\n\n    &__icon {\n      transform: scale(0.6);\n    }\n\n    &-icon {\n      display: flex;\n      justify-content: center;\n    }\n\n    & svg {\n      height: 25px;\n      width: 25px;\n    }\n  }\n\n  .btn-container-row {\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    align-items: center;\n  }\n\n  .btn-container-column {\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n  }\n");var f=window.Link,h=function(e){(0,i.Z)(E,e);var t,a,m,b,h=(m=E,b=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=(0,p.Z)(m);if(b){var n=(0,p.Z)(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return(0,o.Z)(this,e)});function E(e){var t;return(0,s.Z)(this,E),(t=h.call(this,e)).getClasses=function(){var e="altrp-btn ";return t.isActive()&&(e+="active "),t.isDisabled()&&(e+="state-disabled "),e},t.state={settings:e.element.getSettings(),pending:!1},e.element.component=(0,l.Z)(t),window.elementDecorator&&window.elementDecorator((0,l.Z)(t)),e.baseRender&&(t.render=e.baseRender((0,l.Z)(t))),t.onClick=t.onClick.bind((0,l.Z)(t)),t}return(0,c.Z)(E,[{key:"_componentWillUnmount",value:(a=(0,r.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([n.e(4079),n.e(6593),n.e(2167),n.e(6737)]).then(n.bind(n,2167));case 2:e.sent.default.unregisterWidgetActions(this.props.element.getId());case 4:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"onClick",value:(t=(0,r.Z)(u().mark((function e(t){var a,s,c,l,i,o=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.persist(),!(0,d.isEditor)()){e.next=5;break}t.preventDefault(),e.next=13;break;case 5:if(!this.props.element.getResponsiveSetting("actions",null,[]).length){e.next=13;break}return t.preventDefault(),t.stopPropagation(),e.next=10,Promise.all([n.e(4079),n.e(6593),n.e(2167),n.e(6737)]).then(n.bind(n,2167));case 10:return a=e.sent.default,e.next=13,a.callAllWidgetActions(this.props.element.getIdForAction(),"click",this.props.element.getSettings("actions",[]),this.props.element);case 13:this.props.element.getForms().length?(this.setState((function(e){return g(g({},e),{},{pending:!0})})),this.props.element.getForms().forEach(function(){var e=(0,r.Z)(u().mark((function e(t){var n,a,r,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.submit(o.getModelId(),o.props.element.getResponsiveSetting("form_confirm"));case 3:if(!(n=e.sent).success){e.next=14;break}if(a=o.state.settings,r=a.redirect_to_prev_page,s=a.redirect_after,!r){e.next=8;break}return e.abrupt("return",history.back());case 8:if(!s){e.next=11;break}return s=(0,d.parseURLTemplate)(s,n.data),e.abrupt("return",o.props.history.push(s));case 11:o.props.element.getResponsiveSetting("text_after",null,"")&&alert(o.props.element.getResponsiveSetting("text_after",null,"")),e.next=15;break;case 14:n.message&&alert(n.message);case 15:o.setState((function(e){return g(g({},e),{},{pending:!1})})),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(0),console.error(e.t0),o.setState((function(e){return g(g({},e),{},{pending:!1})}));case 22:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(t){return e.apply(this,arguments)}}())):t.target.href&&0===t.target.href.replace(window.location.origin+window.location.pathname,"").indexOf("#")?(s=t.target.href.replace(window.location.origin+window.location.pathname,"").replace("#",""),(c=(0,d.getHTMLElementById)(s))&&(t.preventDefault(),(0,d.scrollToElement)(mainScrollbars,c))):this.props.element.getResponsiveSetting("hide_elements_trigger")?this.props.toggleTrigger(this.props.element.getResponsiveSetting("hide_elements_trigger")):this.props.element.getResponsiveSetting("other_action_type","",[]).includes("print_elements")&&(l=(l=this.props.element.getResponsiveSetting("print_elements_ids",null,"")).split(","),i=[],l.forEach((function(e){var t;if(e&&e.trim()&&((0,d.getHTMLElementById)(e.trim())&&i.push((0,d.getHTMLElementById)(e)),null!==(t=(0,d.getComponentByElementId)(e.trim()))&&void 0!==t&&t.getStylesHTMLElement)){var n=(0,d.getComponentByElementId)(e.trim()).getStylesHTMLElement();n&&i.push(n)}})),_.get(window,"stylesModule.stylesContainer.current")&&i.push(_.get(window,"stylesModule.stylesContainer.current")),i.push(document.head),(0,d.printElements)(i));case 14:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"render",value:function(){var e,t=this.state.settings,n=t.link_link,a=void 0===n?{}:n,r=t.advanced_tooltip,s=history.back,c=this.props.element.getResponsiveSetting("background_image",null,{}),l=this.props.element.hasCardModel()?this.props.element.getCardModel().getData():this.props.currentModel.getData(),i=this.getClasses()+(this.state.settings.position_css_classes||"");c.url&&(i+=" altrp-background-image");var o=this.props.element.getContent("button_text"),p=g({},this.state.settings.button_icon_right),m=g({},this.state.settings.button_icon_left),u=g({},this.state.settings.button_icon_top),b=g({},this.state.settings.button_icon_bottom),h="";(p.url||m.url||u.url||b.url)&&(p.url&&(h+="r"),m.url&&(h+="l"),u.url&&(h+="t"),b.url&&(h+="b"));var E=o||"";"r"===(h=h.split("").sort().join(""))&&(E=React.createElement("div",{className:"btn-container-row"},React.createElement("span",null),o,React.createElement("span",{className:"altrp-btn-icon-right "},(0,d.renderAsset)(p)," "))),"l"===h&&(E=React.createElement("div",{className:"btn-container-row"},React.createElement("span",{className:"altrp-btn-icon-left "},(0,d.renderAsset)(m)," "),o,React.createElement("span",null))),"t"===h&&(E=React.createElement("div",{className:"btn-container-column"},React.createElement("span",{className:"altrp-btn-icon-top "},(0,d.renderAsset)(u)," "),o,React.createElement("span",null))),"b"===h&&(E=React.createElement("div",{className:"btn-container-column"},React.createElement("span",null),o,React.createElement("span",{className:"altrp-btn-icon-bottom "},(0,d.renderAsset)(b)," "))),"blrt"===h&&(E=React.createElement("div",{className:"btn-container-column"},React.createElement("span",{className:"altrp-btn-icon-top "},(0,d.renderAsset)(u)," "),React.createElement("div",{className:"btn-container-row"},React.createElement("span",{className:"altrp-btn-icon-left "},(0,d.renderAsset)(m)," "),o,React.createElement("span",{className:"altrp-btn-icon-right "},(0,d.renderAsset)(p)," ")),React.createElement("span",{className:"altrp-btn-icon-bottom "},(0,d.renderAsset)(b)," "))),"brt"===h&&(E=React.createElement("div",{className:"btn-container-column"},React.createElement("span",{className:"altrp-btn-icon-top "},(0,d.renderAsset)(u)," "),React.createElement("div",{className:"btn-container-row"},React.createElement("span",null),o,React.createElement("span",{className:"altrp-btn-icon-right "},(0,d.renderAsset)(p)," ")),React.createElement("span",{className:"altrp-btn-icon-bottom "},(0,d.renderAsset)(b)," "))),"blt"===h&&(E=React.createElement("div",{className:"btn-container-column"},React.createElement("span",{className:"altrp-btn-icon-top "},(0,d.renderAsset)(u)," "),React.createElement("div",{className:"btn-container-row"},React.createElement("span",{className:"altrp-btn-icon-left "},(0,d.renderAsset)(m)," "),o,React.createElement("span",null)),React.createElement("span",{className:"altrp-btn-icon-bottom "},(0,d.renderAsset)(b)," "))),"lrt"===h&&(E=React.createElement("div",{className:"btn-container-column"},React.createElement("span",{className:"altrp-btn-icon-top "},(0,d.renderAsset)(u)," "),React.createElement("div",{className:"btn-container-row"},React.createElement("span",{className:"altrp-btn-icon-left "},(0,d.renderAsset)(m)," "),o,React.createElement("span",{className:"altrp-btn-icon-right "},(0,d.renderAsset)(p)," ")),React.createElement("span",null))),"blr"===h&&(E=React.createElement("div",{className:"btn-container-column"},React.createElement("span",null),React.createElement("div",{className:"btn-container-row"},React.createElement("span",{className:"altrp-btn-icon-left "},(0,d.renderAsset)(m)," "),o,React.createElement("span",{className:"altrp-btn-icon-right "},(0,d.renderAsset)(p)," ")),React.createElement("span",{className:"altrp-btn-icon-bottom "},(0,d.renderAsset)(b)," "))),"rt"===h&&(E=React.createElement("div",{className:"btn-container-column"},React.createElement("span",{className:"altrp-btn-icon-top "},(0,d.renderAsset)(u)," "),React.createElement("div",{className:"btn-container-row"},React.createElement("span",null),o,React.createElement("span",{className:"altrp-btn-icon-right "},(0,d.renderAsset)(p)," ")),React.createElement("span",null))),"lt"===h&&(E=React.createElement("div",{className:"btn-container-column"},React.createElement("span",{className:"altrp-btn-icon-top "},(0,d.renderAsset)(u)," "),React.createElement("div",{className:"btn-container-row"},React.createElement("span",{className:"altrp-btn-icon-left "},(0,d.renderAsset)(m)," "),o,React.createElement("span",null)),React.createElement("span",null))),"bt"===h&&(E=React.createElement("div",{className:"btn-container-column"},React.createElement("span",{className:"altrp-btn-icon-top "},(0,d.renderAsset)(u)," "),React.createElement("div",{className:"btn-container-row"},React.createElement("span",null),o,React.createElement("span",null)),React.createElement("span",{className:"altrp-btn-icon-bottom "},(0,d.renderAsset)(b)," "))),"br"===h&&(E=React.createElement("div",{className:"btn-container-column"},React.createElement("span",null),React.createElement("div",{className:"btn-container-row"},React.createElement("span",null),o,React.createElement("span",{className:"altrp-btn-icon-right "},(0,d.renderAsset)(p)," ")),React.createElement("span",{className:"altrp-btn-icon-bottom "},(0,d.renderAsset)(b)," "))),"lr"===h&&(E=React.createElement("div",{className:"btn-container-column"},React.createElement("span",null),React.createElement("div",{className:"btn-container-row"},React.createElement("span",{className:"altrp-btn-icon-left "},(0,d.renderAsset)(m)," "),o,React.createElement("span",{className:"altrp-btn-icon-right "},(0,d.renderAsset)(p)," ")),React.createElement("span",null))),"bl"===h&&(E=React.createElement("div",{className:"btn-container-column"},React.createElement("span",null),React.createElement("div",{className:"btn-container-row"},React.createElement("span",{className:"altrp-btn-icon-left "},(0,d.renderAsset)(m)," "),o,React.createElement("span",null)),React.createElement("span",{className:"altrp-btn-icon-bottom "},(0,d.renderAsset)(b)," "))),this.state.pending&&(i+=" altrp-disabled");var R=a.url?a.url.replace(":id",this.getModelId()||""):"";_.isObject(this.props.currentModel)&&(R=(0,d.parseURLTemplate)(a.url||"",l));var v=React.createElement("button",{onClick:this.onClick,className:i,id:this.state.settings.position_css_id,title:r||null},E),N=null;if(null!==(e=this.state.settings.link_link)&&void 0!==e&&e.url&&!this.state.settings.link_link.toPrevPage)if("a"===this.state.settings.link_link.tag||(0,d.isEditor)()){var w=_.get(this.state.settings,"link_link.openInNew")?"blank":"";N=React.createElement("a",{href:R,onClick:this.onClick,className:i,target:w,title:r||null}," ",E)}else N=React.createElement(f,{to:R,onClick:this.onClick,className:i,title:r||null}," ",E);return _.get(this.state,"settings.link_link.toPrevPage")&&(N=React.createElement("button",{onClick:function(){return(0,d.isEditor)()?null:s()},className:i,id:this.state.settings.position_css_id,title:r||null},E)),React.createElement("div",{className:"altrp-btn-wrapper"},N||v||p||m||u||b)}}]),E}(Component);t.default=h}}]);
//# sourceMappingURL=ButtonWidget.628a26d438026e314d74.bundle.js.map