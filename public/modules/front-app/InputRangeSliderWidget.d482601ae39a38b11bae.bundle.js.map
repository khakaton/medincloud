{"version":3,"sources":["webpack:///./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","webpack:///./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack:///./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/esm/inherits.js","webpack:///./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","webpack:///./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js","webpack:///./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack:///./resources/modules/editor/src/js/components/widgets/InputRangeSliderWidget.js"],"names":["_assertThisInitialized","self","ReferenceError","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","_inherits","subClass","superClass","TypeError","prototype","create","constructor","_possibleConstructorReturn","call","_setPrototypeOf","p","_taggedTemplateLiteral","strings","raw","slice","freeze","defineProperties","_typeof","Symbol","iterator","Slider","window","altrpLibs","Blueprint","RangeSlider","globalDefaults","push","SliderWrapper","styled","div","props","styles","handleSize","size","max","toFixed","handle","InputRangeSliderWidget","step","element","getResponsiveSetting","min","state","settings","getSettings","component","elementDecorator","baseRender","render","onChange","bind","label","prevProps","prevState","prevStep","this","setState","s","values","forEach","idx","Number","isInteger","parseFloat","String","split","length","decimalPlace","custom","thousandsSeparator","thousandsSeparatorValue","decimalSeparator","Math","abs","replace","toString","labelStepSize","vertical","console","log","className","stepSize","labelPrecision","labelRenderer","Component"],"mappings":"2FAAe,SAASA,EAAuBC,GAC7C,QAAa,IAATA,EACF,MAAM,IAAIC,eAAe,6DAG3B,OAAOD,E,oECLM,SAASE,EAAgBC,EAAKC,EAAKC,GAYhD,OAXID,KAAOD,EACTG,OAAOC,eAAeJ,EAAKC,EAAK,CAC9BC,MAAOA,EACPG,YAAY,EACZC,cAAc,EACdC,UAAU,IAGZP,EAAIC,GAAOC,EAGNF,E,oECZM,SAASQ,EAAgBC,GAItC,OAHAD,EAAkBL,OAAOO,eAAiBP,OAAOQ,eAAiB,SAAyBF,GACzF,OAAOA,EAAEG,WAAaT,OAAOQ,eAAeF,KAEvBA,G,mHCHV,SAASI,EAAUC,EAAUC,GAC1C,GAA0B,mBAAfA,GAA4C,OAAfA,EACtC,MAAM,IAAIC,UAAU,sDAGtBF,EAASG,UAAYd,OAAOe,OAAOH,GAAcA,EAAWE,UAAW,CACrEE,YAAa,CACXjB,MAAOY,EACPP,UAAU,EACVD,cAAc,KAGdS,IAAY,OAAeD,EAAUC,K,6FCX5B,SAASK,EAA2BvB,EAAMwB,GACvD,OAAIA,GAA2B,YAAlB,OAAQA,IAAsC,mBAATA,GAI3C,OAAsBxB,GAHpBwB,I,mCCJI,SAASC,EAAgBb,EAAGc,GAMzC,OALAD,EAAkBnB,OAAOO,gBAAkB,SAAyBD,EAAGc,GAErE,OADAd,EAAEG,UAAYW,EACPd,IAGcA,EAAGc,G,oECNb,SAASC,EAAuBC,EAASC,GAKtD,OAJKA,IACHA,EAAMD,EAAQE,MAAM,IAGfxB,OAAOyB,OAAOzB,OAAO0B,iBAAiBJ,EAAS,CACpDC,IAAK,CACHxB,MAAOC,OAAOyB,OAAOF,O,oECPZ,SAASI,EAAQ9B,GAa9B,OATE8B,EADoB,mBAAXC,QAAoD,iBAApBA,OAAOC,SACtC,SAAiBhC,GACzB,cAAcA,GAGN,SAAiBA,GACzB,OAAOA,GAAyB,mBAAX+B,QAAyB/B,EAAImB,cAAgBY,QAAU/B,IAAQ+B,OAAOd,UAAY,gBAAkBjB,IAI9GA,G,4uBCbjB,IAAMiC,EAASC,OAAOC,UAAUC,UAAUC,aAEzCH,OAAOI,eAAiBJ,OAAOI,gBAAkB,IAAIC,KAArD,QAID,IAAMC,EAAgBC,OAAOC,IAAV,+GAKf,SAACC,GACD,IAAIC,EAAS,GAgBb,OAdGD,EAAME,YACJF,EAAME,WAAWC,OAClBF,GAAU,wFAAJ,QAEUD,EAAMzC,MAAMyC,EAAMI,IAAI,KAAKC,QAAQ,GAF7C,eAEsDL,EAAMM,OAAQ,EAAIN,EAAME,WAAWC,KAFzF,6HAMYH,EAAMzC,MAAMyC,EAAMI,IAAI,KAAKC,QAAQ,GAN/C,eAMwDL,EAAMM,OAAQ,EAAIN,EAAME,WAAWC,KAN3F,kDAYHF,KAILM,E,wcACJ,WAAYP,GAAO,sBACjB,cAAMA,GAEN,IAAIQ,EAAOR,EAAMS,QAAQC,qBAAqB,OAAQ,GAAI,MACpDC,EAAMX,EAAMS,QAAQC,qBAAqB,MAAO,GAAI,GACpDN,EAAMJ,EAAMS,QAAQC,qBAAqB,MAAO,GAAI,KALzC,OAOdF,IACDA,GAAQJ,EAAMO,GAAOH,GAGvB,EAAKI,MAAQ,CACXC,SAAUb,EAAMS,QAAQK,cACxBvD,MAAO,CACLyC,EAAMS,QAAQC,qBAAqB,UAAW,GAAI,GAClDV,EAAMS,QAAQC,qBAAqB,iBAAkB,GAAI,IAE3DF,KAAMA,GAAQ,GAGhBR,EAAMS,QAAQM,WAAd,UAEIxB,OAAOyB,kBACTzB,OAAOyB,kBAAP,WAEChB,EAAMiB,aACP,EAAKC,OAASlB,EAAMiB,YAAN,YAEhB,EAAKE,SAAW,EAAKA,SAASC,MAAd,WAChB,EAAKC,MAAQ,EAAKA,MAAMD,MAAX,WA7BI,E,kDAgCnB,SAAoBE,EAAWC,GAAW,WAClCC,EAAWD,EAAUf,KACvBA,EAAOiB,KAAKzB,MAAMS,QAAQC,qBAAqB,OAAQ,GAAI,MACzDC,EAAMc,KAAKzB,MAAMS,QAAQC,qBAAqB,MAAO,GAAI,GACzDN,EAAMqB,KAAKzB,MAAMS,QAAQC,qBAAqB,MAAO,GAAI,KAE5DF,GAAQA,EAAOJ,IAChBI,GAAQJ,EAAMO,GAAOH,GAGpBA,IAASgB,GACVC,KAAKC,UAAS,SAACC,GAAD,cAAYA,GAAZ,IACZnB,OACAjD,MAAO,CACL,EAAKyC,MAAMS,QAAQC,qBAAqB,UAAW,GAAI,GACvD,EAAKV,MAAMS,QAAQC,qBAAqB,iBAAkB,GAAI,W,sBAMtE,SAASkB,GACP,IAAMpB,EAAOiB,KAAKb,MAAMJ,KAExBoB,EAAOC,SAAQ,SAACtE,EAAOuE,GACjBC,OAAOC,UAAUzE,KACnBqE,EAAOE,GAAOG,WAAW1E,EAAM8C,QAAQ6B,OAAO1B,GAAM2B,MAAM,KAAK,GAAGA,MAAM,IAAIC,aAIhFX,KAAKC,UAAS,SAACC,GAAD,cAAYA,GAAZ,IAAepE,MAAOqE,S,mBAGtC,SAAMrE,GACSkE,KAAKzB,MAAMS,QAAQC,qBAAqB,OAAQ,GAAI,GAAjE,IACI2B,EAAeZ,KAAKzB,MAAMS,QAAQC,qBAAqB,gBAAiB,GAAI,MAC1E4B,EAASb,KAAKzB,MAAMS,QAAQC,qBAAqB,eAAgB,GAAI,OACrE6B,EAAqBd,KAAKzB,MAAMS,QAAQC,qBAAqB,sBAAuB,IAAI,GACxF8B,EAA0Bf,KAAKzB,MAAMS,QAAQC,qBAAqB,4BAA6B,GAAI,KACnG+B,EAAmBhB,KAAKzB,MAAMS,QAAQC,qBAAqB,oBAAqB,GAAI,KAgB1F,OAdIqB,OAAOC,UAAUzE,IAAU8E,GAAgBI,IAC7CJ,EAAeK,KAAKC,IAAIN,GAExB9E,EAAQA,EACL8C,QAAQgC,GAAcO,QAAQ,IAAKH,IAGrCF,GAAsBC,IACvBjF,EAAQA,EACLsF,WACAD,QAAQ,kCAAmCJ,IAIzCF,EACJO,WACAD,QAAQ,MAAOrF,K,oBAGpB,WACE,IAAMoD,EAAMc,KAAKzB,MAAMS,QAAQC,qBAAqB,MAAO,GAAI,GACzDN,EAAMqB,KAAKzB,MAAMS,QAAQC,qBAAqB,MAAO,GAAI,KAEzDoC,EAAgBrB,KAAKzB,MAAMS,QAAQC,qBAAqB,aAAc,GAAI,IAC1E2B,EAAeZ,KAAKzB,MAAMS,QAAQC,qBAAqB,gBAAiB,GAAI,MAC5EqC,EAAWtB,KAAKzB,MAAMS,QAAQC,qBAAqB,WAAY,IAAI,GACnER,EAAauB,KAAKzB,MAAMS,QAAQC,qBAAqB,cAAe,GAAI,MAG9E,OADAsC,QAAQC,IAAIxB,KAAKb,MAAMrD,OAErB,oBAACsC,EAAD,CACEtC,MAAOkE,KAAKb,MAAMrD,MAClB6C,IAAKA,EACLF,WAAYA,EACZgD,UAAW,8BAAgCH,EAAW,+BAAiC,mCAEvF,oBAACzD,EAAD,CACEqB,IAAKA,EACLP,IAAKA,EACL+C,SAA8B,IAApB1B,KAAKb,MAAMJ,MAAciB,KAAKb,MAAMJ,KAAOkC,KAAKC,IAAIlB,KAAKb,MAAMJ,MAAQ,EACjFjD,MAAOkE,KAAKb,MAAMrD,MAClB4D,SAAUM,KAAKN,SACfiC,eAAgBf,EAChBgB,cAAe5B,KAAKJ,MACpByB,cAAeA,EACfC,SAAUA,EACVG,UAAU,4B,GAxHiBI,WA+HrC","file":"InputRangeSliderWidget.d482601ae39a38b11bae.bundle.js","sourcesContent":["export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","import _typeof from \"@babel/runtime/helpers/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized.js\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","export default function _taggedTemplateLiteral(strings, raw) {\n  if (!raw) {\n    raw = strings.slice(0);\n  }\n\n  return Object.freeze(Object.defineProperties(strings, {\n    raw: {\n      value: Object.freeze(raw)\n    }\n  }));\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","const Slider = window.altrpLibs.Blueprint.RangeSlider;\r\n\r\n(window.globalDefaults = window.globalDefaults || []).push(`\r\n\r\n`);\r\n\r\nconst SliderWrapper = styled.div`\r\n  .altrp-field-slider .bp3-slider-handle {\r\n    background-image: none;\r\n  }\r\n\r\n  ${(props) => {\r\n    let styles = \"\";\r\n\r\n    if(props.handleSize) {\r\n      if(props.handleSize.size) {\r\n        styles += `\r\n        &.altrp-field-slider-horizontal .bp3-slider-handle {\r\n          left: calc(${(props.value/props.max*100).toFixed(2)}% - ${props.handle/ 2 + props.handleSize.size}px) !important;\r\n        }\r\n\r\n        &.altrp-field-slider-vertical .bp3-slider-handle {\r\n          bottom: calc(${(props.value/props.max*100).toFixed(2)}% - ${props.handle/ 2 + props.handleSize.size}px) !important;\r\n        }Size.size\r\n        `\r\n      }\r\n    }\r\n\r\n    return styles\r\n  }}\r\n`;\r\n\r\nclass InputRangeSliderWidget extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    let step = props.element.getResponsiveSetting(\"step\", \"\", null);\r\n    const min = props.element.getResponsiveSetting(\"min\", \"\", 0);\r\n    const max = props.element.getResponsiveSetting(\"max\", \"\", 100);\r\n\r\n    if(step) {\r\n      step = (max - min) / step;\r\n    }\r\n\r\n    this.state = {\r\n      settings: props.element.getSettings(),\r\n      value: [\r\n        props.element.getResponsiveSetting(\"initial\", \"\", 0),\r\n        props.element.getResponsiveSetting(\"initial_second\", \"\", 0)\r\n      ],\r\n      step: step || 1,\r\n    };\r\n\r\n    props.element.component = this;\r\n\r\n    if (window.elementDecorator) {\r\n      window.elementDecorator(this);\r\n    }\r\n    if(props.baseRender){\r\n      this.render = props.baseRender(this);\r\n    }\r\n    this.onChange = this.onChange.bind(this);\r\n    this.label = this.label.bind(this);\r\n  }\r\n\r\n  _componentDidUpdate(prevProps, prevState) {\r\n    const prevStep = prevState.step\r\n    let step = this.props.element.getResponsiveSetting(\"step\", \"\", null);\r\n    const min = this.props.element.getResponsiveSetting(\"min\", \"\", 0);\r\n    const max = this.props.element.getResponsiveSetting(\"max\", \"\", 100);\r\n\r\n    if(step && step < max) {\r\n      step = (max - min) / step;\r\n    }\r\n\r\n    if(step !== prevStep) {\r\n      this.setState((s) => ({...s,\r\n        step,\r\n        value: [\r\n          this.props.element.getResponsiveSetting(\"initial\", \"\", 0),\r\n          this.props.element.getResponsiveSetting(\"initial_second\", \"\", 0)\r\n        ]\r\n      }))\r\n    }\r\n  }\r\n\r\n  onChange(values) {\r\n    const step = this.state.step\r\n\r\n    values.forEach((value, idx) => {\r\n      if(!Number.isInteger(value)) {\r\n        values[idx] = parseFloat(value.toFixed(String(step).split(\".\")[1].split(\"\").length))\r\n      }\r\n    });\r\n\r\n    this.setState((s) => ({...s, value: values}))\r\n  }\r\n\r\n  label(value) {\r\n    const step = this.props.element.getResponsiveSetting(\"step\", \"\", 1);\r\n    let decimalPlace = this.props.element.getResponsiveSetting(\"decimal_place\", \"\", null);\r\n    const custom = this.props.element.getResponsiveSetting(\"custom_label\", \"\", \"{n}\");\r\n    const thousandsSeparator = this.props.element.getResponsiveSetting(\"thousands_separator\", \"\", false);\r\n    const thousandsSeparatorValue = this.props.element.getResponsiveSetting(\"thousands_separator_value\", \"\", \".\");\r\n    const decimalSeparator = this.props.element.getResponsiveSetting(\"decimal_separator\", \"\", \",\");\r\n\r\n    if(!Number.isInteger(value) && decimalPlace && decimalSeparator) {\r\n      decimalPlace = Math.abs(decimalPlace);\r\n\r\n      value = value\r\n        .toFixed(decimalPlace).replace(\".\", decimalSeparator)\r\n    }\r\n\r\n    if(thousandsSeparator && thousandsSeparatorValue) {\r\n      value = value\r\n        .toString()\r\n        .replace(/\\B(?<!\\.\\d*)(?=(\\d{3})+(?!\\d))/g, thousandsSeparatorValue);\r\n    }\r\n\r\n\r\n    return custom\r\n      .toString()\r\n      .replace(/{n}/, value)\r\n  }\r\n\r\n  render() {\r\n    const min = this.props.element.getResponsiveSetting(\"min\", \"\", 0);\r\n    const max = this.props.element.getResponsiveSetting(\"max\", \"\", 100);\r\n    // const step = this.props.element.getResponsiveSetting(\"step\", \"\", 1);\r\n    const labelStepSize = this.props.element.getResponsiveSetting(\"label_step\", \"\", 25);\r\n    const decimalPlace = this.props.element.getResponsiveSetting(\"decimal_place\", \"\", null);\r\n    const vertical = this.props.element.getResponsiveSetting(\"vertical\", \"\", false);\r\n    const handleSize = this.props.element.getResponsiveSetting(\"handle_size\", \"\", null);\r\n\r\n    console.log(this.state.value)\r\n    return (\r\n      <SliderWrapper\r\n        value={this.state.value}\r\n        max={max}\r\n        handleSize={handleSize}\r\n        className={\"altrp-field-slider-wrapper\" + (vertical ? \" altrp-field-slider-vertical\" : \" altrp-field-slider-horizontal\")}\r\n      >\r\n        <Slider\r\n          min={min}\r\n          max={max}\r\n          stepSize={this.state.step !== 0 && this.state.step ? Math.abs(this.state.step) : 1}\r\n          value={this.state.value}\r\n          onChange={this.onChange}\r\n          labelPrecision={decimalPlace}\r\n          labelRenderer={this.label}\r\n          labelStepSize={labelStepSize}\r\n          vertical={vertical}\r\n          className=\"altrp-field-slider\"\r\n        />\r\n      </SliderWrapper>\r\n    );\r\n  }\r\n}\r\n\r\nexport default InputRangeSliderWidget;\r\n"],"sourceRoot":""}