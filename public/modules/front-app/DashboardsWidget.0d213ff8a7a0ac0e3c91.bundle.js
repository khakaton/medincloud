(self.webpackChunk=self.webpackChunk||[]).push([[749],{63349:function(t,e,n){"use strict";function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}n.d(e,{Z:function(){return r}})},77608:function(t,e,n){"use strict";function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.d(e,{Z:function(){return r}})},10379:function(t,e,n){"use strict";n.d(e,{Z:function(){return o}});var r=n(14665);function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&(0,r.Z)(t,e)}},46070:function(t,e,n){"use strict";n.d(e,{Z:function(){return i}});var r=n(90484),o=n(63349);function i(t,e){return!e||"object"!==(0,r.Z)(e)&&"function"!=typeof e?(0,o.Z)(t):e}},14665:function(t,e,n){"use strict";function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n.d(e,{Z:function(){return r}})},90484:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}n.d(e,{Z:function(){return r}})},71743:function(t,e,n){"use strict";var r=n(6610),o=n(5991),i=n(83465),a=n.n(i),u=n(29208),s=n.n(u),c=n(31468),l=n.n(c),f=n(38394),p=n.n(f),h=n(96633),d=n.n(h),y=n(99245),g=n.n(y),m=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,r.Z)(this,t),this.data=a()(e)}return(0,o.Z)(t,[{key:"getData",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return t?a()(this.data):this.data}},{key:"isEmpty",value:function(){return g()(this.data)}},{key:"getProperty",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return s()(this.data,t,e)}},{key:"hasProperty",value:function(t){return p()(this.data,t)}},{key:"setProperty",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return n instanceof t&&(n=n.getData(!1)),l()(this.data,e,n)}},{key:"unsetProperty",value:function(t){return d()(this.data,t)}}]),t}();window.AltrpModel=m,e.Z=m},41790:function(t,e,n){"use strict";n.r(e);var r=n(96156),o=n(92137),i=n(6610),a=n(5991),u=n(63349),s=n(10379),c=n(46070),l=n(77608),f=n(87757),p=n.n(f),h=n(9669),d=n.n(h),y=n(76593);function g(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function m(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function b(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?m(Object(n),!0).forEach((function(e){(0,r.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var v=React.lazy((function(){return Promise.all([n.e(775),n.e(1762),n.e(1001),n.e(5987),n.e(6251),n.e(8976),n.e(626),n.e(1375),n.e(7460)]).then(n.bind(n,23525))})),w=React.lazy((function(){return Promise.all([n.e(1902),n.e(1762),n.e(1001),n.e(5987),n.e(2238),n.e(6251),n.e(840),n.e(2360),n.e(626),n.e(2929)]).then(n.bind(n,88998))})),O=function(t){(0,s.Z)(h,t);var e,n,r,f=(n=h,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=(0,l.Z)(n);if(r){var o=(0,l.Z)(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return(0,c.Z)(this,t)});function h(t){var e;return(0,i.Z)(this,h),(e=f.call(this,t)).state={settings:t.element.getSettings(),settingsData:[],child:{}},e.refChild=React.createRef(),e.fireAction=e.fireAction.bind((0,u.Z)(e)),e.calculateDrawerWidth=e.calculateDrawerWidth.bind((0,u.Z)(e)),t.element.component=(0,u.Z)(e),window.elementDecorator&&window.elementDecorator((0,u.Z)(e)),t.baseRender&&(e.render=t.baseRender((0,u.Z)(e))),e}return(0,a.Z)(h,[{key:"componentWillMount",value:(e=(0,o.Z)(p().mark((function t(){var e,n,r;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=this.props.element.getId(),t.next=4,d().get("/ajax/dashboards/datasource/".concat(e,"/data"),{headers:{"X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")}});case 4:n=t.sent,console.log(n.data.settings),r=JSON.parse(n.data.settings)||JSON.parse("{}"),this.setState((function(t){return b(b({},t),{},{settingsData:r})})),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log("ERROR ==>",t.t0);case 13:case"end":return t.stop()}}),t,this,[[0,10]])}))),function(){return e.apply(this,arguments)})},{key:"fireAction",value:function(t){void 0!==this.refChild.current[t]?this.refChild.current[t]():alert("ERROR, NOT FOUND ACTION")}},{key:"calculateDrawerWidth",value:function(){var t,e,n,r=_.keys(this.props.element.getSettings()),o=(0,y.getCurrentBreakpoint)(),i=!1,a="",u=r.filter((function(t){return t.includes("drawerWidth")})),s=this.props.element.getSettings().drawerWidth,c=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return g(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}(u);try{for(c.s();!(n=c.n()).done;){var l=n.value,f=l.split("_");if(f[f.length-1]==o){i=!0,a=l;break}}}catch(t){c.e(t)}finally{c.f()}return i&&(s=this.props.element.getSettings(a)),(null===(t=s)||void 0===t?void 0:t.size)+(null===(e=s)||void 0===e?void 0:e.unit)||"30%"}},{key:"render",value:function(){var t=this.props.element.getSettings().positioning_custom_width.size,e=this.props.element.getSettings().dataSource,n=(this.props.element.getSettings(),this.state.settings.global_parameter),r=this.props.element.getSettings().showButton,o=this.props.element.getSettings().showExportButton,i=this.props.currentUser.data,a=this.calculateDrawerWidth(),u=this.state.settingsData;return React.createElement(Suspense,{fallback:"Loading"},e?React.createElement(w,{ref:this.refChild,showButton:r,showExportButton:o,settings:this.props.element.getSettings(),id:this.props.element.getId(),containerWidth:t,items:u.items,counter:u.newCounter,drawerWidth:a,delimer:this.props.element.getSettings("delimer"),rep:this.props.element.getSettings("rep",[])}):React.createElement(v,{settings:this.props.element.getSettings(),globalParameter:n,currentUser:i,id:this.props.element.getId()}))}}]),h}(Component);e.default=O}}]);
//# sourceMappingURL=DashboardsWidget.0d213ff8a7a0ac0e3c91.bundle.js.map