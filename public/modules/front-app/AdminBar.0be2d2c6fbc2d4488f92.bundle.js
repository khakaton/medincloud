(self.webpackChunk=self.webpackChunk||[]).push([[9499],{63349:function(e,n,t){"use strict";function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}t.d(n,{Z:function(){return a}})},96156:function(e,n,t){"use strict";function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}t.d(n,{Z:function(){return a}})},77608:function(e,n,t){"use strict";function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}t.d(n,{Z:function(){return a}})},10379:function(e,n,t){"use strict";t.d(n,{Z:function(){return i}});var a=t(14665);function i(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&(0,a.Z)(e,n)}},46070:function(e,n,t){"use strict";t.d(n,{Z:function(){return r}});var a=t(90484),i=t(63349);function r(e,n){return!n||"object"!==(0,a.Z)(n)&&"function"!=typeof n?(0,i.Z)(e):n}},14665:function(e,n,t){"use strict";function a(e,n){return(a=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}t.d(n,{Z:function(){return a}})},32465:function(e,n,t){"use strict";function a(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}t.d(n,{Z:function(){return a}})},90484:function(e,n,t){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.d(n,{Z:function(){return a}})},16070:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return v}});var a,i=t(96156),r=t(92137),o=t(6610),c=t(5991),l=t(63349),p=t(10379),s=t(46070),u=t(77608),d=t(87757),m=t.n(d),f=t(32465),h=styled.div(a||(a=(0,f.Z)(["\n& .admin-bar {\n  top: 0;\n  position: absolute;\n  height: 25px;\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n\n  background-color: #343B4C;\n  color: #fff;\n\n  font-family: 'Open Sans';\n  line-height: 25px;\n  font-size: 13px;\n  font-style: normal;\n  font-weight: 400;\n  letter-spacing: 0em;\n  text-align: left;\n  z-index: 1000;\n}\n& .admin-bar__link {\n  cursor: pointer;\n  margin-left: 15px;\n}\n& .admin-bar__tools {\n  display: flex;\n  justify-content: space-between;\n\n  background-color: #343b4c;\n  color: #fff;\n\n  font-family: \"Open Sans\";\n  line-height: 25px;\n  font-size: 13px;\n  font-style: normal;\n  font-weight: 400;\n  letter-spacing: 0em;\n  text-align: left;\n  z-index: 1000;\n}\n\n\n& .admin-bar__tool {\n  margin-left: 15px;\n\n  cursor: pointer;\n}\n\n& .admin-bar__tool-svg {\n  margin-right: 10px;\n  vertical-align: text-top;\n}\n\n& .admin-bar__profile {\n  margin-right: 25px;\n}\n\n& .admin-bar__profile-svg {\n  vertical-align: text-top;\n  margin-left: 10px;\n}\n\n& .admin-bar__popup-template {\n  position: relative;\n  width: 150px;\n  padding-bottom: 7px;\n  padding-top: 5px;\n\n  line-height: 16px;\n  z-index: 999;\n  background-color: #343b4c;\n}\n\n& .admin-bar__popup-template-item {\n  display: flex;\n  justify-content: space-between;\n  padding: 4px 11px;\n\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n& .admin-bar__popup-template-item:hover {\n  background: #4f5972;\n}\n\n& .admin-bar__popup-template-chevron {\n  margin-top: 3px;\n}\n\n& .admin-bar__popup-popups-items {\n  display: none;\n  position: fixed;\n  left: 160px;\n  width: 150px;\n  padding-bottom: 7px;\n  margin-top: -4px;\n\n  background-color: #343b4c;\n}\n\n& .admin-bar__popup-popups:hover .admin-bar__popup-popups-items {\n  display: block;\n}\n\n& .admin-bar__popup-popups-item {\n  padding: 4px 11px;\n\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n& .admin-bar__popup-popups-item:hover {\n  background: #4f5972;\n}\n& .admin-bar__search-bar {\n  margin: 2px 0;\n  margin-left: 15px;\n}\n& .admin-bar__search-result {\n  position: fixed;\n  margin-top: 23px;\n  width: 315px;\n  height: 156px;\n  padding: 11px 3px 7px 9px;\n\n  z-index: 999;\n  background-color: #343b4c;\n}\n& .admin-bar__search-content {\n  width: 100%;\n  height: 100%;\n  overflow: auto;\n}\n& .admin-bar__autocomplete {\n  position: fixed;\n  margin-top: 21px;\n  width: 223px;\n  padding: 7px 0;\n\n\n  z-index: 1000;\n  box-shadow: 0px 1px 2px 1px rgba(34, 60, 80, .3);\n  background-color: #ffffff;\n  border-radius: 5px;\n  color: #000000;\n}\n& .admin-bar__autocomplete-option {\n  padding: 2px 7px;\n\n  cursor: pointer;\n}\n\n& .admin-bar__autocomplete-option:hover {\n  background-color: #d3d2d2;\n}\n\n& .admin-bar__search-value {\n  padding-left: 15px;\n}\n& .admin-bar__search-button {\n  position: fixed;\n  height: 22px;\n  width: 292px;\n  margin-top: -22px;\n  margin-left: -5px;\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  padding-right: 11px;\n\n  color: #000000;\n  background-color: #f4f4f4;\n  cursor: pointer;\n}\n& .admin-bar__search-button:hover {\n  background-color: #c2c2c2;\n}\n\n& .admin-bar__search-button svg {\n  margin-left: 5px;\n}\n& .admin-bar__search {\n  width: 223px;\n  border: 1px;\n  padding: 2px 9px;\n  vertical-align: top;\n  line-height: 17px;\n}\n& .admin-bar__button {\n  width: 83px;\n  height: 21px;\n  margin-left: 9px;\n  padding: 3px;\n  vertical-align: top;\n\n  color: #000000;\n  background-color: #87ca00;\n  border-radius: 2px;\n}\n\n& .admin-bar__search-content::-webkit-scrollbar {\n  width: 12px;\n  background: #F4F4F4;\n}\n& .admin-bar__search-content::-webkit-scrollbar-track {\n  background: #f1f1f1;\n}\n& .admin-bar__search-content::-webkit-scrollbar-thumb {\n  background: #888;\n  height: 45px;\n}\n\n& .admin-bar__search-content::-webkit-scrollbar-thumb:hover {\n  background: #555;\n}\n"])));function b(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function g(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?b(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):b(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var _=window.altrpHelpers.getDataByPath,v=function(e){(0,p.Z)(i,e);var n,t,a=(n=i,t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,a=(0,u.Z)(n);if(t){var i=(0,u.Z)(this).constructor;e=Reflect.construct(a,arguments,i)}else e=a.apply(this,arguments);return(0,s.Z)(this,e)});function i(e){var n;return(0,o.Z)(this,i),(n=a.call(this,e)).clearCache=(0,r.Z)(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.props.idPage){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,confirm("Are You Sure");case 4:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.prev=7,e.next=10,new window.altrpHelpers.Resource({route:"/admin/ajax/clear_cache"}).delete(n.props.idPage);case 10:e.sent,e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(7),e.next=17,confirm("Error");case 17:return e.next=19,confirm("Done");case 19:case"end":return e.stop()}}),e,null,[[7,13]])}))),n.state={visiblePopupTemplate:!1,valueInput:"",contentResult:React.createElement("div",null),visibleContentResult:!1,visibleAutocomplete:!1,filteredOptions:[],isHttps:!1},n.popupTemplateRef=React.createRef(),n.searchContentResult=React.createRef(),n.autocomplete=React.createRef(),n.searchInput=React.createRef(),n.toggleVisiblePopupTemplate=n.toggleVisiblePopupTemplate.bind((0,l.Z)(n)),n.handleInput=n.handleInput.bind((0,l.Z)(n)),n.handleOutsideClick=n.handleOutsideClick.bind((0,l.Z)(n)),n.openPageSettings=n.openPageSettings.bind((0,l.Z)(n)),n.handleClickCopy=n.handleClickCopy.bind((0,l.Z)(n)),n.handleClickSearch=n.handleClickSearch.bind((0,l.Z)(n)),n.handleDoubleClickSearch=n.handleDoubleClickSearch.bind((0,l.Z)(n)),n.handleKeyDown=n.handleKeyDown.bind((0,l.Z)(n)),n.onFocus=n.onFocus.bind((0,l.Z)(n)),n.handleClickOptions=n.handleClickOptions.bind((0,l.Z)(n)),n}return(0,c.Z)(i,[{key:"componentDidMount",value:function(){document.body.addEventListener("click",this.handleOutsideClick),"https"===location.href.split("://")[0]&&this.setState((function(e){return g(g({},e),{},{isHttps:!0})}))}},{key:"toggleVisiblePopupTemplate",value:function(e){e.stopPropagation(),this.setState((function(e){return g(g({},e),{},{visiblePopupTemplate:!e.visiblePopupTemplate})}))}},{key:"openTemplate",value:function(e){return function(){return window.open("/admin/editor?template_id=".concat(e),"_blank")}}},{key:"openPageSettings",value:function(){window.open("/admin/pages/edit/".concat(this.props.idPage))}},{key:"openPageAdmin",value:function(){window.open("/admin/dashboard")}},{key:"handleInput",value:function(e){var n=e.target.value,t=(localStorage.getItem("admin-bar-search-autocomplete")?JSON.parse(localStorage.getItem("admin-bar-search-autocomplete")):[]).filter((function(e){return e.toLowerCase().indexOf(n.toLowerCase())>-1}));t.splice(6,t.length-6),this.setState((function(e){return g(g({},e),{},{filteredOptions:t,valueInput:n})}))}},{key:"handleKeyDown",value:function(e){"Enter"===e.key&&this.handleClickSearch(),"Escape"===e.key&&this.setState((function(e){return g(g({},e),{},{visibleContentResult:!1})}))}},{key:"renderResultSearch",value:function(){return JSON.stringify(_(this.state.valueInput),null,"\t")}},{key:"handleOutsideClick",value:function(e){var n=e.path||e.composedPath&&e.composedPath();n.includes(this.popupTemplateRef.current)||this.setState((function(e){return g(g({},e),{},{visiblePopupTemplate:!1})})),n.includes(this.searchContentResult.current)||this.setState((function(e){return g(g({},e),{},{visibleContentResult:!1})})),n.includes(this.autocomplete.current)||n.includes(this.searchInput.current)||this.setState((function(e){return g(g({},e),{},{visibleAutocomplete:!1})}))}},{key:"handleClickCopy",value:function(){JSON.stringify(_(this.state.valueInput),null,"\t").select(),document.execCommand("copy")}},{key:"handleClickSearch",value:function(){var e=this,n=localStorage.getItem("admin-bar-search-autocomplete")?JSON.parse(localStorage.getItem("admin-bar-search-autocomplete")):[];n.push(this.state.valueInput),localStorage.setItem("admin-bar-search-autocomplete",JSON.stringify(n)),this.setState((function(n){return g(g({},n),{},{contentResult:e.renderResultSearch(),visibleContentResult:!0})}))}},{key:"handleClickOptions",value:function(e){var n=this;return function(){n.setState((function(n){return g(g({},n),{},{visibleAutocomplete:!1,valueInput:e})})),n.handleClickSearch()}}},{key:"onFocus",value:function(){this.setState((function(e){return g(g({},e),{},{visibleAutocomplete:!0})}))}},{key:"handleDoubleClickSearch",value:function(){this.setState((function(e){return g(g({},e),{},{visibleContentResult:!1})}))}},{key:"render",value:function(){var e=this;return React.createElement(h,null,React.createElement("div",{className:"admin-bar bvi-hide"},React.createElement("div",{className:"admin-bar__tools"},React.createElement("div",{className:"admin-bar__link",onClick:this.openPageAdmin},"Admin"),React.createElement("div",{className:"admin-bar__tool"},React.createElement("span",{onClick:this.toggleVisiblePopupTemplate},iconsManager.renderIcon("admin-bar1",{className:"admin-bar__tool-svg"})," ","Edit-Template"),this.state.visiblePopupTemplate&&React.createElement("div",{className:"admin-bar__popup-template",ref:this.popupTemplateRef},this.props.areas.map((function(n,t){return"popups"===n.id?React.createElement("div",{className:"admin-bar__popup-template-item admin-bar__popup-popups",key:"template-".concat(t)},"popup:"," ",iconsManager.renderIcon("chevron-admin-bar",{className:"admin-bar__popup-template-chevron"}),React.createElement("div",{className:"admin-bar__popup-popups-items"},n.templates.map((function(n,t){return React.createElement("div",{className:"admin-bar__popup-popups-item",onClick:e.openTemplate(n.id),key:"popup-".concat(t)},n.name)})))):n.template.name?React.createElement("div",{className:"admin-bar__popup-template-item",key:"template-".concat(t),onClick:e.openTemplate(n.template.id)},n.template.name):void 0})))),React.createElement("div",{className:"admin-bar__tool",onClick:this.openPageSettings},iconsManager.renderIcon("admin-bar2",{className:"admin-bar__tool-svg"})," ","Page-Settings"),React.createElement("div",{className:"admin-bar__search-bar",ref:this.searchContentResult},this.state.visibleContentResult&&React.createElement("div",{className:"admin-bar__search-result"},React.createElement("div",{className:"admin-bar__search-content",style:this.state.isHttps?{paddingBottom:"22px"}:{}},this.state.contentResult),this.state.isHttps&&React.createElement("div",{className:"admin-bar__search-button",onClick:this.handleClickCopy},"copy result ",iconsManager.renderIcon("copy-icon"))),this.state.visibleAutocomplete&&0!==this.state.filteredOptions.length&&React.createElement("div",{className:"admin-bar__autocomplete",ref:this.autocomplete},this.state.filteredOptions.map((function(n,t){return React.createElement("div",{key:t,className:"admin-bar__autocomplete-option",onClick:e.handleClickOptions(n)},n)}))),React.createElement("input",{className:"admin-bar__search",value:this.state.valueInput,onChange:this.handleInput,onKeyDown:this.handleKeyDown,onFocus:this.onFocus,ref:this.searchInput,placeholder:"source"}),React.createElement("button",{className:"admin-bar__button",onClick:this.handleClickSearch,onDoubleClick:this.handleDoubleClickSearch},"test"),React.createElement("button",{className:"admin-bar__button",onClick:this.clearCache},"Clear Cache"))),React.createElement("div",{className:"admin-bar__profile"},"Hello,",this.props.data.name?this.props.data.name:this.props.data.email,iconsManager.renderIcon("admin-bar4",{className:"admin-bar__profile-svg"}))))}}]),i}(React.Component)}}]);
//# sourceMappingURL=AdminBar.0be2d2c6fbc2d4488f92.bundle.js.map