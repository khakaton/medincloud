{"version":3,"sources":["webpack:///./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","webpack:///./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/esm/inherits.js","webpack:///./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","webpack:///./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack:///./resources/modules/editor/src/js/components/SectionComponent.js"],"names":["_assertThisInitialized","self","ReferenceError","_getPrototypeOf","o","Object","setPrototypeOf","getPrototypeOf","__proto__","_inherits","subClass","superClass","TypeError","prototype","create","constructor","value","writable","configurable","_possibleConstructorReturn","call","_setPrototypeOf","p","_typeof","obj","Symbol","iterator","window","altrpHelpers","isEditor","redirect","globalDefaults","push","container_width","SectionComponent","props","onClick","e","sectionLink","element","getSettings","getCurrentModel","getData","children","length","state","settings","component","elementDecorator","baseRender","render","_","get","this","styles","maxWidth","background_image","background_image_hover","getResponsiveSetting","isFixed","widthType","layout_content_width_type","sectionClasses","getColumnsCount","sectionIsLink","url","ElementWrapper","SectionElementWrapper","sectionWrapper","map","column","key","getIdForAction","rootElement","componentClass","layout_html_tag","React","createElement","style","className","join","isActive","position_style_css_classes","id","columns","Component"],"mappings":"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","file":"SectionComponent.eb0cd2f5946dc9cca847.bundle.js","sourcesContent":["export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","import _typeof from \"@babel/runtime/helpers/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized.js\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","const { isEditor, redirect } = window.altrpHelpers;\r\n\r\n(window.globalDefaults = window.globalDefaults || []).push(`\r\n  .altrp-section {\r\n    display: flex;\r\n    &.altrp-section--boxed > .altrp-element {\r\n      margin: 0 auto;\r\n    }\r\n    &.altrp-section--full-width,\r\n    &.altrp-section--boxed {\r\n      width: 100vw;\r\n    }\r\n  }\r\n\r\n  .altrp-section-full-fill {\r\n    display: flex;\r\n    width: 100vh;\r\n  }\r\n\r\n  .altrp-section-full-fill .altrp-section {\r\n    width: 1400px;\r\n    margin-left: auto;\r\n    margin-right: auto;\r\n  }\r\n\r\n  .altrp-section {\r\n    position: relative;\r\n    top: auto;\r\n    right: auto;\r\n    left: auto;\r\n    bottom: auto;\r\n  }\r\n\r\n  .altrp-section_section-boxed.altrp-section_section-boxed {\r\n    padding-left: calc((100vw - ${window.container_width || 1440}px) / 2);\r\n    padding-right: calc((100vw - ${window.container_width || 1440}px) / 2);\r\n    width: 100vw;\r\n  }\r\n`);\r\n\r\nclass SectionComponent extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    if (!props.children.length) {\r\n      throw `Section Component Must Contain at Least One Column as Child`;\r\n    }\r\n    this.state = {\r\n      children: props.children,\r\n      settings: props.element.getSettings()\r\n    };\r\n    props.element.component = this;\r\n    if (window.elementDecorator) {\r\n      window.elementDecorator(this);\r\n    }\r\n    if (props.baseRender) {\r\n      this.render = props.baseRender(this);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Обрабатываем клик по секции\r\n   * @param e\r\n   */\r\n  onClick = e => {\r\n    if (isEditor()) {\r\n      return;\r\n    }\r\n    const sectionLink = this.props.element.getSettings(\"link_link\");\r\n    redirect(sectionLink, e, this.props.element.getCurrentModel().getData());\r\n  };\r\n\r\n  /**\r\n   * Курсор для ссылки\r\n   * @return {boolean}\r\n   */\r\n  sectionIsLink() {\r\n    if (isEditor()) {\r\n      return false;\r\n    }\r\n    return !!_.get(this, \"props.element.settings.link_link.url\");\r\n  }\r\n\r\n  render() {\r\n    let styles = {\r\n      maxWidth: \"100%\"\r\n    };\r\n    const background_image = this.props.element.getSettings(\r\n      \"background_image\",\r\n      {}\r\n    );\r\n    const background_image_hover = this.props.element.getResponsiveSetting(\r\n      \"background_image\",\r\n      \":hover\",\r\n      {},\r\n    );\r\n    const {  isFixed } = this.props.element.getSettings();\r\n    const widthType = this.props.element.getSettings()\r\n      .layout_content_width_type;\r\n\r\n\r\n    let sectionClasses = [\r\n      \"altrp-section\",\r\n      `altrp-section_columns-${this.props.element.getColumnsCount()}`\r\n    ];\r\n    if (this.sectionIsLink()) {\r\n      sectionClasses.push(\"altrp-pointer\");\r\n    }\r\n    if (background_image.url || background_image_hover /*  && !isScrollEffect */) {\r\n      sectionClasses.push(\"altrp-background-image\");\r\n    }\r\n\r\n    if (widthType === \"boxed\" && !isFixed) {\r\n      sectionClasses.push(\"altrp-section_boxed\");\r\n    }\r\n    if (widthType === \"section_boxed\" && !isFixed) {\r\n      sectionClasses.push(\"altrp-section_section-boxed\");\r\n      delete styles.maxWidth;\r\n    }\r\n\r\n    if (widthType === \"full\" && !isFixed) {\r\n      sectionClasses.push(\"altrp-section--full-width\");\r\n      delete styles.maxWidth;\r\n    }\r\n\r\n    let ElementWrapper = window.SectionElementWrapper || this.props.ElementWrapper || window.ElementWrapper;\r\n    let sectionWrapper = this.state.children.map(column => (\r\n      <ElementWrapper\r\n        ElementWrapper={ElementWrapper}\r\n        key={column.getIdForAction()}\r\n        rootElement={this.props.rootElement}\r\n        baseRender={this.props.baseRender}\r\n        component={column.componentClass}\r\n        element={column}\r\n      />\r\n    ));\r\n\r\n    const fitToContent = this.props.element.getResponsiveSetting(\"layout_height\", \"\", \"default\")\r\n    if (fitToContent === \"fit\") {\r\n      sectionClasses.push(\"section-fit-to-content\");\r\n    }\r\n    const layout_html_tag =\r\n      this.props.element.getSettings(\"layout_html_tag\") || \"div\";\r\n\r\n\r\n    return React.createElement(\r\n      layout_html_tag,\r\n      {\r\n        style: styles,\r\n        className:\r\n          sectionClasses.join(\" \") +\r\n          \" \" +\r\n          (this.isActive() ? 'active ' : '') +\r\n          this.state.settings.position_style_css_classes,\r\n        id: \"\",\r\n        onClick: this.onClick,\r\n        columns: this.props.element.children || [],\r\n        settings: this.props.element.getSettings()\r\n      },\r\n     sectionWrapper\r\n    );\r\n\r\n  }\r\n}\r\n\r\nexport default SectionComponent;\r\n"],"sourceRoot":""}