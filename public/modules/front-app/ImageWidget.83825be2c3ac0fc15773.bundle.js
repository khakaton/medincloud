(self.webpackChunk=self.webpackChunk||[]).push([[551],{71743:function(t,e,n){"use strict";var i=n(6610),r=n(5991),o=n(83465),a=n.n(o),s=n(29208),l=n.n(s),c=n(31468),u=n.n(c),p=n(38394),g=n.n(p),h=n(96633),d=n.n(h),f=n(99245),m=n.n(f),v=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,i.Z)(this,t),this.data=a()(e)}return(0,r.Z)(t,[{key:"getData",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return t?a()(this.data):this.data}},{key:"isEmpty",value:function(){return m()(this.data)}},{key:"getProperty",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return l()(this.data,t,e)}},{key:"hasProperty",value:function(t){return g()(this.data,t)}},{key:"setProperty",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return n instanceof t&&(n=n.getData(!1)),u()(this.data,e,n)}},{key:"unsetProperty",value:function(t){return d()(this.data,t)}}]),t}();window.AltrpModel=v,e.Z=v},1866:function(t,e,n){"use strict";n.d(e,{Z:function(){return D}});var i,r,o,a=n(96156),s=n(6610),l=n(5991),c=n(10379),u=n(46070),p=n(77608),g=n(22122),h=n(32465),d=n(71893),f="#eee",m=d.ZP.span(r||(r=(0,h.Z)(["\n  animation: "," 1.2s ease-in-out infinite;\n  background-color: ",";\n  background-size: 200px 100%;\n  background-repeat: no-repeat;\n  background-image: linear-gradient(90deg, ",");\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  height: 100%;\n"])),(function(t,e){return(0,d.F4)(i||(i=(0,h.Z)(["\n  0% {\n    background-position: -200px 0;\n  }\n  ","\n  100% {\n    background-position: calc(200px + 100%) 0;\n  }\n"])),e>0?"".concat(Math.floor(1/(t+e)*t*100),"% {\n    background-position: calc(200px + 100%) 0;\n  }"):void 0)}),(function(t){var e=t.color;return"".concat(e||f)}),(function(t){var e=t.highlightColor,n=t.color;return"".concat(n||f,", ").concat(e||"#f5f5f5",", ").concat(n||f)})),v=function(t){return React.createElement("div",{className:t.className},React.createElement(m,(0,g.Z)({},t,{className:"altrp-skeleton__span"})))},y=n(76593),b=d.ZP.div(o||(o=(0,h.Z)(["& {\n  position: relative;\n  max-width: 100%;\n  overflow: hidden;\n  width:",";\n","\n\n  background-color: ",";\n}\n&::before{\n  display: block;\n  content: '';\n  width: 100%;\n",";\n}\n&& .altrp-skeleton,\n&& .altrp-image{\n  position:absolute;\n  top:0;\n  left:0;\n  right:0;\n  bottom:0;\n  height:100%;\n  width:100%;\n}\n"])),(function(t){return _.isNumber(t.width)?t.width+"px":t.width?t.width:"100%"}),(function(t){var e=t.settings,n=(0,y.getResponsiveSetting)(e,"aspect_ratio_size");return 0!==Number(n)&&"custom"===n||Number(n)?"height:auto;":t.height&&-1===t.height.indexOf("%")?"height:".concat(t.height?t.height:"auto",";"):"height:auto;"}),(function(t){return t.color?t.color:"#fff"}),(function(t){var e=t.settings,n=t.height,i="",r=(0,y.getResponsiveSetting)(e,"aspect_ratio_size");if(0!==Number(r)){if("custom"===r){var o=(0,y.getResponsiveSetting)(e,"custom_aspect");o=Number(o)||100,i+="padding-top:".concat(o,"%;")}else Number(r)&&(i+="padding-top:".concat(r,"%;"));return i}return n&&_.isString(n)&&-1===n.indexOf("%")||Number(t.mediaWidth)&&Number(t.mediaHeight)&&(i+="padding-top:".concat(t.mediaHeight/t.mediaWidth*100,"%;")),i})),w=n(29459);function R(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function k(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?R(Object(n),!0).forEach((function(e){(0,a.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Z=window.altrpHelpers,P=Z.isEditor,S=Z.isSSR,C=Z.renderAsset,O=function(t){(0,c.Z)(r,t);var e,n,i=(e=r,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=(0,p.Z)(e);if(n){var r=(0,p.Z)(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return(0,u.Z)(this,t)});function r(t){var e,n,o;(0,s.Z)(this,r),(o=i.call(this,t)).imageRef=React.createRef();var a=!0;return(!S()||null!==(e=t.element)&&void 0!==e&&e.getResponsiveSetting("lazyload_disable"))&&(P()||!1===t.lazy||!window.altrpImageLazy||"none"===window.altrpImageLazy||!t.element||null!==(n=t.element)&&void 0!==n&&n.getResponsiveSetting("lazyload_disable"))||(a=!1),o.state={visible:a,update:0},o.timeoutId=setTimeout((function(){return o.setState((function(t){return k(k({},t),{},{update:t.update++})}))}),500),o}return(0,l.Z)(r,[{key:"componentWillUnmount",value:function(){clearTimeout(this.timeoutId)}},{key:"componentDidUpdate",value:function(t,e){var n,i,r;if(this.state.visible&&clearTimeout(this.timeoutId),!this.state.visible&&this.imageRef.current&&(null!==(n=this.props)&&void 0!==n&&null!==(i=n.element)&&void 0!==i&&null!==(r=i.getRoot())&&void 0!==r&&r.popupGUID&&this.props.element.getRoot().popupGUID===this.props.popupTrigger.popupID&&this.setState((function(t){return k(k({},t),{},{visible:!0})})),t.scrollPosition!==this.props.scrollPosition||e.update!==this.state.update)){var o=window.mainScrollbars;o||(o=document.querySelector(".front-app-content")),o||(o=document.querySelector(".front-app")),this.imageRef.current&&(0,w.nX)(this.imageRef.current,o)&&(clearTimeout(this.timeoutId),this.setState((function(t){return k(k({},t),{},{visible:!0})})))}}},{key:"render",value:function(){var t,e=k({},this.props.image),n=this.state.visible,i=this.props.noDefault||!1,r={},o=this.props.width,a=this.props.height;if(!S()&&this.props.image instanceof File)e=this.props.image;else if(this.props.default)0===Object.keys(e).length&&(e=this.props.default);else{if(i)return"";e.url=e.url||"/img/nullImage.png",e.name=e.name||"null",e.assetType=e.assetType||void 0}var s=C(e);(n||"skeleton"===window.altrpImageLazy)&&(r.background="transparent");var l=React.createElement(b,{color:e.main_color,className:"altrp-image-placeholder ",ref:this.imageRef,settings:(null===(t=this.props.element)||void 0===t?void 0:t.getSettings())||{},height:a,width:o,style:r,mediaWidth:e.width||100,mediaHeight:e.height||75},"skeleton"===window.altrpImageLazy&&!n&&React.createElement(v,{className:"altrp-skeleton",color:window.altrpSkeletonColor,highlightColor:window.altrpSkeletonHighlightColor}),n&&React.cloneElement(s,{className:this.props.className,id:this.props.id||null,style:this.props.style}));return React.createElement(React.Fragment,null,l)}}]),r}(Component),D=P()?O:window.reactRedux.connect((function(t){return{scrollPosition:t.scrollPosition,popupTrigger:t.popupTrigger}}))(O)},66017:function(t,e,n){"use strict";n.r(e);var i=n(22122),r=n(6610),o=n(5991),a=n(63349),s=n(10379),l=n(46070),c=n(77608),u=n(76593),p=n(1866);(window.globalDefaults=window.globalDefaults||[]).push("\n  .altrp-image {\n    margin-top: 0;\n    margin-right: 0;\n    margin-bottom: 0;\n    margin-left: 0;\n    padding-top: 0;\n    padding-right: 0;\n    padding-bottom: 0;\n    padding-left: 0;\n    opacity: 1;\n    object-fit: cover;\n    border-color: rgb(50,168,82);\n    border-radius: 0;\n  }\n\n  .altrp-image-container {\n    display: flex;\n    justify-content: center;\n  }\n");var g=window.Link,h=function(t){(0,s.Z)(d,t);var e,n,h=(e=d,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=(0,c.Z)(e);if(n){var r=(0,c.Z)(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return(0,l.Z)(this,t)});function d(t){var e;return(0,r.Z)(this,d),(e=h.call(this,t)).state={settings:t.element.getSettings()},t.element.component=(0,a.Z)(e),window.elementDecorator&&window.elementDecorator((0,a.Z)(e)),t.baseRender&&(e.render=t.baseRender((0,a.Z)(e))),e}return(0,o.Z)(d,[{key:"render",value:function(){var t=this.props.element,e=this.state.settings.image_link||{},n=this.props.element.getSettings("cursor_pointer",!1),r=this.props.element.getSettings("background_image",{}),o="altrp-image-container",a=this.state.settings.content_media;n&&(o+=" cursor-pointer");var s=t.hasCardModel()?t.getCardModel():this.props.currentModel;this.getContent("raw_url")?a={url:this.getContent("raw_url"),assetType:"media"}:this.getContent("content_path")&&_.isObject((0,u.getDataByPath)(this.getContent("content_path"),null,s))?(a=(0,u.getDataByPath)(this.getContent("content_path"),null,s),_.get(a,"0")instanceof File?a=_.get(a,"0"):a.assetType="media"):this.getContent("content_path")&&_.isString((0,u.getDataByPath)(this.getContent("content_path"),null,s))?a={assetType:"media",url:a=(0,u.getDataByPath)(this.getContent("content_path"),null,s),name:"null"}:this.getContent("default_url")&&_.isString((0,u.getDataByPath)(this.getContent("default_url"),null,s))&&(a={assetType:"media",url:(0,u.getDataByPath)(this.getContent("default_url"),null,s),name:"default"});var l=this.props.element.getResponsiveSetting("width_size"),c=this.props.element.getResponsiveSetting("height_size");l=_.get(l,"size","100")+_.get(l,"unit","%"),c=_.get(c,"size")?_.get(c,"size")+_.get(c,"unit","%"):"","0"===_.get(this.props.element.getResponsiveSetting("height_size"),"size","100")&&(c="");var h=React.createElement(p.Z,{image:a,width:l,element:this.props.element,height:c,className:"altrp-image"+(r?" altrp-background-image":"")});if(e.toPrevPage&&!(0,u.isEditor)())return React.createElement("div",{className:o,onClick:function(){history.back()}},h);var d=e.url||"";d=(0,u.parseURLTemplate)(d,this.props.element.getCurrentModel().getData());var f={};return e.openInNew&&(f.target="_blank"),React.createElement("div",{className:o},d&&!(0,u.isEditor)()?"a"===e.tag||window["h-altrp"]?React.createElement("a",(0,i.Z)({href:d},f),h):React.createElement(g,(0,i.Z)({to:d},f),h):h)}}]),d}(Component);e.default=h}}]);
//# sourceMappingURL=ImageWidget.83825be2c3ac0fc15773.bundle.js.map