{"version":3,"sources":["webpack:///./node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack:///./node_modules/@babel/runtime/helpers/esm/createClass.js","webpack:///./resources/modules/front-app/src/js/functions/load-admin-bar.js","webpack:///./resources/modules/front-app/src/js/classes/modules/HAltrp.js","webpack:///./resources/modules/front-app/src/js/functions/load-email-renderer.js"],"names":["_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","prototype","loadAdminBar","isAdmin","window","appStore","getState","currentUser","hasRoles","document","querySelector","classList","remove","add","then","module","AdminBar","default","adminContainer","createElement","body","appendChild","ReactDOM","render","data","current_user","areas","page_areas","idPage","page_id","HAltrp","onUserAction","e","removeEventListener","actionComponents","find","action","loadPopups","addEventListener","this","_","get","__altrp_settings__","EmailTemplatesRenderer","emailContainer","Provider","store","hAltrp"],"mappings":"8FAAe,SAASA,EAAgBC,EAAUC,GAChD,KAAMD,aAAoBC,GACxB,MAAM,IAAIC,UAAU,qC,mECFxB,SAASC,EAAkBC,EAAQC,GACjC,IAAK,IAAIC,EAAI,EAAGA,EAAID,EAAME,OAAQD,IAAK,CACrC,IAAIE,EAAaH,EAAMC,GACvBE,EAAWC,WAAaD,EAAWC,aAAc,EACjDD,EAAWE,cAAe,EACtB,UAAWF,IAAYA,EAAWG,UAAW,GACjDC,OAAOC,eAAeT,EAAQI,EAAWM,IAAKN,IAInC,SAASO,EAAad,EAAae,EAAYC,GAG5D,OAFID,GAAYb,EAAkBF,EAAYiB,UAAWF,GACrDC,GAAad,EAAkBF,EAAagB,GACzChB,E,kICVM,SAASkB,IACtB,IAAIC,EAAUC,OAAOC,SAASC,WAAWC,YAAYC,SAAS,CAAC,WAC3DL,GAAWM,SAASC,cAAc,oBACpCD,SAASC,cAAc,oBAAoBC,UAAUC,OAAO,mBACpDT,IAAaM,SAASC,cAAc,qBAC5CD,SAASC,cAAc,cAAcC,UAAUE,IAAI,mBAGlDJ,SAASC,cAAc,qBACxB,gCAAoEI,MAAK,SAAAC,GACvE,IAAMC,EAAWD,EAAOE,QAClBC,EAAiBT,SAASU,cAAc,OAC9CV,SAASW,KAAKC,YAAYH,GAC1BI,SAASC,OAAO,oBAACP,EAAD,CAAUQ,KAAMpB,OAAOqB,cAAgB,GAAIC,MAAOtB,OAAOuB,YAAc,GAAIC,OAAQxB,OAAOyB,UAAYX,M,ICTtHY,E,WACJ,aAAc,gCAYdC,aAZc,mCAYC,WAAOC,GAAP,oEAEb5B,OAAO6B,oBAAoB,QAAS,EAAKF,cACzC3B,OAAO6B,oBAAoB,SAAU,EAAKF,cAC1C3B,OAAO6B,oBAAoB,aAAc,EAAKF,cAC9C3B,OAAO6B,oBAAoB,YAAa,EAAKF,cAC7C3B,OAAO6B,oBAAoB,YAAa,EAAKF,cAC7C3B,OAAO6B,oBAAoB,aAAc,EAAKF,cAC9C3B,OAAO6B,oBAAoB,WAAY,EAAKF,eACzC,EAAKG,iBAAiBC,MAAM,SAAAC,GAAM,MAAe,iBAAXA,KAT5B,kCAUa,gCAVb,SAUPC,EAVO,OAUoDpB,WAVpD,4CAZD,sDACZf,IACAE,OAAOkC,iBAAiB,QAASC,KAAKR,cACtC3B,OAAOkC,iBAAiB,SAAUC,KAAKR,cACvC3B,OAAOkC,iBAAiB,aAAcC,KAAKR,cAC3C3B,OAAOkC,iBAAiB,YAAaC,KAAKR,cAC1C3B,OAAOkC,iBAAiB,YAAaC,KAAKR,cAC1C3B,OAAOkC,iBAAiB,aAAcC,KAAKR,cAC3C3B,OAAOkC,iBAAiB,WAAYC,KAAKR,cACzCQ,KAAKL,iBAAmBM,EAAEC,IAAIC,mBAAoB,oBAAqB,I,6CAkBzE,WACExC,IACGqC,KAAKL,iBAAiBC,KAAK,UChChC,iGAA+FrB,MAAK,SAAAC,GAClG,IAAM4B,EAAyB5B,EAAOE,QAChC2B,EAAiBnC,SAASU,cAAc,OAC9CV,SAASW,KAAKC,YAAYuB,GAC1BtB,SAASC,OAAO,oBAACnB,OAAOyC,SAAR,CAAiBC,MAAO1C,OAAOC,UAC7C,oBAACsC,EAAD,OACkBC,U,KDgCxBxC,OAAO2C,OAAU,IAAIjB","file":"8127.272eb9edbdf40d6ec557.bundle.js","sourcesContent":["export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","/**\r\n * Загрузка админбара\r\n */\r\nexport default function loadAdminBar() {\r\n  let isAdmin = window.appStore.getState().currentUser.hasRoles(['admin']);\r\n  if(!isAdmin && document.querySelector('.front-app_admin')){\r\n    document.querySelector('.front-app_admin').classList.remove('front-app_admin')\r\n  } else if(isAdmin && ! document.querySelector('.front-app_admin')){\r\n    document.querySelector('.front-app').classList.add('front-app_admin')\r\n  }\r\n\r\n  if(document.querySelector('.front-app_admin')) {\r\n    import (/* webpackChunkName: 'AdminBar' */'../components/AdminBar').then(module => {\r\n      const AdminBar = module.default;\r\n      const adminContainer = document.createElement('div');\r\n      document.body.appendChild(adminContainer);\r\n      ReactDOM.render(<AdminBar data={window.current_user || {}} areas={window.page_areas || []} idPage={window.page_id}/>, adminContainer);\r\n    });\r\n  }\r\n}\r\n","import loadAdminBar from \"../../functions/load-admin-bar\";\r\nimport loadEmailRenderer from \"../../functions/load-email-renderer\";\r\n/**\r\n * @class HAltrp\r\n */\r\n\r\n\r\nclass HAltrp {\r\n  constructor() {\r\n    loadAdminBar();\r\n    window.addEventListener('click', this.onUserAction);\r\n    window.addEventListener('scroll', this.onUserAction);\r\n    window.addEventListener('mouseenter', this.onUserAction);\r\n    window.addEventListener('mousemove', this.onUserAction);\r\n    window.addEventListener('touchmove', this.onUserAction);\r\n    window.addEventListener('touchstart', this.onUserAction);\r\n    window.addEventListener('touchend', this.onUserAction);\r\n    this.actionComponents = _.get(__altrp_settings__, 'action_components', [])\r\n  }\r\n\r\n  onUserAction = async (e)=>{\r\n\r\n    window.removeEventListener('click', this.onUserAction);\r\n    window.removeEventListener('scroll', this.onUserAction);\r\n    window.removeEventListener('mouseenter', this.onUserAction);\r\n    window.removeEventListener('mousemove', this.onUserAction);\r\n    window.removeEventListener('touchmove', this.onUserAction);\r\n    window.removeEventListener('touchstart', this.onUserAction);\r\n    window.removeEventListener('touchend', this.onUserAction);\r\n    if(this.actionComponents.find((action => action === 'toggle_popup'))){\r\n      let loadPopups = (await import('../../functions/load-popups')).default;\r\n      loadPopups();\r\n    }\r\n  }\r\n\r\n  loadComponents(){\r\n    loadAdminBar();\r\n    if(this.actionComponents.find('email')){\r\n      loadEmailRenderer();\r\n    }\r\n  }\r\n}\r\n\r\nwindow.hAltrp =  new HAltrp();\r\n\r\n","\r\n/**\r\n * Загрузка отрисовщика email\r\n */\r\nexport default function loadEmailRenderer(){\r\n  import(/* webpackChunkName: 'EmailTemplatesRenderer' */'../components/EmailTemplatesRenderer').then(module => {\r\n    const EmailTemplatesRenderer = module.default;\r\n    const emailContainer = document.createElement('div');\r\n    document.body.appendChild(emailContainer);\r\n    ReactDOM.render(<window.Provider store={window.appStore}>\r\n      <EmailTemplatesRenderer/>\r\n    </window.Provider>, emailContainer)\r\n  });\r\n}\r\n"],"sourceRoot":""}