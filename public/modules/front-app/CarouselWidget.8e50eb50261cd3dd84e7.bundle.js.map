{"version":3,"sources":["webpack:///./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","webpack:///./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack:///./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/esm/inherits.js","webpack:///./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","webpack:///./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack:///./resources/modules/editor/src/js/components/widgets/CarouselWidget.js","webpack:///./resources/modules/front-app/src/js/helpers/react.js"],"names":["_assertThisInitialized","self","ReferenceError","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","_inherits","subClass","superClass","TypeError","prototype","create","constructor","_possibleConstructorReturn","call","_setPrototypeOf","p","_typeof","Symbol","iterator","window","globalDefaults","push","CarouselWidget","props","state","settings","element","getSettings","AltrpCarousel","component","elementDecorator","baseRender","render","carousel","React","createRef","default","this","setState","carouselProps","currentScreen","elementId","getId","slides_repeater","isClassComponent","ref","Component","isReactComponent","usePrevious","useRef","useEffect","current"],"mappings":"2FAAe,SAASA,EAAuBC,GAC7C,QAAa,IAATA,EACF,MAAM,IAAIC,eAAe,6DAG3B,OAAOD,E,oECLM,SAASE,EAAgBC,EAAKC,EAAKC,GAYhD,OAXID,KAAOD,EACTG,OAAOC,eAAeJ,EAAKC,EAAK,CAC9BC,MAAOA,EACPG,YAAY,EACZC,cAAc,EACdC,UAAU,IAGZP,EAAIC,GAAOC,EAGNF,E,oECZM,SAASQ,EAAgBC,GAItC,OAHAD,EAAkBL,OAAOO,eAAiBP,OAAOQ,eAAiB,SAAyBF,GACzF,OAAOA,EAAEG,WAAaT,OAAOQ,eAAeF,KAEvBA,G,mHCHV,SAASI,EAAUC,EAAUC,GAC1C,GAA0B,mBAAfA,GAA4C,OAAfA,EACtC,MAAM,IAAIC,UAAU,sDAGtBF,EAASG,UAAYd,OAAOe,OAAOH,GAAcA,EAAWE,UAAW,CACrEE,YAAa,CACXjB,MAAOY,EACPP,UAAU,EACVD,cAAc,KAGdS,IAAY,OAAeD,EAAUC,K,6FCX5B,SAASK,EAA2BvB,EAAMwB,GACvD,OAAIA,GAA2B,YAAlB,OAAQA,IAAsC,mBAATA,GAI3C,OAAsBxB,GAHpBwB,I,mCCJI,SAASC,EAAgBb,EAAGc,GAMzC,OALAD,EAAkBnB,OAAOO,gBAAkB,SAAyBD,EAAGc,GAErE,OADAd,EAAEG,UAAYW,EACPd,IAGcA,EAAGc,G,oECNb,SAASC,EAAQxB,GAa9B,OATEwB,EADoB,mBAAXC,QAAoD,iBAApBA,OAAOC,SACtC,SAAiB1B,GACzB,cAAcA,GAGN,SAAiBA,GACzB,OAAOA,GAAyB,mBAAXyB,QAAyBzB,EAAImB,cAAgBM,QAAUzB,IAAQyB,OAAOR,UAAY,gBAAkBjB,IAI9GA,G,0wBCXhB2B,OAAOC,eAAiBD,OAAOC,gBAAkB,IAAIC,KAArD,2sI,IA6NKC,E,0cACJ,WAAYC,GAAM,6BAChB,cAAMA,IACDC,MAAQ,CACXC,SAAUF,EAAMG,QAAQC,cACxBC,cAAe,kBAAI,+CAErBL,EAAMG,QAAQG,WAAd,UACGV,OAAOW,kBACRX,OAAOW,kBAAP,WAECP,EAAMQ,aACP,EAAKC,OAAST,EAAMQ,YAAN,YAEhB,EAAKE,SAAWC,MAAMC,YAbN,E,sEAoBlB,oGAC4B,0GAD5B,OAEEP,GADIA,EADN,QAEgCQ,QAC9BC,KAAKC,UAAS,SAAAd,GAAK,cACZA,GADY,IAEjBI,qBALJ,gD,iEASA,WACE,IAAMW,EAAgB,EAAH,KACdF,KAAKd,MAAMG,QAAQC,eADL,IAEjBa,cAAeH,KAAKd,MAAMiB,cAC1BC,UAAWJ,KAAKd,MAAMG,QAAQgB,UAQhC,OANKH,EAAcI,kBACjBJ,EAAcI,gBAAkB,KAE/BC,QAAiBP,KAAKb,MAAMI,iBAC7BW,EAAcM,IAAMR,KAAKJ,UAEpB,yBAAMT,MAAMI,cAAkBW,O,GA1CZO,WA8C7B,a,2GC3QO,SAASF,EAAiBf,GAC/B,MACyB,mBAAdA,KACLA,EAAUpB,UAAUsC,iBA8BrB,SAASC,EAAYtD,GAC1B,IAAMmD,GAAMI,cAIZ,OAHAC,gBAAU,WACRL,EAAIM,QAAUzD,IACb,CAACA,IACGmD,EAAIM","file":"CarouselWidget.8e50eb50261cd3dd84e7.bundle.js","sourcesContent":["export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","import _typeof from \"@babel/runtime/helpers/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized.js\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","import {isClassComponent} from \"../../../../../front-app/src/js/helpers/react\";\r\n\r\n(window.globalDefaults = window.globalDefaults || []).push(`\r\n  .altrp-carousel-slide-img {\r\n      background: no-repeat 50%;\r\n      -webkit-background-size: cover;\r\n      cursor: grab;\r\n      background-size: cover;\r\n      height: 100%;\r\n      width: 100%;\r\n      object-fit: cover;\r\n      border-style: solid;\r\n      border-width: 0;\r\n      position: relative;\r\n  }\r\n\r\n  .altrp-carousel-slide {\r\n      overflow: hidden;\r\n      height: 220px;\r\n      position: relative;\r\n  }\r\n\r\n  .slick-list {\r\n    height: 100%;\r\n  }\r\n\r\n  .altrp-carousel-arrow svg {\r\n    width: 50px;\r\n    height: 50px;\r\n  }\r\n\r\n  .slick-slide, .altrp-carousel-dots {\r\n    padding: 0 15px;\r\n  }\r\n\r\n  .altrp-carousel-paging {\r\n    width: 10px;\r\n    height: 10px;\r\n    background-color: #a4a4a4;\r\n  }\r\n\r\n  .altrp-carousel-slide-overlay {\r\n    background-color: rgb(255, 255, 255);\r\n  }\r\n\r\n  .altrp-carousel-arrow {\r\n      cursor: pointer;\r\n      position: relative;\r\n      z-index: 999;\r\n      display: flex;\r\n      justify-content: center;\r\n      align-items: center;\r\n  }\r\n\r\n  .altrp-carousel-arrow-next {\r\n      transform: rotate(180deg);\r\n  }\r\n\r\n  .altrp-carousel {\r\n      position: relative;\r\n      display: flex;\r\n      justify-content: center;\r\n      align-items: center;\r\n      height: 100%;\r\n      width: 100%;\r\n  }\r\n\r\n  .altrp-carousel-paging {\r\n      border-radius: 10vh;\r\n      background-color: #a4a4a4;\r\n      padding-right: 1px;\r\n  }\r\n\r\n  .altrp-carousel-container {\r\n      width: 100%;\r\n  }\r\n\r\n  .altrp-carousel-dots .slick-active .altrp-carousel-paging {\r\n      background-color: #136aed;\r\n  }\r\n\r\n  .altrp-carousel-dots-bottom-left {\r\n      text-align: left !important;\r\n  }\r\n\r\n  .altrp-carousel-dots-bottom-right {\r\n      text-align: right !important;\r\n  }\r\n\r\n  .altrp-carousel-dots-top-left {\r\n      text-align: left !important;\r\n  }\r\n\r\n  .altrp-carousel-dots-top {\r\n      text-align: center !important;\r\n      bottom: auto !important;\r\n  }\r\n\r\n  .altrp-carousel-dots-top-right {\r\n      text-align: right !important;\r\n  }\r\n\r\n  .altrp-carousel-dots {\r\n      position: relative;\r\n      list-style: none;\r\n      padding: 0;\r\n      text-align: center;\r\n      margin: 0;\r\n      bottom: 0;\r\n  }\r\n\r\n  .altrp-carousel-dots li {\r\n      position: relative;\r\n      display: inline-block;\r\n      margin-left: 5px;\r\n      cursor: pointer;\r\n  }\r\n\r\n  .altrp-carousel-paging:first-child {\r\n      margin-left: 0;\r\n  }\r\n\r\n  .altrp-carousel-container-no-arrow {\r\n      width: 100%;\r\n  }\r\n\r\n  .altrp-carousel-arrow-top-left {\r\n      top: 0;\r\n      left: 0;\r\n      margin-top: 10px;\r\n      margin-left: 10px;\r\n  }\r\n\r\n  .altrp-carousel-arrows-container {\r\n      position: absolute;\r\n      display: flex;\r\n      font-size: 25px;\r\n      flex-direction: row;\r\n      z-index: 999;\r\n  }\r\n\r\n  .altrp-carousel-arrow-top {\r\n      top: 0;\r\n  }\r\n\r\n  .altrp-carousel-arrows-container .altrp-carousel-arrow-prev {\r\n      display: flex;\r\n      margin-right: 2em;\r\n  }\r\n\r\n  .altrp-carousel-arrows-container .altrp-carousel-arrow-next {\r\n      display: flex;\r\n      margin-left: 2em;\r\n  }\r\n\r\n  .altrp-carousel-arrow-top-right {\r\n      top: 0;\r\n      right: 0;\r\n      margin-right: 10px;\r\n  }\r\n\r\n  .altrp-carousel-arrow-bottom-left {\r\n      bottom: 0;\r\n      left: 0;\r\n      margin-left: 10px;\r\n  }\r\n\r\n  .altrp-carousel-arrow-bottom {\r\n      bottom: 0;\r\n\r\n  }\r\n\r\n  .altrp-carousel-arrow-bottom-right {\r\n      bottom: 0;\r\n      right: 0;\r\n      margin-right: 10px;\r\n  }\r\n\r\n  .altrp-carousel-slides {\r\n      width: 100%;\r\n      display: flex;\r\n  }\r\n\r\n  .altrp-carousel-slides-dots-top {\r\n      flex-direction: column-reverse;\r\n  }\r\n\r\n  .altrp-carousel-slides-dots-top .altrp-carousel-dots {\r\n      margin-bottom: 15px;\r\n  }\r\n\r\n  .altrp-carousel-slides-dots-bottom {\r\n      flex-direction: column;\r\n  }\r\n\r\n  .altrp-carousel-slides-dots-bottom .altrp-carousel-dots {\r\n      margin-bottom: -15px;\r\n  }\r\n\r\n  .altrp-carousel-slide-overlay {\r\n      width: calc(100% - 40px);\r\n      margin: 20px;\r\n      top: 0;\r\n      opacity: 0;\r\n      display: flex;\r\n      justify-content: center;\r\n      align-items: center;\r\n      perspective: 20px;\r\n      height: calc(100% - 40px);\r\n      padding: 10px;\r\n      cursor: grab;\r\n      background-color: #ffffff;\r\n      z-index: 4;\r\n      position: absolute;\r\n      transition: 0.5s;\r\n  }\r\n\r\n  .altrp-carousel-slide:hover .altrp-carousel-slide-overlay {\r\n      opacity: 1;\r\n  }\r\n\r\n`);\r\n\r\nclass CarouselWidget extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      settings: props.element.getSettings(),\r\n      AltrpCarousel: ()=><div>Loading...</div>\r\n    };\r\n    props.element.component = this;\r\n    if(window.elementDecorator){\r\n      window.elementDecorator(this);\r\n    }\r\n    if(props.baseRender){\r\n      this.render = props.baseRender(this);\r\n    }\r\n    this.carousel = React.createRef();\r\n  }\r\n\r\n  /**\r\n   * Асинхронно загрузим  AltrpCarousel\r\n   * @private\r\n   */\r\n  async _componentDidMount(){\r\n    let AltrpCarousel = await import(/* webpackChunkName: 'AltrpCarousel' */'../altrp-carousel/AltrpCarousel');\r\n    AltrpCarousel = AltrpCarousel.default;\r\n    this.setState(state=>({\r\n        ...state,\r\n      AltrpCarousel\r\n    }))\r\n  }\r\n\r\n  render(){\r\n    const carouselProps = {\r\n      ...this.props.element.getSettings(),\r\n      currentScreen: this.props.currentScreen,\r\n      elementId: this.props.element.getId(),\r\n    };\r\n    if(! carouselProps.slides_repeater){\r\n      carouselProps.slides_repeater = [];\r\n    }\r\n    if(isClassComponent(this.state.AltrpCarousel)){\r\n      carouselProps.ref = this.carousel;\r\n    }\r\n    return <this.state.AltrpCarousel {...carouselProps}/>\r\n  }\r\n}\r\n\r\nexport default CarouselWidget\r\n","import {useEffect, useRef} from \"react\";\r\n\r\nexport function isClassComponent(component) {\r\n  return (\r\n      typeof component === 'function' &&\r\n      !!component.prototype.isReactComponent\r\n  )\r\n}\r\n\r\nexport function isFunctionComponent(component) {\r\n  return (\r\n      typeof component === 'function' &&\r\n      String(component).includes('return React.createElement')\r\n  )\r\n}\r\n\r\nexport function isReactComponent(component) {\r\n  return (\r\n      isClassComponent(component) ||\r\n      isFunctionComponent(component)\r\n  )\r\n}\r\n\r\nexport function isElement(element) {\r\n  return React.isValidElement(element);\r\n}\r\n\r\nexport function isDOMTypeElement(element) {\r\n  return isElement(element) && typeof element.type === 'string';\r\n}\r\n\r\nexport function isCompositeTypeElement(element) {\r\n  return isElement(element) && typeof element.type === 'function';\r\n}\r\n\r\nexport function usePrevious(value) {\r\n  const ref = useRef();\r\n  useEffect(() => {\r\n    ref.current = value;\r\n  }, [value]);\r\n  return ref.current;\r\n}"],"sourceRoot":""}