{"version":3,"sources":["webpack:///./resources/modules/front-app/src/js/classes/Routes.js"],"names":["Routes","this","resource","Resource","route","loadRoutes","window","altrpPages","routes","_data","push","Route","appStore","changeAppRoutes","getAll","then","routesData","pages","catch","err","console","error"],"mappings":"irCAKMA,E,WACJ,cAAc,eACZC,KAAKC,SAAW,IAAIC,IAAS,CAC3BC,MAAO,iBAETH,KAAKI,a,yCAEP,WACE,GAAGC,OAAOC,WAAV,CACE,IADmB,EACfC,EAAS,GADM,IAEDF,OAAOC,YAFN,IAEnB,2BAAqC,KAA5BE,EAA4B,QACnCD,EAAOE,KAAKC,gBAAkBF,KAHb,8BAKnBG,oBAAkBC,OAAgBL,SAGpCP,KAAKC,SACFY,SACAC,MAAK,SAAAC,GACJ,IADkB,EACdR,EAAS,GADK,IAEAQ,EAAWC,OAFX,IAElB,2BAAoC,KAA3BR,EAA2B,QAClCD,EAAOE,KAAKC,gBAAkBF,KAHd,8BAKlBG,oBAAkBC,OAAgBL,OAEnCU,OAAM,SAAAC,GACLC,QAAQC,MAAMF,U,KAItB,cAAmBnB","file":"Routes.8ec5a52b13ae60199289.bundle.js","sourcesContent":["import Resource from \"../../../../editor/src/js/classes/Resource\";\r\nimport Route from \"./Route\";\r\nimport appStore from \"../store/store\";\r\nimport { changeAppRoutes } from \"../store/routes/actions\";\r\n\r\nclass Routes {\r\n  constructor() {\r\n    this.resource = new Resource({\r\n      route: \"/ajax/routes\"\r\n    });\r\n    this.loadRoutes();\r\n  }\r\n  loadRoutes() {\r\n    if(window.altrpPages){\r\n      let routes = [];\r\n      for (let _data of window.altrpPages) {\r\n        routes.push(Route.routeFabric(_data));\r\n      }\r\n      appStore.dispatch(changeAppRoutes(routes));\r\n      return\r\n    }\r\n    this.resource\r\n      .getAll()\r\n      .then(routesData => {\r\n        let routes = [];\r\n        for (let _data of routesData.pages) {\r\n          routes.push(Route.routeFabric(_data));\r\n        }\r\n        appStore.dispatch(changeAppRoutes(routes));\r\n      })\r\n      .catch(err => {\r\n        console.error(err);\r\n      });\r\n  }\r\n}\r\nexport default new Routes();\r\n"],"sourceRoot":""}