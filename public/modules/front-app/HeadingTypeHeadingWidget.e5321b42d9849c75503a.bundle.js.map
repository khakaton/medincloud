{"version":3,"sources":["webpack:///./resources/modules/editor/src/js/components/widgets/HeadingTypeHeadingWidget.js"],"names":["window","globalDefaults","push","HeadingTypeHeadingWidget","props","state","settings","element","getSettings","component","elementDecorator","baseRender","render","link","modelData","this","getCurrentModel","getData","background_image","text","getContent","className","position_css_classes","url","wrapperClasses","subTag","sub_heading_settings_html_tag","subHeading","text_sub_switch","subText","React","createElement","dangerouslySetInnerHTML","__html","link_link","linkProps","rel","noFollow","href","tag","creativelink","openInNew","target","isEditor","to","replace","getModelId","_","isObject","parseURLTemplate","onClick","e","preventDefault","advancedHeading","switch_advanced_heading_content","styles","xOffset","yOffset","rotate","transformOrigin","size","origin","transform","unit","classes","heading_settings_html_tag","style","currentBreakpoint","type","bodyWidth","document","body","offsetWidth","getElementById","headingContainer","Fragment","id","position_css_id","AltrpLink","text_sub","Component"],"mappings":"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","file":"HeadingTypeHeadingWidget.e5321b42d9849c75503a.bundle.js","sourcesContent":["import AltrpLink from \"../altrp-link/AltrpLink\";\r\nimport { isEditor, parseURLTemplate } from \"../../../../../front-app/src/js/helpers\";\r\n\r\n(window.globalDefaults = window.globalDefaults || []).push(`\r\n.altrp-heading {\r\n  margin-top: 5px;\r\n  margin-right: 0;\r\n  margin-bottom: 5px;\r\n  margin-left: 0;\r\n  padding-top: 0;\r\n  padding-right: 0;\r\n  padding-bottom: 0;\r\n  padding-left: 0;\r\n  background-position: top left;\r\n  background-attachment: scroll;\r\n  background-repeat: repeat;\r\n}\r\n\r\n.altrp-heading-advanced-wrapper {\r\n  position: absolute;\r\n  left: 0;\r\n  margin: 0;\r\n  z-index: -1;\r\n  width: 100%;\r\n  top: 0;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.altrp-heading-advanced {\r\n  display: inline-block;\r\n  margin: 0;\r\n}\r\n\r\n.altrp-heading-advanced-main-fill {\r\n  background-clip: unset;\r\n  text-fill-color: transparent;\r\n  -webkit-background-clip: text;\r\n  -webkit-text-fill-color: transparent;\r\n  -webkit-transition-property: prop;\r\n  -moz-transition-property: prop;\r\n  -ms-transition-property: prop;\r\n  -o-transition-property: prop;\r\n  transition-property: prop;\r\n}\r\n\r\n.altrp-heading {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.altrp-heading-wrapper {\r\n  display: flex;\r\n}\r\n\r\n.altrp-heading-wrapper-sub-top {\r\n  flex-direction: column-reverse;\r\n}\r\n\r\n.altrp-heading-sub {\r\n  margin: 0;\r\n  display: flex;\r\n  padding: 0;\r\n}\r\n\r\n.altrp-heading-sub-link {\r\n  display: flex;\r\n}\r\n\r\n.altrp-heading-sub-container-link {\r\n  margin: 0;\r\n}\r\n\r\n.altrp-heading-wrapper-sub-left {\r\n  flex-direction: row-reverse;\r\n  align-items: center;\r\n}\r\n\r\n.altrp-heading-wrapper-sub-right {\r\n  flex-direction: row;\r\n  align-items: center;\r\n}\r\n\r\n.altrp-heading-animating-tag {\r\n  display: flex;\r\n}\r\n\r\n.altrp-animating-rotating {\r\n  display: flex;\r\n}\r\n\r\n`)\r\n\r\nclass HeadingTypeHeadingWidget extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      settings: props.element.getSettings()\r\n    };\r\n    props.element.component = this;\r\n    if (window.elementDecorator) {\r\n      window.elementDecorator(this);\r\n    }\r\n    if (props.baseRender) {\r\n      this.render = props.baseRender(this);\r\n    }\r\n  }\r\n\r\n  render() {\r\n\r\n    let heading = <div>\r\n      Loading...\r\n    </div>;\r\n\r\n    let modelData = this.props.element.getCurrentModel().getData();\r\n    const background_image = this.props.element.getSettings('background_image', {});\r\n    let text = this.getContent('text');\r\n    let link;\r\n    const className = \"altrp-heading altrp-heading--link \" +\r\n      + this.state.settings.position_css_classes + (background_image.url ? ' altrp-background-image' : '');\r\n    let wrapperClasses = \"altrp-heading-wrapper\";\r\n\r\n    //sub heading\r\n    const subTag = this.state.settings.sub_heading_settings_html_tag || \"h2\";\r\n    let subHeading = \"\";\r\n    if (this.state.settings.text_sub_switch) {\r\n      const subText = this.getContent('text_sub');\r\n\r\n      switch (this.getContent(\"sub_heading_settings_position\")) {\r\n        case \"top\":\r\n          wrapperClasses += \" altrp-heading-wrapper-sub-top\";\r\n          break;\r\n        case \"left\":\r\n          wrapperClasses += \" altrp-heading-wrapper-sub-left\";\r\n          break;\r\n        case \"right\":\r\n          wrapperClasses += \" altrp-heading-wrapper-sub-right\";\r\n          break;\r\n        default:\r\n          wrapperClasses += \" altrp-heading-wrapper-sub-bottom\";\r\n      }\r\n      subHeading = React.createElement(subTag, {\r\n        dangerouslySetInnerHTML: { __html: subText },\r\n        className: \"altrp-heading-sub\"\r\n      })\r\n    }\r\n\r\n    if (this.state.settings.link_link && this.state.settings.link_link.url) {\r\n      let linkProps = {\r\n        rel: this.state.settings.link_link.noFollow ? \"nofollow\" : null,\r\n        href: `mailto:mail@gmail.com`,\r\n        className: 'altrp-inherit altrp-inherit_wo-border',\r\n      };\r\n\r\n      linkProps.tag = this.state.settings.link_link.tag;\r\n      linkProps.creativelink = this.getContent(\"heading_settings_html_tag\") !== \"p\" ? this.getContent(\"creative_link_controller\") : null;\r\n\r\n      if (this.state.settings.link_link.openInNew) {\r\n        linkProps.target = '_black';\r\n      }\r\n      if ((this.state.settings.link_link.tag === 'Link') && !isEditor()) {\r\n        linkProps.to = this.state.settings.link_link.url.replace(':id', this.getModelId() || '');\r\n        linkProps.href = this.state.settings.link_link.url.replace(':id', this.getModelId() || '');\r\n      }\r\n      if (_.isObject(modelData)) {\r\n        linkProps.to = parseURLTemplate(this.state.settings.link_link.url, modelData);\r\n        linkProps.href = parseURLTemplate(this.state.settings.link_link.url, modelData);\r\n      }\r\n      if (isEditor()) {\r\n        linkProps.onClick = e => { e.preventDefault() }\r\n      }\r\n      link = (\r\n        <AltrpLink {...linkProps}>\r\n          {\r\n            text\r\n          }\r\n        </AltrpLink>\r\n      )\r\n    }\r\n\r\n    let advancedHeading = \"\";\r\n    if (this.state.settings.switch_advanced_heading_content) {\r\n      let styles = {};\r\n\r\n      let xOffset = this.getContent(\"horizontal_offset_advanced_heading_content\");\r\n      let yOffset = this.getContent(\"vertical_offset_advanced_heading_content\");\r\n      let rotate = this.getContent(\"rotate_offset_advanced_heading_content\");\r\n      let transformOrigin = this.getContent(\"transform_origin_offset_advanced_heading_content\");\r\n\r\n      if (xOffset.size === \"\") {\r\n        xOffset.size = \"0\";\r\n      }\r\n      if (yOffset.size === \"\") {\r\n        yOffset.size = \"0\";\r\n      }\r\n      if (rotate.size === \"\") {\r\n        rotate.size = \"0\"\r\n      }\r\n\r\n      let origin = \"0 0\";\r\n\r\n      switch (transformOrigin) {\r\n        case \"topLeft\":\r\n          origin = \"0 0\";\r\n          break;\r\n        case \"topCenter\":\r\n          origin = \"50% 0\";\r\n          break;\r\n        case \"topRight\":\r\n          origin = \"100% 0\";\r\n          break;\r\n        case \"centerLeft\":\r\n          origin = \"0 50%\";\r\n          break;\r\n        case \"center\":\r\n          origin = \"50% 50%\";\r\n          break;\r\n        case \"centerRight\":\r\n          origin = \"100% 50%\";\r\n          break;\r\n        case \"bottomLeft\":\r\n          origin = \"0 100%\";\r\n          break;\r\n        case \"bottomCenter\":\r\n          origin = \"50% 100%\";\r\n          break;\r\n        case \"bottomRight\":\r\n          origin = \"100% 100%\";\r\n          break;\r\n      }\r\n\r\n      let pos = {\r\n        transform: `translate(${xOffset.size + xOffset.unit}, ${yOffset.size + yOffset.unit}) rotate(${rotate.size}deg)`,\r\n        transformOrigin: origin\r\n      };\r\n\r\n      styles = { ...pos };\r\n\r\n      let classes = \"altrp-heading-advanced\";\r\n\r\n      if (this.props.element.getSettings(\"main_fill_advanced_heading_style\")) {\r\n        classes += \" altrp-heading-advanced-main-fill\"\r\n      }\r\n      advancedHeading = (\r\n        <div className=\"altrp-heading-advanced-wrapper\">\r\n          {\r\n            React.createElement(this.state.settings.heading_settings_html_tag || 'h2', {\r\n              className: classes,\r\n              style: styles,\r\n              dangerouslySetInnerHTML: { __html: this.getContent(\"text_advanced_heading_content\") }\r\n            })\r\n          }\r\n        </div>\r\n      );\r\n\r\n      let currentBreakpoint = {};\r\n      switch (this.getContent(\"hide_at_offset_advanced_heading_content\")) {\r\n        case \"never\":\r\n          currentBreakpoint = {\r\n            type: \"never\",\r\n            size: 0\r\n          };\r\n          break;\r\n        case \"mobile\":\r\n          currentBreakpoint = {\r\n            type: \"mobile\",\r\n            size: 768\r\n          };\r\n          break;\r\n        case \"tablet\":\r\n          currentBreakpoint = {\r\n            type: \"tablet\",\r\n            size: 1025\r\n          };\r\n          break;\r\n        default:\r\n      }\r\n\r\n      if (this.getContent(\"hide_at_offset_advanced_heading_content\") !== \"never\") {\r\n        let bodyWidth = document.body.offsetWidth;\r\n\r\n        if (isEditor()) {\r\n          bodyWidth = document.getElementById(\"editorWindow\").offsetWidth\r\n        }\r\n\r\n        if (bodyWidth <= currentBreakpoint.size) {\r\n          advancedHeading = \"\"\r\n        }\r\n      }\r\n    }\r\n\r\n    let headingContainer = link ?\r\n      <React.Fragment>\r\n        {\r\n          React.createElement(\r\n            this.state.settings.heading_settings_html_tag || 'h2',\r\n            {\r\n              className,\r\n              id: this.state.settings.position_css_id || \"\",\r\n            },\r\n            link\r\n          )\r\n        }\r\n        {\r\n          this.state.settings.text_sub_switch && React.createElement(subTag, {\r\n            className: \"altrp-heading-sub-container-link altrp-heading-sub\"\r\n          }, (\r\n            React.createElement(AltrpLink, {\r\n              link: this.state.settings.link_link,\r\n              dangerouslySetInnerHTML: { __html: this.state.settings.text_sub },\r\n              className: \"altrp-inherit altrp-inherit_wo-border\"\r\n            })\r\n          )\r\n          )\r\n        }\r\n      </React.Fragment>\r\n      :\r\n      <React.Fragment>\r\n        {\r\n          React.createElement(\r\n            this.state.settings.heading_settings_html_tag || 'h2',\r\n            {\r\n              className,\r\n              id: this.state.settings.position_css_id || \"\",\r\n              dangerouslySetInnerHTML: { __html: text }\r\n            },\r\n          )\r\n        }\r\n        {\r\n          subHeading\r\n        }\r\n      </React.Fragment>;\r\n    heading = (\r\n      <div className={wrapperClasses}>\r\n        {\r\n          advancedHeading\r\n        }\r\n        {\r\n          headingContainer\r\n        }\r\n      </div>\r\n    );\r\n\r\n    return heading\r\n  }\r\n}\r\n\r\nexport default HeadingTypeHeadingWidget\r\n"],"sourceRoot":""}