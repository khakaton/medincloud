{"version":3,"sources":["webpack:///./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js","webpack:///./resources/modules/editor/src/js/components/widgets/InputTextareaWidget.js","webpack:///./node_modules/react-text-mask/dist/reactTextMask.js"],"names":["_taggedTemplateLiteral","strings","raw","slice","Object","freeze","defineProperties","value","moment","window","altrpHelpers","globalDefaults","push","AltrpFieldContainer","styled","div","settings","content_label_position_type","InputTextareaWidget","props","timeInput","handleEnter","e","keyCode","preventDefault","inputs","Array","from","document","querySelectorAll","index","indexOf","target","undefined","focus","element","getSettings","create_allowed","create_label","create_url","createItem","debounceDispatch","_","debounce","dispatchFieldValueToStore","onFocus","focus_actions","isEditor","actionsManager","default","callAllWidgetActions","getIdForAction","onBlur","editor","get","getData","userInput","formId","getFormId","fieldName","getFieldId","replaceContentWithData","isObject","appStore","dispatch","changeFormFieldValue","change_actions","inputValue","create_data","select2_multiple","currentModel","getCurrentModel","data","parseParamsFromString","url","parseURLTemplate","setState","state","isDisabled","resource","Resource","route","post","res","success","newOption","label","options","unshift","selectStateManager","menuIsOpen","console","error","component","elementDecorator","onChange","bind","defaultValue","getContent","valueMustArray","isArray","parseOptionsFromSettings","paramsForUpdate","altrpSelectRef","React","createRef","this","prevProps","prevState","getProperty","contentLoaded","currentDataStorage","content_options","model_for_options","isEqual","dynamic","formsStore","updateOptions","updateValue","content_calculation","altrpforms","prevContext","altrpdata","altrpmodel","altrpuser","currentUser","altrppagestate","altrpPageState","altrpresponses","altrpmeta","altrpMeta","context","currentDataStorageLoaded","changedField","altrpstorage","getDataFromLocalStorage","replace","eval","message","getId","path","formData","AltrpModel","isEmpty","JSON","stringify","getRoute","getQueried","filters","getAll","valueToDispatch","cloneDeep","change_change_end","change_change_end_delay","clearTimeout","setTimeout","optionsDynamicSetting","getDynamicSetting","convertData","sortBy","o","toString","content_readonly","label_icon","classLabel","styleLabel","getResponsiveSetting","marginBottom","label_style_spacing","size","unit","marginTop","marginRight","position","zIndex","content_label","className","style","content_required","assetType","renderAssetIcon","autocomplete","content_autocomplete","input","readOnly","autoComplete","placeholder","content_placeholder","position_css_classes","id","position_css_id","Component","module","exports","t","n","r","loaded","call","m","c","p","__esModule","i","TypeError","a","ReferenceError","defineProperty","conformToMask","s","assign","arguments","length","prototype","hasOwnProperty","l","enumerable","configurable","writable","key","f","h","y","b","u","__proto__","getPrototypeOf","apply","concat","setRef","create","constructor","setPrototypeOf","inputElement","textMaskInputElement","update","initTextMask","pipe","mask","guide","placeholderChar","showMask","isNil","keys","some","render","keepCharPositions","PureComponent","propTypes","oneOfType","array","func","bool","shape","isRequired","string","number","defaultProps","createElement","ref","strFunction","convertMaskToPlaceholder","Error","map","RegExp","join","isString","String","isNumber","isNaN","processCaretTraps","splice","maskWithoutCaretTraps","indexes","Symbol","iterator","previousConformedValue","d","v","currentCaretPosition","g","k","C","O","T","P","x","w","Math","abs","S","M","split","char","isNew","j","E","V","N","A","B","I","shift","F","q","test","D","L","W","J","substr","U","H","conformedValue","meta","someCharsRejected","previousPlaceholder","rawValue","indexesOfPipedChars","caretTrapIndexes","toLowerCase","R","filter","Y","z","G","activeElement","setSelectionRange","selectionEnd","rejected","navigator","userAgent","requestAnimationFrame","thatReturns","thatReturnsFalse","thatReturnsTrue","thatReturnsNull","thatReturnsThis","thatReturnsArgument","name","framesToPop","object","symbol","any","arrayOf","instanceOf","node","objectOf","oneOf","exact","checkPropTypes","PropTypes"],"mappings":"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","file":"InputTextarea.e9230d1b1fcd907db4e8.bundle.js","sourcesContent":["export default function _taggedTemplateLiteral(strings, raw) {\n  if (!raw) {\n    raw = strings.slice(0);\n  }\n\n  return Object.freeze(Object.defineProperties(strings, {\n    raw: {\n      value: Object.freeze(raw)\n    }\n  }));\n}","import {\r\n  convertData,\r\n  isEditor,\r\n  parseOptionsFromSettings,\r\n  parseParamsFromString,\r\n  parseURLTemplate,\r\n  replaceContentWithData,\r\n  renderAssetIcon,\r\n  valueReplacement,\r\n  getDataFromLocalStorage\r\n} from \"../../../../../front-app/src/js/helpers\";\r\nimport Resource from \"../../classes/Resource\";\r\nimport { changeFormFieldValue } from \"../../../../../front-app/src/js/store/forms-data-storage/actions\";\r\nimport AltrpModel from \"../../classes/AltrpModel\";\r\nimport AltrpInput from \"../altrp-input/AltrpInput\";\r\nimport { TextArea } from \"@blueprintjs/core\";\r\n\r\nconst { moment } = window.altrpHelpers;\r\n(window.globalDefaults = window.globalDefaults || []).push(`\r\n.altrp-field {\r\n  border-style: solid;\r\n  width: 100%;\r\n}\r\n.altrp-field-file{\r\n  display: flex;\r\n  justify-content: center;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.altrp-label-icon svg,\r\n.altrp-label-icon img {\r\n  width: 20px;\r\n}\r\n.altrp-label-icon svg{\r\n  height: 20px;\r\n}\r\n.altrp-field-file__field{\r\n  display: none;\r\n}\r\n.altrp-field-file__placeholder{\r\n  display: none;\r\n}\r\n.altrp-field-file_empty .altrp-field-file__placeholder{\r\n  display: block;\r\n  padding: 10px 20px;\r\n  border: none;\r\n  cursor: pointer;\r\n  background-color: rgb(52,59,76);\r\n  color: #fff;\r\n}\r\n.input-clear-btn {\r\n  background: transparent;\r\n  padding: 0;\r\n  position: absolute;\r\n  bottom: calc(50% - 7px);\r\n  right: 15px;\r\n  display: none;\r\n}\r\n.input-clear-btn:hover {\r\n  font-weight: bold;\r\n}\r\n.altrp-field:hover + .input-clear-btn, .input-clear-btn:hover {\r\n  display: block;\r\n}\r\n.altrp-input-wrapper, .altrp-field-select2 {\r\n  position: relative;\r\n  flex-grow: 1;\r\n}\r\n.altrp-field-label--required::after {\r\n  content: \"*\";\r\n  color: red;\r\n  font-size: inherit;\r\n  padding-left: 10px;\r\n}\r\n.altrp-field-label {\r\n  font-size: 16px;\r\n  font-family: \"Open Sans\";\r\n  line-height: 1.5;\r\n  letter-spacing: 0;\r\n}\r\n.altrp-field-select2__single-value, .altrp-field {\r\n  font-size: 16px;\r\n  font-family: \"Open Sans\";\r\n  line-height: 1.5;\r\n  letter-spacing: 0;\r\n}\r\n.altrp-field-select2__control, .altrp-field {\r\n  text-align: left;\r\n  padding-top: 2px;\r\n  padding-right: 2px;\r\n  padding-bottom: 2px;\r\n  padding-left: 2px;\r\n  border-width: 1px;\r\n  border-color: #000;\r\n}\r\n.altrp-field-select2__control:hover{\r\n  border-width: 1px;\r\n  border-color: #000;\r\n}\r\n.altrp-field-container {\r\n  margin: 0;\r\n}\r\n.altrp-field::placeholder, .altrp-field-select2__placeholder {\r\n  font-size: 13px;\r\n  font-family: \"Open Sans\";\r\n  line-height: 1.5;\r\n  letter-spacing: 0;\r\n}\r\n.altrp-image-select {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  justify-content: center;\r\n}\r\n.altrp-image-select img {\r\n  flex-grow: 1;\r\n  object-fit: contain;\r\n}\r\n.altrp-field {\r\n  overflow: hidden;\r\n  cursor: pointer;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n}\r\n.altrp-field.active {\r\n  border-color: lightcoral;\r\n}\r\n.altrp-field-label {\r\n  text-align: center;\r\n  display: block;\r\n}\r\n.altrp-pagination__select-size .altrp-field-select2__single-value {\r\n  font-size: 14px;\r\n}\r\n.altrp-pagination__select-size .altrp-field-select2__indicator-separator {\r\n  display: none;\r\n}\r\n.altrp-pagination__select-size .altrp-field-select2__indicator {\r\n  align-items: center;\r\n}\r\n.altrp-pagination__select-size .altrp-field-select2__control {\r\n  width: 100px;\r\n  min-height: 32px;\r\n  padding: 0;\r\n  border-radius: 0;\r\n  outline: none;\r\n  border-color: rgb(142,148,170);\r\n  -webkit-box-shadow: none;\r\n  -moz-box-shadow: none;\r\n  box-shadow: none;\r\n}\r\n.altrp-pagination__select-size .altrp-field-select2__control input {\r\n  border: none;\r\n}\r\n.altrp-field-select2 {\r\n  position: relative;\r\n  box-sizing: border-box;\r\n  pointer-events: none;\r\n}\r\n.altrp-field-select2__control {\r\n  webkit-align-items: center;\r\n  -webkit-box-align: center;\r\n  -ms-flex-align: center;\r\n  align-items: center;\r\n  background-color: hsl(0,0%,100%);\r\n  border-color: hsl(0,0%,80%);\r\n  border-style: solid;\r\n  border-width: 1px;\r\n  cursor: default;\r\n  display: -webkit-box;\r\n  display: -webkit-flex;\r\n  display: -ms-flexbox;\r\n  display: flex;\r\n  -webkit-flex-wrap: wrap;\r\n  -ms-flex-wrap: wrap;\r\n  flex-wrap: wrap;\r\n  -webkit-box-pack: justify;\r\n  -webkit-justify-content: space-between;\r\n  -ms-flex-pack: justify;\r\n  justify-content: space-between;\r\n  min-height: 38px;\r\n  outline: 0 !important;\r\n  position: relative;\r\n  -webkit-transition: all 100ms;\r\n  transition: all 100ms;\r\n  box-sizing: border-box;\r\n}\r\n.altrp-field-select2__value-container {\r\n  -webkit-align-items: center;\r\n  -webkit-box-align: center;\r\n  -ms-flex-align: center;\r\n  align-items: center;\r\n  display: -webkit-box;\r\n  display: -webkit-flex;\r\n  display: -ms-flexbox;\r\n  display: flex;\r\n  -webkit-flex: 1;\r\n  -ms-flex: 1;\r\n  flex: 1;\r\n  -webkit-flex-wrap: wrap;\r\n  -ms-flex-wrap: wrap;\r\n  flex-wrap: wrap;\r\n  padding: 2px 8px;\r\n  -webkit-overflow-scrolling: touch;\r\n  position: relative;\r\n  overflow: hidden;\r\n  box-sizing: border-box;\r\n}\r\n.altrp-field-select2__single-value {\r\n  color: hsl(0,0%,20%);\r\n  margin-left: 2px;\r\n  margin-right: 2px;\r\n  max-width: calc(100% - 8px);\r\n  overflow: hidden;\r\n  position: absolute;\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\r\n  top: 50%;\r\n  -webkit-transform: translateY(-50%);\r\n  -ms-transform: translateY(-50%);\r\n  transform: translateY(-50%);\r\n  box-sizing: border-box;\r\n}\r\n.altrp-field-select2__indicators {\r\n  -webkit-align-items: center;\r\n  -webkit-box-align: center;\r\n  -ms-flex-align: center;\r\n  align-items: center;\r\n  -webkit-align-self: stretch;\r\n  -ms-flex-item-align: stretch;\r\n  align-self: stretch;\r\n  display: -webkit-box;\r\n  display: -webkit-flex;\r\n  display: -ms-flexbox;\r\n  display: flex;\r\n  -webkit-flex-shrink: 0;\r\n  -ms-flex-negative: 0;\r\n  flex-shrink: 0;\r\n  box-sizing: border-box;\r\n}\r\n.altrp-field-select2__indicator-separator {\r\n  -webkit-align-self: stretch;\r\n  -ms-flex-item-align: stretch;\r\n  align-self: stretch;\r\n  background-color: hsl(0,0%,80%);\r\n  margin-bottom: 8px;\r\n  margin-top: 8px;\r\n  width: 1px;\r\n  box-sizing: border-box;\r\n}\r\n.altrp-field-select2__indicator {\r\n  color: hsl(0,0%,80%);\r\n  display: -webkit-box;\r\n  display: -webkit-flex;\r\n  display: -ms-flexbox;\r\n  display: flex;\r\n  padding: 8px;\r\n  -webkit-transition: color 150ms;\r\n  transition: color 150ms;\r\n  box-sizing: border-box;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n.tba-placeholder {\r\n  display: flex;\r\n  justify-content: center;\r\n  font-size: 28px;\r\n  font-weight: bold;\r\n}\r\n.altrp-field-subgroup {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n}\r\n.altrp-field-option {\r\n  display: flex;\r\n  padding: 10px;\r\n}\r\n.altrp-field-option__label {\r\n  cursor: pointer;\r\n}\r\ntextarea.altrp-field {\r\n  display: block;\r\n}\r\n.altrp-table__filter-select .altrp-field-select2__placeholder {\r\n  white-space: nowrap;\r\n}\r\n.altrp-table__filter-select .altrp-field-select2__single-value {\r\n  font-size: 14px;\r\n}\r\n.altrp-table__filter-select .altrp-field-select2__indicator-separator {\r\n  display: none;\r\n}\r\n.altrp-table__filter-select .altrp-field-select2__indicator {\r\n  align-items: center;\r\n}\r\n.altrp-table__filter-select .altrp-field-select2__control {\r\n  width: 100%;\r\n  min-height: 19px;\r\n  padding: 0;\r\n  border-radius: 0;\r\n  outline: none;\r\n  border-color: rgb(142, 148, 170);\r\n  -webkit-box-shadow: none;\r\n  -moz-box-shadow: none;\r\n  box-shadow: none;\r\n}\r\n.altrp-table__filter-select .altrp-field-select2__control input {\r\n  border: none;\r\n}\r\n.altrp-table__filter-select .altrp-field-select2__value-container {\r\n  padding-top: 0;\r\n  padding-bottom: 0;\r\n  line-height: 13px;\r\n}\r\n.altrp-field-required {\r\n  color: red;\r\n  font-size: 18px;\r\n  padding-left: 10px;\r\n}\r\n.altrp-field-container-label {\r\n  display: flex;\r\n  flex-direction: row;\r\n}\r\n\r\n.altrp-field-label-container-left {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.altrp-field-label-container {\r\n  display: inline-flex;\r\n  align-items: center;\r\n}\r\n.altrp-field-select2__indicator.altrp-field-select2__dropdown-indicator {\r\n  padding: 0 8px;\r\n  max-height: 14px;\r\n  overflow: hidden;\r\n}\r\n.altrp-field-select2 .altrp-field-select2__value-container {\r\n  padding: 0px 8px;\r\n}\r\n.altrp-field-select2 .css-b8ldur-Input {\r\n  padding-bottom: 0px;\r\n  padding-top: 0px;\r\n  margin: 0 2px;\r\n}\r\n.altrp-field-select2 .altrp-field-select2__control {\r\n  min-height: 14px;\r\n}\r\n`)\r\nconst AltrpFieldContainer = styled.div`\r\n  ${({ settings: { content_label_position_type } }) => {\r\n    switch (content_label_position_type) {\r\n      case \"left\": {\r\n        return \"display: flex\";\r\n      }\r\n      case \"right\": {\r\n        return \"display:flex;flex-direction:row-reverse;justify-content:flex-end;\";\r\n      }\r\n    }\r\n    return \"\";\r\n  }}\r\n`;\r\n\r\nclass InputTextareaWidget extends Component {\r\n  timeInput = null;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    props.element.component = this;\r\n    if (window.elementDecorator) {\r\n      window.elementDecorator(this);\r\n    }\r\n    this.onChange = this.onChange.bind(this);\r\n    this.debounceDispatch = this.debounceDispatch.bind(this);\r\n\r\n    this.defaultValue =\r\n      this.getContent(\"content_default_value\") ||\r\n      (this.valueMustArray() ? [] : \"\");\r\n    if (this.valueMustArray() && !_.isArray(this.defaultValue)) {\r\n      this.defaultValue = [];\r\n    }\r\n    this.state = {\r\n      settings: { ...props.element.getSettings() },\r\n      value: this.defaultValue,\r\n      options: parseOptionsFromSettings(\r\n        props.element.getSettings(\"content_options\")\r\n      ),\r\n      paramsForUpdate: null\r\n    };\r\n    this.altrpSelectRef = React.createRef();\r\n    if (this.getContent(\"content_default_value\")) {\r\n      this.dispatchFieldValueToStore(this.getContent(\"content_default_value\"));\r\n    }\r\n  }\r\n\r\n  /**\r\n   * В некоторых случаях значение поля должно быть массивом\r\n   * @return {boolean}\r\n   */\r\n  valueMustArray() {\r\n    return false;\r\n  }\r\n  /**\r\n   * Чистит значение\r\n   */\r\n  clearValue() {\r\n    let value = \"\";\r\n    this.onChange(value);\r\n    this.dispatchFieldValueToStore(value, true);\r\n  }\r\n\r\n  /**\r\n   * Обработка нажатия клавиши\r\n   * @param {{}} e\r\n   */\r\n  handleEnter = e => {\r\n    if (e.keyCode === 13) {\r\n      e.preventDefault();\r\n      const inputs = Array.from(document.querySelectorAll(\"input,select\"));\r\n      const index = inputs.indexOf(e.target);\r\n      if (index === undefined) return;\r\n      inputs[index + 1] && inputs[index + 1].focus();\r\n      const {\r\n        create_allowed,\r\n        create_label,\r\n        create_url\r\n      } = this.props.element.getSettings();\r\n      if (create_allowed && create_label && create_url) {\r\n        this.createItem(e);\r\n      }\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Загрузка виджета\r\n   * @param {{}} prevProps\r\n   * @param {{}} prevState\r\n   */\r\n  async _componentDidMount(prevProps, prevState) {\r\n    if (this.props.element.getSettings(\"content_options\")) {\r\n      let options = parseOptionsFromSettings(\r\n        this.props.element.getSettings(\"content_options\")\r\n      );\r\n\r\n      this.setState(state => ({ ...state, options }));\r\n    }\r\n\r\n    let value = this.state.value;\r\n    /**\r\n     * Если динамическое значение загрузилось,\r\n     * то используем this.getContent для получение этого динамического значения\r\n     * старые динамические данные\r\n     * */\r\n    if (\r\n      _.get(value, \"dynamic\") &&\r\n      this.props.currentModel.getProperty(\"altrpModelUpdated\")\r\n    ) {\r\n      value = this.getContent(\"content_default_value\");\r\n    }\r\n\r\n    /**\r\n     * Если модель обновилась при смене URL\r\n     */\r\n    if (\r\n      prevProps &&\r\n      !prevProps.currentModel.getProperty(\"altrpModelUpdated\") &&\r\n      this.props.currentModel.getProperty(\"altrpModelUpdated\")\r\n    ) {\r\n      value = this.getContent(\"content_default_value\");\r\n      this.setState(\r\n        state => ({ ...state, value, contentLoaded: true }),\r\n        () => {\r\n          this.dispatchFieldValueToStore(value);\r\n        }\r\n      );\r\n      return;\r\n    }\r\n    if (\r\n      this.props.currentModel.getProperty(\"altrpModelUpdated\") &&\r\n      this.props.currentDataStorage.getProperty(\"currentDataStorageLoaded\") &&\r\n      !this.state.contentLoaded\r\n    ) {\r\n      value = this.getContent(\"content_default_value\");\r\n      this.setState(\r\n        state => ({ ...state, value, contentLoaded: true }),\r\n        () => {\r\n          this.dispatchFieldValueToStore(value);\r\n        }\r\n      );\r\n      return;\r\n    }\r\n    if (this.state.value !== value) {\r\n      this.setState(\r\n        state => ({ ...state, value }),\r\n        () => {\r\n          this.dispatchFieldValueToStore(value);\r\n        }\r\n      );\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Получить url для запросов\r\n   */\r\n  getRoute() {\r\n    let url = this.props.element.getSettings(\"model_for_options\");\r\n\r\n    if (url.indexOf(\"/\") === -1) {\r\n      return `/ajax/models/${url}_options`;\r\n    }\r\n    if (url.indexOf(\"{{\") !== -1) {\r\n      url = replaceContentWithData(url);\r\n    }\r\n    return url;\r\n  }\r\n  /**\r\n   * Обновление виджета\r\n   */\r\n  async _componentDidUpdate(prevProps, prevState) {\r\n    const { content_options, model_for_options } = this.state.settings;\r\n    if (\r\n      prevProps &&\r\n      !prevProps.currentDataStorage.getProperty(\"currentDataStorageLoaded\") &&\r\n      this.props.currentDataStorage.getProperty(\"currentDataStorageLoaded\")\r\n    ) {\r\n      let value = this.getContent(\r\n        \"content_default_value\",\r\n        this.props.element.getSettings(\"select2_multiple\")\r\n      );\r\n      this.setState(\r\n        state => ({ ...state, value, contentLoaded: true }),\r\n        () => {\r\n          this.dispatchFieldValueToStore(value);\r\n        }\r\n      );\r\n    }\r\n\r\n    /**\r\n     * Если обновилась модель, то пробрасываем в стор новое значение (старый источник диамических данных)\r\n     */\r\n    if (\r\n      !_.isEqual(this.props.currentModel, prevProps.currentModel) &&\r\n      this.state.value &&\r\n      this.state.value.dynamic\r\n    ) {\r\n      this.dispatchFieldValueToStore(this.getContent(\"content_default_value\"));\r\n    }\r\n\r\n    /**\r\n     * Если обновилось хранилище данных формы, currentDataStorage или модель, то получаем новые опции c сервера\r\n     */\r\n    if (\r\n      this.props.formsStore !== prevProps.formsStore ||\r\n      this.props.currentModel !== prevProps.currentModel ||\r\n      this.props.currentDataStorage !== prevProps.currentDataStorage\r\n    ) {\r\n      this.updateOptions();\r\n    }\r\n    if (content_options && !model_for_options) {\r\n      let options = parseOptionsFromSettings(content_options);\r\n      if (!_.isEqual(options, this.state.options)) {\r\n        this.setState(state => ({ ...state, options }));\r\n      }\r\n    }\r\n    this.updateValue(prevProps);\r\n  }\r\n\r\n  /**\r\n   * Обновить значение если нужно\r\n   * @param {{}} prevProps\r\n   */\r\n  updateValue(prevProps) {\r\n    if (isEditor()) {\r\n      return;\r\n    }\r\n    let content_calculation = this.props.element.getSettings(\r\n      \"content_calculation\"\r\n    );\r\n    const altrpforms = this.props.formsStore;\r\n    const fieldName = this.props.element.getFieldId();\r\n    const formId = this.props.element.getFormId();\r\n    if (!content_calculation) {\r\n      /**\r\n       * Обновить значение, если formsStore изменилось из другого компонента\r\n       */\r\n      const path = `${formId}.${fieldName}`;\r\n      if (\r\n        this.props.formsStore !== prevProps.formsStore &&\r\n        _.get(altrpforms, path) !== this.state.value\r\n      ) {\r\n        this.setState(state => ({\r\n          ...state,\r\n          value: _.get(altrpforms, path)\r\n        }));\r\n      }\r\n      return;\r\n    }\r\n\r\n    const prevContext = {};\r\n\r\n    const altrpdata = this.props.currentDataStorage.getData();\r\n    const altrpmodel = this.props.currentModel.getData();\r\n    const altrpuser = this.props.currentUser.getData();\r\n    const altrppagestate = this.props.altrpPageState.getData();\r\n    const altrpresponses = this.props.altrpresponses.getData();\r\n    const altrpmeta = this.props.altrpMeta.getData();\r\n    const context = this.props.element.getCurrentModel().getData();\r\n    if (content_calculation.indexOf(\"altrpdata\") !== -1) {\r\n      context.altrpdata = altrpdata;\r\n      if (!altrpdata.currentDataStorageLoaded) {\r\n        prevContext.altrpdata = altrpdata;\r\n      } else {\r\n        prevContext.altrpdata = prevProps.currentDataStorage.getData();\r\n      }\r\n    }\r\n    if (content_calculation.indexOf(\"altrpforms\") !== -1) {\r\n      context.altrpforms = altrpforms;\r\n      /**\r\n       * Не производим вычисления, если изменилось текущее поле\r\n       */\r\n      if (`${formId}.${fieldName}` === altrpforms.changedField) {\r\n        prevContext.altrpforms = altrpforms;\r\n      } else {\r\n        prevContext.altrpforms = prevProps.formsStore;\r\n      }\r\n    }\r\n    if (content_calculation.indexOf(\"altrpmodel\") !== -1) {\r\n      context.altrpmodel = altrpmodel;\r\n      prevContext.altrpmodel = prevProps.currentModel.getData();\r\n    }\r\n    if (content_calculation.indexOf(\"altrpuser\") !== -1) {\r\n      context.altrpuser = altrpuser;\r\n      prevContext.altrpuser = prevProps.currentUser.getData();\r\n    }\r\n    if (content_calculation.indexOf(\"altrpuser\") !== -1) {\r\n      context.altrpuser = altrpuser;\r\n      prevContext.altrpuser = prevProps.currentUser.getData();\r\n    }\r\n    if (content_calculation.indexOf(\"altrppagestate\") !== -1) {\r\n      context.altrppagestate = altrppagestate;\r\n      prevContext.altrppagestate = prevProps.altrpPageState.getData();\r\n    }\r\n    if (content_calculation.indexOf(\"altrpmeta\") !== -1) {\r\n      context.altrpmeta = altrpmeta;\r\n      prevContext.altrpmeta = prevProps.altrpMeta.getData();\r\n    }\r\n    if (content_calculation.indexOf(\"altrpresponses\") !== -1) {\r\n      context.altrpresponses = altrpresponses;\r\n      prevContext.altrpresponses = prevProps.altrpresponses.getData();\r\n    }\r\n\r\n    if (content_calculation.indexOf(\"altrpstorage\") !== -1) {\r\n      context.altrpstorage = getDataFromLocalStorage(\"altrpstorage\", {});\r\n    }\r\n\r\n    if (\r\n      _.isEqual(prevProps.currentDataStorage, this.props.currentDataStorage) &&\r\n      _.isEqual(prevProps.currentUser, this.props.currentUser) &&\r\n      _.isEqual(prevProps.formsStore, this.props.formsStore) &&\r\n      _.isEqual(prevProps.altrpPageState, this.props.altrpPageState) &&\r\n      _.isEqual(prevProps.altrpMeta, this.props.altrpMeta) &&\r\n      _.isEqual(prevProps.altrpresponses, this.props.altrpresponses) &&\r\n      _.isEqual(prevProps.currentModel, this.props.currentModel)\r\n    ) {\r\n      return;\r\n    }\r\n    if (\r\n      !_.isEqual(prevProps.formsStore, this.props.formsStore) &&\r\n      `${formId}.${fieldName}` === altrpforms.changedField\r\n    ) {\r\n      return;\r\n    }\r\n    let value = \"\";\r\n    try {\r\n      content_calculation = content_calculation\r\n        .replace(/}}/g, \"')\")\r\n        .replace(/{{/g, \"_.get(context, '\");\r\n      value = eval(content_calculation);\r\n      if (value === this.state.value) {\r\n        return;\r\n      }\r\n      this.setState(\r\n        state => ({ ...state, value }),\r\n        () => {\r\n          this.dispatchFieldValueToStore(value);\r\n        }\r\n      );\r\n    } catch (e) {\r\n      console.error(\r\n        \"Evaluate error in Input \" + e.message,\r\n        this.props.element.getId()\r\n      );\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Обновляет опции для селекта при обновлении данных, полей формы\r\n   */\r\n  async updateOptions() {\r\n    {\r\n      let formId = this.props.element.getFormId();\r\n      let paramsForUpdate = this.props.element.getSettings(\"params_for_update\");\r\n      let formData = _.get(this.props.formsStore, [formId], {});\r\n      paramsForUpdate = parseParamsFromString(\r\n        paramsForUpdate,\r\n        new AltrpModel(formData)\r\n      );\r\n      /**\r\n       * Сохраняем параметры запроса, и если надо обновляем опции\r\n       */\r\n      let options = [...this.state.options];\r\n      if (!_.isEqual(paramsForUpdate, this.state.paramsForUpdate)) {\r\n        if (!_.isEmpty(paramsForUpdate)) {\r\n          if (this.props.element.getSettings(\"params_as_filters\", false)) {\r\n            paramsForUpdate = JSON.stringify(paramsForUpdate);\r\n            options = await new Resource({\r\n              route: this.getRoute()\r\n            }).getQueried({ filters: paramsForUpdate });\r\n          } else {\r\n            options = await new Resource({ route: this.getRoute() }).getQueried(\r\n              paramsForUpdate\r\n            );\r\n          }\r\n          options = !_.isArray(options) ? options.data : options;\r\n          options = _.isArray(options) ? options : [];\r\n        } else if (this.state.paramsForUpdate) {\r\n          options = await new Resource({ route: this.getRoute() }).getAll();\r\n          options = !_.isArray(options) ? options.data : options;\r\n          options = _.isArray(options) ? options : [];\r\n        }\r\n\r\n        this.setState(state => ({\r\n          ...state,\r\n          paramsForUpdate,\r\n          options\r\n        }));\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Изменение значения в виджете\r\n   * @param e\r\n   * @param  editor для получения изменений из CKEditor\r\n   */\r\n  onChange(e, editor = null) {\r\n    let value = \"\";\r\n    let valueToDispatch;\r\n    const settings = this.props.element.getSettings();\r\n    if (e && e.target) {\r\n      value = e.target.value;\r\n    }\r\n\r\n    if (e && e.value) {\r\n      value = e.value;\r\n    }\r\n    if (_.get(editor, \"getData\")) {\r\n      value = `<div class=\"ck ck-content\" style=\"width:100%\">${editor.getData()}</div>`;\r\n    }\r\n    if (_.isArray(e)) {\r\n      value = _.cloneDeep(e);\r\n    }\r\n\r\n    if (\r\n      this.props.element.getSettings(\"content_options_nullable\") &&\r\n      e &&\r\n      e.value === \"<null>\"\r\n    ) {\r\n      value = null;\r\n    }\r\n\r\n    this.setState(\r\n      state => ({\r\n        ...state,\r\n        value\r\n      }),\r\n      () => {\r\n        /**\r\n         * Обновляем хранилище только если не текстовое поле\r\n         */\r\n\r\n        const change_actions = this.props.element.getSettings(\"change_actions\");\r\n        const change_change_end = this.props.element.getSettings(\r\n          \"change_change_end\"\r\n        );\r\n        const change_change_end_delay = this.props.element.getSettings(\r\n          \"change_change_end_delay\"\r\n        );\r\n\r\n        this.dispatchFieldValueToStore(\r\n          valueToDispatch !== undefined ? valueToDispatch : value,\r\n          true\r\n        );\r\n\r\n        if (change_actions && !change_change_end && !isEditor()) {\r\n          this.debounceDispatch(\r\n            valueToDispatch !== undefined ? valueToDispatch : value\r\n          );\r\n        }\r\n        if (change_actions && change_change_end && !isEditor()) {\r\n          this.timeInput && clearTimeout(this.timeInput);\r\n          this.timeInput = setTimeout(() => {\r\n            this.debounceDispatch(\r\n              valueToDispatch !== undefined ? valueToDispatch : value\r\n            );\r\n          }, change_change_end_delay);\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  debounceDispatch = _.debounce(\r\n    value => this.dispatchFieldValueToStore(value, true),\r\n    150\r\n  );\r\n\r\n  /**\r\n   * получить опции\r\n   */\r\n  getOptions() {\r\n    let options = [...this.state.options];\r\n    const optionsDynamicSetting = this.props.element.getDynamicSetting(\r\n      \"content_options\"\r\n    );\r\n    if (optionsDynamicSetting) {\r\n      options = convertData(optionsDynamicSetting, options);\r\n    }\r\n    if (!this.props.element.getSettings(\"sort_default\")) {\r\n      options = _.sortBy(options, o => o && (o.label ? o.label.toString() : o));\r\n    }\r\n    return options;\r\n  }\r\n\r\n  /**\r\n   * Для действие по фокусу\r\n   * @param e\r\n   * @return {Promise<void>}\r\n   */\r\n\r\n  onFocus = async e => {\r\n    const focus_actions = this.props.element.getSettings(\"focus_actions\");\r\n\r\n    if (focus_actions && !isEditor()) {\r\n      const actionsManager = (\r\n        await import(\r\n          /* webpackChunkName: 'ActionsManager' */\r\n          \"../../../../../front-app/src/js/classes/modules/ActionsManager.js\"\r\n        )\r\n      ).default;\r\n      await actionsManager.callAllWidgetActions(\r\n        this.props.element.getIdForAction(),\r\n        \"focus\",\r\n        focus_actions,\r\n        this.props.element\r\n      );\r\n    }\r\n  };\r\n  /**\r\n   * Потеря фокуса для оптимизации\r\n   * @param  e\r\n   * @param  editor для получения изменений из CKEditor\r\n   */\r\n  onBlur = async (e, editor = null) => {\r\n    if (_.get(editor, \"getData\")) {\r\n      this.dispatchFieldValueToStore(editor.getData(), true);\r\n    }\r\n    if (this.props.element.getSettings(\"actions\", []) && !isEditor()) {\r\n      const actionsManager = (\r\n        await import(\r\n          /* webpackChunkName: 'ActionsManager' */\r\n          \"../../../../../front-app/src/js/classes/modules/ActionsManager.js\"\r\n        )\r\n      ).default;\r\n      await actionsManager.callAllWidgetActions(\r\n        this.props.element.getIdForAction(),\r\n        \"blur\",\r\n        this.props.element.getSettings(\"actions\", []),\r\n        this.props.element\r\n      );\r\n    }\r\n  };\r\n  /**\r\n   * Передадим значение в хранилище формы\r\n   * @param {*} value\r\n   * @param {boolean} userInput true - имзенилось пользователем\r\n   */\r\n  dispatchFieldValueToStore = async (value, userInput = false) => {\r\n    let formId = this.props.element.getFormId();\r\n    let fieldName = this.props.element.getFieldId();\r\n    if (fieldName.indexOf(\"{{\") !== -1) {\r\n      fieldName = replaceContentWithData(fieldName);\r\n    }\r\n    if (_.isObject(this.props.appStore) && fieldName && formId) {\r\n      this.props.appStore.dispatch(\r\n        changeFormFieldValue(fieldName, value, formId, userInput)\r\n      );\r\n      if (userInput) {\r\n        const change_actions = this.props.element.getSettings(\"change_actions\");\r\n\r\n        if (change_actions && !isEditor()) {\r\n          const actionsManager = (\r\n            await import(\r\n              /* webpackChunkName: 'ActionsManager' */\r\n              \"../../../../../front-app/src/js/classes/modules/ActionsManager.js\"\r\n            )\r\n          ).default;\r\n          await actionsManager.callAllWidgetActions(\r\n            this.props.element.getIdForAction(),\r\n            \"change\",\r\n            change_actions,\r\n            this.props.element\r\n          );\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Обработка добавления опции по ajax\r\n   * @param {SyntheticKeyboardEvent} e\r\n   */\r\n  createItem = async e => {\r\n    const keyCode = e.keyCode;\r\n    const { value: inputValue } = e.target;\r\n    if (keyCode !== 13 || !inputValue) {\r\n      return;\r\n    }\r\n    const {\r\n      create_url,\r\n      create_label,\r\n      create_data,\r\n      select2_multiple\r\n    } = this.props.element.getSettings();\r\n    if (!create_label && !create_url) {\r\n      return;\r\n    }\r\n    const currentModel = this.props.element.getCurrentModel();\r\n    let data = parseParamsFromString(create_data, currentModel, true);\r\n    data[create_label] = inputValue;\r\n    let url = parseURLTemplate(create_url, currentModel.getData());\r\n    this.setState(state => ({ ...state, isDisabled: true }));\r\n    try {\r\n      const resource = new Resource({\r\n        route: url\r\n      });\r\n      let res = await resource.post(data);\r\n      if (res.success && _.get(res, \"data.id\")) {\r\n        let newOption = {\r\n          label: inputValue,\r\n          value: _.get(res, \"data.id\")\r\n        };\r\n        this.setState(\r\n          state => ({ ...state, isDisabled: false }),\r\n          () => {\r\n            let options = [...this.state.options];\r\n            options.unshift(newOption);\r\n            let value = this.state.value;\r\n            if (select2_multiple) {\r\n              value = value ? [...value] : [];\r\n              value.push(_.get(res, \"data.id\"));\r\n            } else {\r\n              value = _.get(res, \"data.id\");\r\n            }\r\n            this.setState(\r\n              state => ({ ...state, options, value }),\r\n              () => {\r\n                const selectStateManager = _.get(\r\n                  this,\r\n                  \"altrpSelectRef.current.selectRef.current\"\r\n                );\r\n                if (selectStateManager) {\r\n                  selectStateManager.setState({\r\n                    menuIsOpen: false,\r\n                    inputValue: \"\"\r\n                  });\r\n                }\r\n              }\r\n            );\r\n          }\r\n        );\r\n      }\r\n      this.setState(state => ({ ...state, isDisabled: false }));\r\n    } catch (error) {\r\n      console.error(error);\r\n      this.setState(state => ({ ...state, isDisabled: false }));\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Взовращает имя для атрибута name\r\n   * @return {string}\r\n   */\r\n  getName() {\r\n    return `${this.props.element.getFormId()}[${this.props.element.getFieldId()}]`;\r\n  }\r\n\r\n  render() {\r\n    let label = null;\r\n    const settings = this.props.element.getSettings();\r\n    const {\r\n      content_readonly,\r\n      select2_multiple: isMultiple,\r\n      label_icon\r\n    } = settings;\r\n\r\n    let value = this.state.value;\r\n\r\n    if (\r\n      _.get(value, \"dynamic\") &&\r\n      this.props.currentModel.getProperty(\"altrpModelUpdated\")\r\n    ) {\r\n      value = this.getContent(\"content_default_value\");\r\n    }\r\n    /**\r\n     * Пока динамический контент загружается (Еесли это динамический контент),\r\n     * нужно вывести пустую строку\r\n     */\r\n    if (value && value.dynamic) {\r\n      value = \"\";\r\n    }\r\n    let classLabel = \"\";\r\n    let styleLabel = {};\r\n    const content_label_position_type = this.props.element.getResponsiveSetting(\r\n      \"content_label_position_type\"\r\n    );\r\n    switch (content_label_position_type) {\r\n      case \"top\":\r\n        styleLabel = {\r\n          marginBottom: this.state.settings.label_style_spacing\r\n            ? this.state.settings.label_style_spacing.size +\r\n            this.state.settings.label_style_spacing.unit\r\n            : 2 + \"px\"\r\n        };\r\n        classLabel = \"\";\r\n        break;\r\n      case \"bottom\":\r\n        styleLabel = {\r\n          marginTop: this.state.settings.label_style_spacing\r\n            ? this.state.settings.label_style_spacing.size +\r\n            this.state.settings.label_style_spacing.unit\r\n            : 2 + \"px\"\r\n        };\r\n        classLabel = \"\";\r\n        break;\r\n      case \"left\":\r\n        styleLabel = {\r\n          marginRight: this.state.settings.label_style_spacing\r\n            ? this.state.settings.label_style_spacing.size +\r\n            this.state.settings.label_style_spacing.unit\r\n            : 2 + \"px\"\r\n        };\r\n        classLabel = \"altrp-field-label-container-left\";\r\n        // this.label.current.classList.add(\"hello\")\r\n\r\n        break;\r\n      case \"absolute\":\r\n        styleLabel = {\r\n          position: \"absolute\",\r\n          zIndex: 2\r\n        };\r\n        classLabel = \"\";\r\n        break;\r\n    }\r\n\r\n    if (this.state.settings.content_label) {\r\n      label = (\r\n        <div\r\n          className={\"altrp-field-label-container \" + classLabel}\r\n          style={styleLabel}\r\n        >\r\n          <label\r\n            className={`altrp-field-label ${this.state.settings.content_required\r\n              ? \"altrp-field-label--required\"\r\n              : \"\"\r\n              }`}\r\n          >\r\n            {this.state.settings.content_label}\r\n          </label>\r\n          {label_icon && label_icon.assetType && (\r\n            <span className=\"altrp-label-icon\">\r\n              {renderAssetIcon(label_icon)}\r\n            </span>\r\n          )}\r\n        </div>\r\n      );\r\n    } else {\r\n      label = null;\r\n    }\r\n\r\n    let autocomplete = \"off\";\r\n    if (this.state.settings.content_autocomplete) {\r\n      autocomplete = \"on\";\r\n    } else {\r\n      autocomplete = \"off\";\r\n    }\r\n\r\n    const input = (\r\n      <TextArea\r\n        value={value || \"\"}\r\n        readOnly={content_readonly}\r\n        autoComplete={autocomplete}\r\n        placeholder={this.state.settings.content_placeholder}\r\n        className={\r\n          \"altrp-field \" + this.state.settings.position_css_classes\r\n        }\r\n        onChange={this.onChange}\r\n        onBlur={this.onBlur}\r\n        id={this.state.settings.position_css_id}\r\n      />\r\n    );\r\n    return (\r\n      <AltrpFieldContainer\r\n        settings={settings}\r\n        className=\"altrp-field-container \"\r\n      >\r\n        {content_label_position_type === \"top\" ? label : \"\"}\r\n        {content_label_position_type === \"left\" ? label : \"\"}\r\n        {content_label_position_type === \"right\" ? label : \"\"}\r\n        {content_label_position_type === \"absolute\" ? label : \"\"}\r\n        {/* .altrp-field-label-container */}\r\n        {input}\r\n        {content_label_position_type === \"bottom\" ? label : \"\"}\r\n      </AltrpFieldContainer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default InputTextareaWidget;\r\n","!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t(require(\"react\")):\"function\"==typeof define&&define.amd?define([\"react\"],t):\"object\"==typeof exports?exports.reactTextMask=t(require(\"react\")):e.reactTextMask=t(e.React)}(this,function(e){return function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var r={};return t.m=e,t.c=r,t.p=\"\",t(0)}([function(e,t,r){\"use strict\";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}function i(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function a(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function u(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,\"__esModule\",{value:!0}),t.conformToMask=void 0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),f=r(3);Object.defineProperty(t,\"conformToMask\",{enumerable:!0,get:function(){return n(f).default}});var c=r(11),p=n(c),d=r(9),h=n(d),v=r(5),y=n(v),m=r(2),b=function(e){function t(){var e;i(this,t);for(var r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];var u=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(n)));return u.setRef=u.setRef.bind(u),u.onBlur=u.onBlur.bind(u),u.onChange=u.onChange.bind(u),u}return u(t,e),l(t,[{key:\"setRef\",value:function(e){this.inputElement=e}},{key:\"initTextMask\",value:function(){var e=this.props,t=this.props.value;this.textMaskInputElement=(0,y.default)(s({inputElement:this.inputElement},e)),this.textMaskInputElement.update(t)}},{key:\"componentDidMount\",value:function(){this.initTextMask()}},{key:\"componentDidUpdate\",value:function(e){var t=this.props,r=t.value,n=t.pipe,o=t.mask,i=t.guide,a=t.placeholderChar,u=t.showMask,s={guide:i,placeholderChar:a,showMask:u},l=\"function\"==typeof n&&\"function\"==typeof e.pipe?n.toString()!==e.pipe.toString():(0,m.isNil)(n)&&!(0,m.isNil)(e.pipe)||!(0,m.isNil)(n)&&(0,m.isNil)(e.pipe),f=o.toString()!==e.mask.toString(),c=Object.keys(s).some(function(t){return s[t]!==e[t]})||f||l,p=r!==this.inputElement.value;(p||c)&&this.initTextMask()}},{key:\"render\",value:function e(){var t=this.props,e=t.render,r=o(t,[\"render\"]);return delete r.mask,delete r.guide,delete r.pipe,delete r.placeholderChar,delete r.keepCharPositions,delete r.value,delete r.onBlur,delete r.onChange,delete r.showMask,e(this.setRef,s({onBlur:this.onBlur,onChange:this.onChange,defaultValue:this.props.value},r))}},{key:\"onChange\",value:function(e){this.textMaskInputElement.update(),\"function\"==typeof this.props.onChange&&this.props.onChange(e)}},{key:\"onBlur\",value:function(e){\"function\"==typeof this.props.onBlur&&this.props.onBlur(e)}}]),t}(p.default.PureComponent);t.default=b,b.propTypes={mask:h.default.oneOfType([h.default.array,h.default.func,h.default.bool,h.default.shape({mask:h.default.oneOfType([h.default.array,h.default.func]),pipe:h.default.func})]).isRequired,guide:h.default.bool,value:h.default.oneOfType([h.default.string,h.default.number]),pipe:h.default.func,placeholderChar:h.default.string,keepCharPositions:h.default.bool,showMask:h.default.bool},b.defaultProps={render:function(e,t){return p.default.createElement(\"input\",s({ref:e},t))}}},function(e,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.placeholderChar=\"_\",t.strFunction=\"function\"},function(e,t,r){\"use strict\";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.placeholderChar;if(!o(e))throw new Error(\"Text-mask:convertMaskToPlaceholder; The mask property must be an array.\");if(e.indexOf(t)!==-1)throw new Error(\"Placeholder character must not be used as part of the mask. Please specify a character that is not present in your mask as your placeholder character.\\n\\n\"+(\"The placeholder character that was received is: \"+JSON.stringify(t)+\"\\n\\n\")+(\"The mask that was received is: \"+JSON.stringify(e)));return e.map(function(e){return e instanceof RegExp?t:e}).join(\"\")}function o(e){return Array.isArray&&Array.isArray(e)||e instanceof Array}function i(e){return\"string\"==typeof e||e instanceof String}function a(e){return\"number\"==typeof e&&void 0===e.length&&!isNaN(e)}function u(e){return\"undefined\"==typeof e||null===e}function s(e){for(var t=[],r=void 0;r=e.indexOf(c),r!==-1;)t.push(r),e.splice(r,1);return{maskWithoutCaretTraps:e,indexes:t}}Object.defineProperty(t,\"__esModule\",{value:!0}),t.convertMaskToPlaceholder=n,t.isArray=o,t.isString=i,t.isNumber=a,t.isNil=u,t.processCaretTraps=s;var l=r(1),f=[],c=\"[]\"},function(e,t,r){\"use strict\";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!(0,i.isArray)(t)){if((\"undefined\"==typeof t?\"undefined\":o(t))!==a.strFunction)throw new Error(\"Text-mask:conformToMask; The mask property must be an array.\");t=t(e,r),t=(0,i.processCaretTraps)(t).maskWithoutCaretTraps}var n=r.guide,l=void 0===n||n,f=r.previousConformedValue,c=void 0===f?s:f,p=r.placeholderChar,d=void 0===p?a.placeholderChar:p,h=r.placeholder,v=void 0===h?(0,i.convertMaskToPlaceholder)(t,d):h,y=r.currentCaretPosition,m=r.keepCharPositions,b=l===!1&&void 0!==c,g=e.length,k=c.length,C=v.length,O=t.length,T=g-k,P=T>0,x=y+(P?-T:0),w=x+Math.abs(T);if(m===!0&&!P){for(var S=s,_=x;_<w;_++)v[_]===d&&(S+=d);e=e.slice(0,x)+S+e.slice(x,g)}for(var M=e.split(s).map(function(e,t){return{char:e,isNew:t>=x&&t<w}}),j=g-1;j>=0;j--){var E=M[j].char;if(E!==d){var R=j>=x&&k===O;E===v[R?j-T:j]&&M.splice(j,1)}}var V=s,N=!1;e:for(var A=0;A<C;A++){var B=v[A];if(B===d){if(M.length>0)for(;M.length>0;){var I=M.shift(),F=I.char,q=I.isNew;if(F===d&&b!==!0){V+=d;continue e}if(t[A].test(F)){if(m===!0&&q!==!1&&c!==s&&l!==!1&&P){for(var D=M.length,L=null,W=0;W<D;W++){var J=M[W];if(J.char!==d&&J.isNew===!1)break;if(J.char===d){L=W;break}}null!==L?(V+=F,M.splice(L,1)):A--}else V+=F;continue e}N=!0}b===!1&&(V+=v.substr(A,C));break}V+=B}if(b&&P===!1){for(var U=null,H=0;H<V.length;H++)v[H]===d&&(U=H);V=null!==U?V.substr(0,U+1):s}return{conformedValue:V,meta:{someCharsRejected:N}}}Object.defineProperty(t,\"__esModule\",{value:!0});var o=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e};t.default=n;var i=r(2),a=r(1),u=[],s=\"\"},function(e,t){\"use strict\";function r(e){var t=e.previousConformedValue,r=void 0===t?o:t,i=e.previousPlaceholder,a=void 0===i?o:i,u=e.currentCaretPosition,s=void 0===u?0:u,l=e.conformedValue,f=e.rawValue,c=e.placeholderChar,p=e.placeholder,d=e.indexesOfPipedChars,h=void 0===d?n:d,v=e.caretTrapIndexes,y=void 0===v?n:v;if(0===s||!f.length)return 0;var m=f.length,b=r.length,g=p.length,k=l.length,C=m-b,O=C>0,T=0===b,P=C>1&&!O&&!T;if(P)return s;var x=O&&(r===l||l===p),w=0,S=void 0,_=void 0;if(x)w=s-C;else{var M=l.toLowerCase(),j=f.toLowerCase(),E=j.substr(0,s).split(o),R=E.filter(function(e){return M.indexOf(e)!==-1});_=R[R.length-1];var V=a.substr(0,R.length).split(o).filter(function(e){return e!==c}).length,N=p.substr(0,R.length).split(o).filter(function(e){return e!==c}).length,A=N!==V,B=void 0!==a[R.length-1]&&void 0!==p[R.length-2]&&a[R.length-1]!==c&&a[R.length-1]!==p[R.length-1]&&a[R.length-1]===p[R.length-2];!O&&(A||B)&&V>0&&p.indexOf(_)>-1&&void 0!==f[s]&&(S=!0,_=f[s]);for(var I=h.map(function(e){return M[e]}),F=I.filter(function(e){return e===_}).length,q=R.filter(function(e){return e===_}).length,D=p.substr(0,p.indexOf(c)).split(o).filter(function(e,t){return e===_&&f[t]!==e}).length,L=D+q+F+(S?1:0),W=0,J=0;J<k;J++){var U=M[J];if(w=J+1,U===_&&W++,W>=L)break}}if(O){for(var H=w,Y=w;Y<=g;Y++)if(p[Y]===c&&(H=Y),p[Y]===c||y.indexOf(Y)!==-1||Y===g)return H}else if(S){for(var z=w-1;z>=0;z--)if(l[z]===_||y.indexOf(z)!==-1||0===z)return z}else for(var G=w;G>=0;G--)if(p[G-1]===c||y.indexOf(G)!==-1||0===G)return G}Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=r;var n=[],o=\"\"},function(e,t,r){\"use strict\";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){var t={previousConformedValue:void 0,previousPlaceholder:void 0};return{state:t,update:function(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,o=n.inputElement,l=n.mask,c=n.guide,y=n.pipe,b=n.placeholderChar,g=void 0===b?h.placeholderChar:b,k=n.keepCharPositions,C=void 0!==k&&k,O=n.showMask,T=void 0!==O&&O;if(\"undefined\"==typeof r&&(r=o.value),r!==t.previousConformedValue){(\"undefined\"==typeof l?\"undefined\":s(l))===m&&void 0!==l.pipe&&void 0!==l.mask&&(y=l.pipe,l=l.mask);var P=void 0,x=void 0;if(l instanceof Array&&(P=(0,d.convertMaskToPlaceholder)(l,g)),l!==!1){var w=a(r),S=o.selectionEnd,_=t.previousConformedValue,M=t.previousPlaceholder,j=void 0;if((\"undefined\"==typeof l?\"undefined\":s(l))===h.strFunction){if(x=l(w,{currentCaretPosition:S,previousConformedValue:_,placeholderChar:g}),x===!1)return;var E=(0,d.processCaretTraps)(x),R=E.maskWithoutCaretTraps,V=E.indexes;x=R,j=V,P=(0,d.convertMaskToPlaceholder)(x,g)}else x=l;var N={previousConformedValue:_,guide:c,placeholderChar:g,pipe:y,placeholder:P,currentCaretPosition:S,keepCharPositions:C},A=(0,p.default)(w,x,N),B=A.conformedValue,I=(\"undefined\"==typeof y?\"undefined\":s(y))===h.strFunction,F={};I&&(F=y(B,u({rawValue:w},N)),F===!1?F={value:_,rejected:!0}:(0,d.isString)(F)&&(F={value:F}));var q=I?F.value:B,D=(0,f.default)({previousConformedValue:_,previousPlaceholder:M,conformedValue:q,placeholder:P,rawValue:w,currentCaretPosition:S,placeholderChar:g,indexesOfPipedChars:F.indexesOfPipedChars,caretTrapIndexes:j}),L=q===P&&0===D,W=T?P:v,J=L?W:q;t.previousConformedValue=J,t.previousPlaceholder=P,o.value!==J&&(o.value=J,i(o,D))}}}}}function i(e,t){document.activeElement===e&&(b?g(function(){return e.setSelectionRange(t,t,y)},0):e.setSelectionRange(t,t,y))}function a(e){if((0,d.isString)(e))return e;if((0,d.isNumber)(e))return String(e);if(void 0===e||null===e)return v;throw new Error(\"The 'value' provided to Text Mask needs to be a string or a number. The value received was:\\n\\n \"+JSON.stringify(e))}Object.defineProperty(t,\"__esModule\",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e};t.default=o;var l=r(4),f=n(l),c=r(3),p=n(c),d=r(2),h=r(1),v=\"\",y=\"none\",m=\"object\",b=\"undefined\"!=typeof navigator&&/Android/i.test(navigator.userAgent),g=\"undefined\"!=typeof requestAnimationFrame?requestAnimationFrame:setTimeout},function(e,t){\"use strict\";function r(e){return function(){return e}}var n=function(){};n.thatReturns=r,n.thatReturnsFalse=r(!1),n.thatReturnsTrue=r(!0),n.thatReturnsNull=r(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},function(e,t,r){\"use strict\";function n(e,t,r,n,i,a,u,s){if(o(t),!e){var l;if(void 0===t)l=new Error(\"Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.\");else{var f=[r,n,i,a,u,s],c=0;l=new Error(t.replace(/%s/g,function(){return f[c++]})),l.name=\"Invariant Violation\"}throw l.framesToPop=1,l}}var o=function(e){};e.exports=n},function(e,t,r){\"use strict\";var n=r(6),o=r(7),i=r(10);e.exports=function(){function e(e,t,r,n,a,u){u!==i&&o(!1,\"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types\")}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return r.checkPropTypes=n,r.PropTypes=r,r}},function(e,t,r){\"use strict\";\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},e.exports=r(8)()},function(e,t){\"use strict\";var r=\"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED\";e.exports=r},function(t,r){t.exports=e}])});"],"sourceRoot":""}