{"version":3,"sources":["webpack:///./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","webpack:///./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack:///./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/esm/inherits.js","webpack:///./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","webpack:///./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js","webpack:///./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack:///./resources/modules/front-app/src/js/components/AdminBarWrapper.js","webpack:///./resources/modules/front-app/src/js/components/AdminBar.js"],"names":["_assertThisInitialized","self","ReferenceError","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","_inherits","subClass","superClass","TypeError","prototype","create","constructor","_possibleConstructorReturn","call","_setPrototypeOf","p","_taggedTemplateLiteral","strings","raw","slice","freeze","defineProperties","_typeof","Symbol","iterator","styled","div","getDataByPath","window","altrpHelpers","props","clearCache","idPage","confirm","Resource","route","delete","state","visiblePopupTemplate","valueInput","contentResult","visibleContentResult","visibleAutocomplete","filteredOptions","isHttps","popupTemplateRef","React","createRef","searchContentResult","autocomplete","searchInput","toggleVisiblePopupTemplate","bind","handleInput","handleOutsideClick","openPageSettings","handleClickCopy","handleClickSearch","handleDoubleClickSearch","handleKeyDown","onFocus","handleClickOptions","document","body","addEventListener","this","location","href","split","setState","e","stopPropagation","id","open","event","target","localStorage","getItem","JSON","parse","filter","item","toLowerCase","indexOf","splice","length","stringify","path","composedPath","includes","current","select","execCommand","options","push","setItem","renderResultSearch","className","onClick","openPageAdmin","iconsManager","renderIcon","ref","areas","map","index","templates","openTemplate","name","template","style","paddingBottom","onChange","onKeyDown","placeholder","onDoubleClick","data","email","Component"],"mappings":"2FAAe,SAASA,EAAuBC,GAC7C,QAAa,IAATA,EACF,MAAM,IAAIC,eAAe,6DAG3B,OAAOD,E,oECLM,SAASE,EAAgBC,EAAKC,EAAKC,GAYhD,OAXID,KAAOD,EACTG,OAAOC,eAAeJ,EAAKC,EAAK,CAC9BC,MAAOA,EACPG,YAAY,EACZC,cAAc,EACdC,UAAU,IAGZP,EAAIC,GAAOC,EAGNF,E,oECZM,SAASQ,EAAgBC,GAItC,OAHAD,EAAkBL,OAAOO,eAAiBP,OAAOQ,eAAiB,SAAyBF,GACzF,OAAOA,EAAEG,WAAaT,OAAOQ,eAAeF,KAEvBA,G,mHCHV,SAASI,EAAUC,EAAUC,GAC1C,GAA0B,mBAAfA,GAA4C,OAAfA,EACtC,MAAM,IAAIC,UAAU,sDAGtBF,EAASG,UAAYd,OAAOe,OAAOH,GAAcA,EAAWE,UAAW,CACrEE,YAAa,CACXjB,MAAOY,EACPP,UAAU,EACVD,cAAc,KAGdS,IAAY,OAAeD,EAAUC,K,6FCX5B,SAASK,EAA2BvB,EAAMwB,GACvD,OAAIA,GAA2B,YAAlB,OAAQA,IAAsC,mBAATA,GAI3C,OAAsBxB,GAHpBwB,I,mCCJI,SAASC,EAAgBb,EAAGc,GAMzC,OALAD,EAAkBnB,OAAOO,gBAAkB,SAAyBD,EAAGc,GAErE,OADAd,EAAEG,UAAYW,EACPd,IAGcA,EAAGc,G,oECNb,SAASC,EAAuBC,EAASC,GAKtD,OAJKA,IACHA,EAAMD,EAAQE,MAAM,IAGfxB,OAAOyB,OAAOzB,OAAO0B,iBAAiBJ,EAAS,CACpDC,IAAK,CACHxB,MAAOC,OAAOyB,OAAOF,O,oECPZ,SAASI,EAAQ9B,GAa9B,OATE8B,EADoB,mBAAXC,QAAoD,iBAApBA,OAAOC,SACtC,SAAiBhC,GACzB,cAAcA,GAGN,SAAiBA,GACzB,OAAOA,GAAyB,mBAAX+B,QAAyB/B,EAAImB,cAAgBY,QAAU/B,IAAQ+B,OAAOd,UAAY,gBAAkBjB,IAI9GA,G,4OC+MjB,EA1NwBiC,OAAOC,IAAV,23H,qkBCArB,IAAOC,EAAgBC,OAAOC,aAAvBF,cAmUP,E,wcAhUE,WAAYG,GAAO,6BACjB,cAAMA,IAyHRC,YA1HmB,iBA0HN,iFACN,EAAKD,MAAME,OADL,iEAISC,QAAQ,gBAJjB,4FASO,IAAIL,OAAOC,aAAaK,SAAS,CAACC,MAAM,4BAA4BC,OAAO,EAAKN,MAAME,QAT7F,kFAWHC,QAAQ,SAXL,yBAcLA,QAAQ,QAdH,0DAxHX,EAAKI,MAAQ,CACXC,sBAAsB,EACtBC,WAAY,GACZC,cAAe,gCACfC,sBAAsB,EACtBC,qBAAqB,EACrBC,gBAAiB,GACjBC,SAAS,GAEX,EAAKC,iBAAmBC,MAAMC,YAC9B,EAAKC,oBAAsBF,MAAMC,YACjC,EAAKE,aAAeH,MAAMC,YAC1B,EAAKG,YAAcJ,MAAMC,YACzB,EAAKI,2BAA6B,EAAKA,2BAA2BC,MAAhC,WAGlC,EAAKC,YAAc,EAAKA,YAAYD,MAAjB,WACnB,EAAKE,mBAAqB,EAAKA,mBAAmBF,MAAxB,WAC1B,EAAKG,iBAAmB,EAAKA,iBAAiBH,MAAtB,WACxB,EAAKI,gBAAkB,EAAKA,gBAAgBJ,MAArB,WACvB,EAAKK,kBAAoB,EAAKA,kBAAkBL,MAAvB,WACzB,EAAKM,wBAA0B,EAAKA,wBAAwBN,MAA7B,WAC/B,EAAKO,cAAgB,EAAKA,cAAcP,MAAnB,WACrB,EAAKQ,QAAU,EAAKA,QAAQR,MAAb,WACf,EAAKS,mBAAqB,EAAKA,mBAAmBT,MAAxB,WA1BT,E,gDA6BnB,WACEU,SAASC,KAAKC,iBAAiB,QAASC,KAAKX,oBAG7B,UADDY,SAASC,KAAKC,MAAM,OAAO,IAExCH,KAAKI,UAAS,SAAAhC,GAAK,cACdA,GADc,IAEjBO,SAAS,S,wCAIf,SAA2B0B,GACzBA,EAAEC,kBACFN,KAAKI,UAAS,SAAAhC,GAAK,cACdA,GADc,IAEjBC,sBAAuBD,EAAMC,4B,0BAIjC,SAAakC,GACX,OAAO,kBAAM5C,OAAO6C,KAAP,oCAAyCD,GAAM,a,8BAG9D,WACE5C,OAAO6C,KAAP,4BAAiCR,KAAKnC,MAAME,W,2BAG9C,WACEJ,OAAO6C,KAAK,sB,yBAGd,SAAYC,GACV,IAAIhF,EAAQgF,EAAMC,OAAOjF,MAKrBiD,GAHUiC,aAAaC,QAAQ,iCAC/BC,KAAKC,MAAMH,aAAaC,QAAQ,kCAChC,IAC0BG,QAC5B,SAAAC,GAAI,OAAIA,EAAKC,cAAcC,QAAQzF,EAAMwF,gBAAkB,KAE7DvC,EAAgByC,OAAO,EAAGzC,EAAgB0C,OAAS,GAEnDpB,KAAKI,UAAS,SAAAhC,GAAK,cACdA,GADc,IAEjBM,kBACAJ,WAAY7C,S,2BAGhB,SAAcgF,GACM,UAAdA,EAAMjF,KACRwE,KAAKR,oBAEW,WAAdiB,EAAMjF,KACRwE,KAAKI,UAAS,SAAAhC,GAAK,cACdA,GADc,IAEjBI,sBAAsB,S,gCAK5B,WACE,OAAOqC,KAAKQ,UAAU3D,EAAcsC,KAAK5B,MAAME,YAAa,KAAM,Q,gCAGpE,SAAmBmC,GACjB,IAAMa,EAAOb,EAAMa,MAASb,EAAMc,cAAgBd,EAAMc,eACnDD,EAAKE,SAASxB,KAAKpB,iBAAiB6C,UACvCzB,KAAKI,UAAS,SAAAhC,GAAK,cACdA,GADc,IAEjBC,sBAAsB,OAGrBiD,EAAKE,SAASxB,KAAKjB,oBAAoB0C,UAC1CzB,KAAKI,UAAS,SAAAhC,GAAK,cACdA,GADc,IAEjBI,sBAAsB,OAGrB8C,EAAKE,SAASxB,KAAKhB,aAAayC,UAAaH,EAAKE,SAASxB,KAAKf,YAAYwC,UAC/EzB,KAAKI,UAAS,SAAAhC,GAAK,cACdA,GADc,IAEjBK,qBAAqB,S,6BAK3B,WACEoC,KAAKQ,UAAU3D,EAAcsC,KAAK5B,MAAME,YAAa,KAAM,MAAMoD,SACjE7B,SAAS8B,YAAY,U,+BAqBvB,WAAoB,WACdC,EAAUjB,aAAaC,QAAQ,iCAC/BC,KAAKC,MAAMH,aAAaC,QAAQ,kCAChC,GACJgB,EAAQC,KAAK7B,KAAK5B,MAAME,YACxBqC,aAAamB,QACX,gCACAjB,KAAKQ,UAAUO,IAEjB5B,KAAKI,UAAS,SAAAhC,GAAK,cAEdA,GAFc,IAGjBG,cAAe,EAAKwD,qBACpBvD,sBAAsB,S,gCAI1B,SAAmBF,GAAY,WAC7B,OAAO,WACL,EAAK8B,UAAS,SAAAhC,GAAK,cACdA,GADc,IAEjBK,qBAAqB,EACrBH,kBAEF,EAAKkB,uB,qBAGT,WACEQ,KAAKI,UAAS,SAAAhC,GAAK,cACdA,GADc,IAEjBK,qBAAqB,S,qCAIzB,WACEuB,KAAKI,UAAS,SAAAhC,GAAK,cACdA,GADc,IAEjBI,sBAAsB,S,oBAI1B,WAAS,WACP,OACE,oBAAC,EAAD,KACE,2BAAKwD,UAAU,sBACb,2BAAKA,UAAU,oBACb,2BAAKA,UAAU,kBAAkBC,QAASjC,KAAKkC,eAA/C,SAGA,2BAAKF,UAAU,mBACb,4BAAMC,QAASjC,KAAKd,4BACjBiD,aAAaC,WAAW,aAAc,CACrCJ,UAAW,wBACT,IAHN,iBAOChC,KAAK5B,MAAMC,sBACV,2BACE2D,UAAU,4BACVK,IAAKrC,KAAKpB,kBAEToB,KAAKnC,MAAMyE,MAAMC,KAAI,SAACvB,EAAMwB,GAC3B,MAAe,WAAZxB,EAAKT,GAEJ,2BACEyB,UAAU,yDACVxG,IAAG,mBAAcgH,IAFnB,SAIS,IACNL,aAAaC,WAAW,oBAAqB,CAC5CJ,UAAW,sCAEb,2BAAKA,UAAU,iCACZhB,EAAKyB,UAAUF,KAAI,SAACvB,EAAMwB,GAAP,OAClB,2BACER,UAAU,+BACVC,QAAS,EAAKS,aAAa1B,EAAKT,IAChC/E,IAAG,gBAAWgH,IAEbxB,EAAK2B,WAOb3B,EAAK4B,SAASD,KAEb,2BACEX,UAAU,iCACVxG,IAAG,mBAAcgH,GACjBP,QAAS,EAAKS,aAAa1B,EAAK4B,SAASrC,KAExCS,EAAK4B,SAASD,WAPrB,OAeV,2BAAKX,UAAU,kBAAkBC,QAASjC,KAAKV,kBAC5C6C,aAAaC,WAAW,aAAc,CACrCJ,UAAW,wBACT,IAHN,iBASA,2BAAKA,UAAU,wBAAwBK,IAAKrC,KAAKjB,qBAC9CiB,KAAK5B,MAAMI,sBACV,2BAAKwD,UAAU,4BACb,2BACEA,UAAU,4BACVa,MAAO7C,KAAK5B,MAAMO,QAAU,CAAEmE,cAAe,QAAW,IAEvD9C,KAAK5B,MAAMG,eAEZyB,KAAK5B,MAAMO,SACX,2BACEqD,UAAU,2BACVC,QAASjC,KAAKT,iBAFhB,eAIe4C,aAAaC,WAAW,eAM5CpC,KAAK5B,MAAMK,qBAC4B,IAAtCuB,KAAK5B,MAAMM,gBAAgB0C,QACzB,2BAAKY,UAAU,0BAA0BK,IAAKrC,KAAKhB,cAChDgB,KAAK5B,MAAMM,gBAAgB6D,KAAI,SAACvB,EAAMwB,GAAP,OAC9B,2BACEhH,IAAKgH,EACLR,UAAU,iCACVC,QAAS,EAAKrC,mBAAmBoB,IAEhCA,OAKX,6BACEgB,UAAU,oBACVvG,MAAOuE,KAAK5B,MAAME,WAClByE,SAAU/C,KAAKZ,YACf4D,UAAWhD,KAAKN,cAChBC,QAASK,KAAKL,QACd0C,IAAKrC,KAAKf,YACVgE,YAAY,WAEd,8BACEjB,UAAU,oBACVC,QAASjC,KAAKR,kBACd0D,cAAelD,KAAKP,yBAHtB,QAOA,8BACIuC,UAAU,oBACVC,QAASjC,KAAKlC,YAFlB,iBAQJ,2BAAKkE,UAAU,sBAAf,SAEGhC,KAAKnC,MAAMsF,KAAKR,KAAO3C,KAAKnC,MAAMsF,KAAKR,KAAO3C,KAAKnC,MAAMsF,KAAKC,MAC9DjB,aAAaC,WAAW,aAAc,CACrCJ,UAAW,kC,GAxTFnD,MAAMwE","file":"AdminBar.0be2d2c6fbc2d4488f92.bundle.js","sourcesContent":["export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","import _typeof from \"@babel/runtime/helpers/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized.js\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","export default function _taggedTemplateLiteral(strings, raw) {\n  if (!raw) {\n    raw = strings.slice(0);\n  }\n\n  return Object.freeze(Object.defineProperties(strings, {\n    raw: {\n      value: Object.freeze(raw)\n    }\n  }));\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","\r\n\r\nconst AdminBarWrapper = styled.div`\r\n& .admin-bar {\r\n  top: 0;\r\n  position: absolute;\r\n  height: 25px;\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: space-between;\r\n\r\n  background-color: #343B4C;\r\n  color: #fff;\r\n\r\n  font-family: 'Open Sans';\r\n  line-height: 25px;\r\n  font-size: 13px;\r\n  font-style: normal;\r\n  font-weight: 400;\r\n  letter-spacing: 0em;\r\n  text-align: left;\r\n  z-index: 1000;\r\n}\r\n& .admin-bar__link {\r\n  cursor: pointer;\r\n  margin-left: 15px;\r\n}\r\n& .admin-bar__tools {\r\n  display: flex;\r\n  justify-content: space-between;\r\n\r\n  background-color: #343b4c;\r\n  color: #fff;\r\n\r\n  font-family: \"Open Sans\";\r\n  line-height: 25px;\r\n  font-size: 13px;\r\n  font-style: normal;\r\n  font-weight: 400;\r\n  letter-spacing: 0em;\r\n  text-align: left;\r\n  z-index: 1000;\r\n}\r\n\r\n\r\n& .admin-bar__tool {\r\n  margin-left: 15px;\r\n\r\n  cursor: pointer;\r\n}\r\n\r\n& .admin-bar__tool-svg {\r\n  margin-right: 10px;\r\n  vertical-align: text-top;\r\n}\r\n\r\n& .admin-bar__profile {\r\n  margin-right: 25px;\r\n}\r\n\r\n& .admin-bar__profile-svg {\r\n  vertical-align: text-top;\r\n  margin-left: 10px;\r\n}\r\n\r\n& .admin-bar__popup-template {\r\n  position: relative;\r\n  width: 150px;\r\n  padding-bottom: 7px;\r\n  padding-top: 5px;\r\n\r\n  line-height: 16px;\r\n  z-index: 999;\r\n  background-color: #343b4c;\r\n}\r\n\r\n& .admin-bar__popup-template-item {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  padding: 4px 11px;\r\n\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n}\r\n\r\n& .admin-bar__popup-template-item:hover {\r\n  background: #4f5972;\r\n}\r\n\r\n& .admin-bar__popup-template-chevron {\r\n  margin-top: 3px;\r\n}\r\n\r\n& .admin-bar__popup-popups-items {\r\n  display: none;\r\n  position: fixed;\r\n  left: 160px;\r\n  width: 150px;\r\n  padding-bottom: 7px;\r\n  margin-top: -4px;\r\n\r\n  background-color: #343b4c;\r\n}\r\n\r\n& .admin-bar__popup-popups:hover .admin-bar__popup-popups-items {\r\n  display: block;\r\n}\r\n\r\n& .admin-bar__popup-popups-item {\r\n  padding: 4px 11px;\r\n\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n}\r\n& .admin-bar__popup-popups-item:hover {\r\n  background: #4f5972;\r\n}\r\n& .admin-bar__search-bar {\r\n  margin: 2px 0;\r\n  margin-left: 15px;\r\n}\r\n& .admin-bar__search-result {\r\n  position: fixed;\r\n  margin-top: 23px;\r\n  width: 315px;\r\n  height: 156px;\r\n  padding: 11px 3px 7px 9px;\r\n\r\n  z-index: 999;\r\n  background-color: #343b4c;\r\n}\r\n& .admin-bar__search-content {\r\n  width: 100%;\r\n  height: 100%;\r\n  overflow: auto;\r\n}\r\n& .admin-bar__autocomplete {\r\n  position: fixed;\r\n  margin-top: 21px;\r\n  width: 223px;\r\n  padding: 7px 0;\r\n\r\n\r\n  z-index: 1000;\r\n  box-shadow: 0px 1px 2px 1px rgba(34, 60, 80, .3);\r\n  background-color: #ffffff;\r\n  border-radius: 5px;\r\n  color: #000000;\r\n}\r\n& .admin-bar__autocomplete-option {\r\n  padding: 2px 7px;\r\n\r\n  cursor: pointer;\r\n}\r\n\r\n& .admin-bar__autocomplete-option:hover {\r\n  background-color: #d3d2d2;\r\n}\r\n\r\n& .admin-bar__search-value {\r\n  padding-left: 15px;\r\n}\r\n& .admin-bar__search-button {\r\n  position: fixed;\r\n  height: 22px;\r\n  width: 292px;\r\n  margin-top: -22px;\r\n  margin-left: -5px;\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  align-items: center;\r\n  padding-right: 11px;\r\n\r\n  color: #000000;\r\n  background-color: #f4f4f4;\r\n  cursor: pointer;\r\n}\r\n& .admin-bar__search-button:hover {\r\n  background-color: #c2c2c2;\r\n}\r\n\r\n& .admin-bar__search-button svg {\r\n  margin-left: 5px;\r\n}\r\n& .admin-bar__search {\r\n  width: 223px;\r\n  border: 1px;\r\n  padding: 2px 9px;\r\n  vertical-align: top;\r\n  line-height: 17px;\r\n}\r\n& .admin-bar__button {\r\n  width: 83px;\r\n  height: 21px;\r\n  margin-left: 9px;\r\n  padding: 3px;\r\n  vertical-align: top;\r\n\r\n  color: #000000;\r\n  background-color: #87ca00;\r\n  border-radius: 2px;\r\n}\r\n\r\n& .admin-bar__search-content::-webkit-scrollbar {\r\n  width: 12px;\r\n  background: #F4F4F4;\r\n}\r\n& .admin-bar__search-content::-webkit-scrollbar-track {\r\n  background: #f1f1f1;\r\n}\r\n& .admin-bar__search-content::-webkit-scrollbar-thumb {\r\n  background: #888;\r\n  height: 45px;\r\n}\r\n\r\n& .admin-bar__search-content::-webkit-scrollbar-thumb:hover {\r\n  background: #555;\r\n}\r\n`;\r\n\r\nexport default AdminBarWrapper;\r\n","import AdminBarWrapper from './AdminBarWrapper';\r\n// import Resource from \"../../../../editor/src/js/classes/Resource\";\r\nconst {getDataByPath}= window.altrpHelpers;\r\n\r\nclass AdminBar extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      visiblePopupTemplate: false,\r\n      valueInput: \"\",\r\n      contentResult: <div/>,\r\n      visibleContentResult: false,\r\n      visibleAutocomplete: false,\r\n      filteredOptions: [],\r\n      isHttps: false\r\n    };\r\n    this.popupTemplateRef = React.createRef();\r\n    this.searchContentResult = React.createRef();\r\n    this.autocomplete = React.createRef();\r\n    this.searchInput = React.createRef();\r\n    this.toggleVisiblePopupTemplate = this.toggleVisiblePopupTemplate.bind(\r\n      this\r\n    );\r\n    this.handleInput = this.handleInput.bind(this);\r\n    this.handleOutsideClick = this.handleOutsideClick.bind(this);\r\n    this.openPageSettings = this.openPageSettings.bind(this);\r\n    this.handleClickCopy = this.handleClickCopy.bind(this);\r\n    this.handleClickSearch = this.handleClickSearch.bind(this);\r\n    this.handleDoubleClickSearch = this.handleDoubleClickSearch.bind(this);\r\n    this.handleKeyDown = this.handleKeyDown.bind(this);\r\n    this.onFocus = this.onFocus.bind(this);\r\n    this.handleClickOptions = this.handleClickOptions.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    document.body.addEventListener(\"click\", this.handleOutsideClick);\r\n\r\n    let protocol = location.href.split(\"://\")[0];\r\n    if(protocol === \"https\")\r\n      this.setState(state => ({\r\n        ...state,\r\n        isHttps: true\r\n      }));\r\n  }\r\n\r\n  toggleVisiblePopupTemplate(e) {\r\n    e.stopPropagation();\r\n    this.setState(state => ({\r\n      ...state,\r\n      visiblePopupTemplate: !state.visiblePopupTemplate\r\n    }));\r\n  }\r\n\r\n  openTemplate(id) {\r\n    return () => window.open(`/admin/editor?template_id=${id}`, \"_blank\");\r\n  }\r\n\r\n  openPageSettings() {\r\n    window.open(`/admin/pages/edit/${this.props.idPage}`);\r\n  }\r\n\r\n  openPageAdmin() {\r\n    window.open(\"/admin/dashboard\");\r\n  }\r\n\r\n  handleInput(event) {\r\n    let value = event.target.value;\r\n\r\n    let options = localStorage.getItem(\"admin-bar-search-autocomplete\")\r\n      ? JSON.parse(localStorage.getItem(\"admin-bar-search-autocomplete\"))\r\n      : [];\r\n    let filteredOptions = options.filter(\r\n      item => item.toLowerCase().indexOf(value.toLowerCase()) > -1\r\n    );\r\n    filteredOptions.splice(6, filteredOptions.length - 6);\r\n\r\n    this.setState(state => ({\r\n      ...state,\r\n      filteredOptions,\r\n      valueInput: value\r\n    }));\r\n  }\r\n  handleKeyDown(event) {\r\n    if (event.key === \"Enter\") {\r\n      this.handleClickSearch();\r\n    }\r\n    if (event.key === \"Escape\") {\r\n      this.setState(state => ({\r\n        ...state,\r\n        visibleContentResult: false\r\n    }));\r\n  }\r\n  }\r\n\r\n  renderResultSearch(resultSearch = null) {\r\n    return JSON.stringify(getDataByPath(this.state.valueInput), null, \"\\t\");\r\n  }\r\n\r\n  handleOutsideClick(event) {\r\n    const path = event.path || (event.composedPath && event.composedPath());\r\n    if (!path.includes(this.popupTemplateRef.current)) {\r\n      this.setState(state => ({\r\n        ...state,\r\n        visiblePopupTemplate: false\r\n      }));\r\n    }\r\n    if (!path.includes(this.searchContentResult.current)) {\r\n      this.setState(state => ({\r\n        ...state,\r\n        visibleContentResult: false\r\n      }));\r\n    }\r\n    if (!path.includes(this.autocomplete.current) && !path.includes(this.searchInput.current)) {\r\n      this.setState(state => ({\r\n        ...state,\r\n        visibleAutocomplete: false\r\n      }));\r\n    }\r\n  }\r\n\r\n  handleClickCopy() {\r\n    JSON.stringify(getDataByPath(this.state.valueInput), null, \"\\t\").select();\r\n    document.execCommand(\"copy\");\r\n  }\r\n  /**\r\n   * Запрос на очистку кэша\r\n   */\r\n  clearCache = async () => {\r\n    if(! this.props.idPage){\r\n      return;\r\n    }\r\n    let result  = await confirm('Are You Sure');\r\n    if(! result){\r\n      return;\r\n    }\r\n    try{\r\n      let res = await new window.altrpHelpers.Resource({route:'/admin/ajax/clear_cache'}).delete(this.props.idPage);\r\n    } catch(error){\r\n      await confirm('Error');\r\n\r\n    }\r\n    await confirm('Done');\r\n  };\r\n  handleClickSearch() {\r\n    let options = localStorage.getItem(\"admin-bar-search-autocomplete\")\r\n      ? JSON.parse(localStorage.getItem(\"admin-bar-search-autocomplete\"))\r\n      : [];\r\n    options.push(this.state.valueInput);\r\n    localStorage.setItem(\r\n      \"admin-bar-search-autocomplete\",\r\n      JSON.stringify(options)\r\n    );\r\n    this.setState(state => ({\r\n      // ...state, contentResult: this.renderResultSearch(getDataByPath(this.state.valueInput)), visibleContentResult: true\r\n      ...state,\r\n      contentResult: this.renderResultSearch(),\r\n      visibleContentResult: true\r\n    }));\r\n  }\r\n\r\n  handleClickOptions(valueInput) {\r\n    return () => {\r\n      this.setState(state => ({\r\n        ...state,\r\n        visibleAutocomplete: false,\r\n        valueInput\r\n      }));\r\n      this.handleClickSearch();\r\n    };\r\n  }\r\n  onFocus() {\r\n    this.setState(state => ({\r\n      ...state,\r\n      visibleAutocomplete: true\r\n    }));\r\n  }\r\n\r\n  handleDoubleClickSearch() {\r\n    this.setState(state => ({\r\n      ...state,\r\n      visibleContentResult: false\r\n    }));\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <AdminBarWrapper>\r\n        <div className=\"admin-bar bvi-hide\">\r\n          <div className=\"admin-bar__tools\">\r\n            <div className=\"admin-bar__link\" onClick={this.openPageAdmin}>\r\n              Admin\r\n            </div>\r\n            <div className=\"admin-bar__tool\">\r\n              <span onClick={this.toggleVisiblePopupTemplate}>\r\n                {iconsManager.renderIcon(\"admin-bar1\", {\r\n                  className: \"admin-bar__tool-svg\"\r\n                })}{\" \"}\r\n                Edit-Template\r\n              </span>\r\n\r\n              {this.state.visiblePopupTemplate && (\r\n                <div\r\n                  className=\"admin-bar__popup-template\"\r\n                  ref={this.popupTemplateRef}\r\n                >\r\n                  {this.props.areas.map((item, index) => {\r\n                    if(item.id === \"popups\")\r\n                      return (\r\n                        <div\r\n                          className=\"admin-bar__popup-template-item admin-bar__popup-popups\"\r\n                          key={`template-${index}`}\r\n                        >\r\n                          popup:{\" \"}\r\n                          {iconsManager.renderIcon(\"chevron-admin-bar\", {\r\n                            className: \"admin-bar__popup-template-chevron\"\r\n                          })}\r\n                          <div className=\"admin-bar__popup-popups-items\">\r\n                            {item.templates.map((item, index) => (\r\n                              <div\r\n                                className=\"admin-bar__popup-popups-item\"\r\n                                onClick={this.openTemplate(item.id)}\r\n                                key={`popup-${index}`}\r\n                              >\r\n                                {item.name}\r\n                              </div>\r\n                            ))}\r\n                          </div>\r\n                        </div>\r\n                      );\r\n                    else {\r\n                      if(item.template.name)\r\n                        return (\r\n                          <div\r\n                            className=\"admin-bar__popup-template-item\"\r\n                            key={`template-${index}`}\r\n                            onClick={this.openTemplate(item.template.id)}\r\n                          >\r\n                            {item.template.name}\r\n                          </div>\r\n                        );\r\n                    }\r\n                  })}\r\n                </div>\r\n              )}\r\n            </div>\r\n            <div className=\"admin-bar__tool\" onClick={this.openPageSettings}>\r\n              {iconsManager.renderIcon(\"admin-bar2\", {\r\n                className: \"admin-bar__tool-svg\"\r\n              })}{\" \"}\r\n              Page-Settings\r\n            </div>\r\n            {/*<div className=\"admin-bar__tool\">*/}\r\n              {/*{iconsManager.renderIcon('admin-bar3', {className: \"admin-bar__tool-svg\"})} Clear Cache*/}\r\n            {/*</div>*/}\r\n            <div className=\"admin-bar__search-bar\" ref={this.searchContentResult}>\r\n              {this.state.visibleContentResult && (\r\n                <div className=\"admin-bar__search-result\">\r\n                  <div\r\n                    className=\"admin-bar__search-content\"\r\n                    style={this.state.isHttps ? { paddingBottom: \"22px\" } : {}}\r\n                  >\r\n                    {this.state.contentResult}\r\n                  </div>\r\n                  { this.state.isHttps && (\r\n                    <div\r\n                      className=\"admin-bar__search-button\"\r\n                      onClick={this.handleClickCopy}\r\n                    >\r\n                      copy result {iconsManager.renderIcon(\"copy-icon\")}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              )}\r\n\r\n              {this.state.visibleAutocomplete &&\r\n                this.state.filteredOptions.length !== 0 && (\r\n                  <div className=\"admin-bar__autocomplete\" ref={this.autocomplete}>\r\n                    {this.state.filteredOptions.map((item, index) => (\r\n                      <div\r\n                        key={index}\r\n                        className=\"admin-bar__autocomplete-option\"\r\n                        onClick={this.handleClickOptions(item)}\r\n                      >\r\n                        {item}\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                )}\r\n              <input\r\n                className=\"admin-bar__search\"\r\n                value={this.state.valueInput}\r\n                onChange={this.handleInput}\r\n                onKeyDown={this.handleKeyDown}\r\n                onFocus={this.onFocus}\r\n                ref={this.searchInput}\r\n                placeholder=\"source\"\r\n              />\r\n              <button\r\n                className=\"admin-bar__button\"\r\n                onClick={this.handleClickSearch}\r\n                onDoubleClick={this.handleDoubleClickSearch}\r\n              >\r\n                test\r\n              </button>\r\n              <button\r\n                  className=\"admin-bar__button\"\r\n                  onClick={this.clearCache}\r\n              >\r\n                Clear Cache\r\n              </button>\r\n            </div>\r\n          </div>\r\n          <div className=\"admin-bar__profile\">\r\n            Hello,\r\n            {this.props.data.name ? this.props.data.name : this.props.data.email}\r\n            {iconsManager.renderIcon(\"admin-bar4\", {\r\n              className: \"admin-bar__profile-svg\"\r\n            })}\r\n          </div>\r\n        </div>\r\n      </AdminBarWrapper>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AdminBar;\r\n"],"sourceRoot":""}