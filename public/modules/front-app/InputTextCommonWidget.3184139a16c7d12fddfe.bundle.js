(self.webpackChunk=self.webpackChunk||[]).push([[761],{32465:function(e,t,n){"use strict";function r(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}n.d(t,{Z:function(){return r}})},46035:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(22122),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(96156),_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(92137),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(6610),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(5991),_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(63349),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(10379),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(46070),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(77608),_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(32465),_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(87757),_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__),_front_app_src_js_store_forms_data_storage_actions__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(48379),_altrp_input_AltrpInput__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(4011),_templateObject;function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var n,r=(0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__.Z)(e);if(t){var a=(0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__.Z)(this,n)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var _window$altrpHelpers=window.altrpHelpers,isEditor=_window$altrpHelpers.isEditor,replaceContentWithData=_window$altrpHelpers.replaceContentWithData,renderAsset=_window$altrpHelpers.renderAsset,getDataFromLocalStorage=_window$altrpHelpers.getDataFromLocalStorage;(window.globalDefaults=window.globalDefaults||[]).push('\n.altrp-field-label_text-widget{\n    width: 100%;\n}\n.bp3-icon_text-widget img{\n  width: 16px;\n  height: 16px;\n  object-fit: contain;\n  pointer-events: none;\n}\n.bp3-icon_text-widget svg{\n  width: 16px;\n  height: 16px;\n  pointer-events: none;\n}\n.bp3-icon_right{\n    margin: 7px;\n}\n.altrp-field {\n  border-style: solid;\n  width: 100%;\n}\n.altrp-field-file{\n  display: flex;\n  justify-content: center;\n  flex-wrap: wrap;\n}\n\n.altrp-label-icon svg,\n.altrp-label-icon img {\n  width: 20px;\n}\n.altrp-label-icon svg{\n  height: 20px;\n}\n.altrp-field-file__field{\n  display: none;\n}\n.altrp-field-file__placeholder{\n  display: none;\n}\n.altrp-field-file_empty .altrp-field-file__placeholder{\n  display: block;\n  padding: 10px 20px;\n  border: none;\n  cursor: pointer;\n  background-color: rgb(52,59,76);\n  color: #fff;\n}\n.input-clear-btn {\n  background: transparent;\n  padding: 0;\n  position: absolute;\n  bottom: calc(50% - 7px);\n  right: 15px;\n  display: none;\n}\n.input-clear-btn:hover {\n  font-weight: bold;\n}\n.altrp-field:hover + .input-clear-btn, .input-clear-btn:hover {\n  display: block;\n}\n.altrp-input-wrapper, .altrp-field-select2 {\n  position: relative;\n  flex-grow: 1;\n}\n.altrp-field-label--required::after {\n  content: "*";\n  color: red;\n  font-size: inherit;\n  padding-left: 10px;\n}\n.altrp-field-label {\n  font-size: 16px;\n  font-family: "Open Sans";\n  line-height: 1.5;\n  letter-spacing: 0;\n}\n.altrp-field-select2__single-value, .altrp-field {\n  font-size: 16px;\n  font-family: "Open Sans";\n  line-height: 1.5;\n  letter-spacing: 0;\n}\n.altrp-field-select2__control, .altrp-field {\n  text-align: left;\n  padding-top: 2px;\n  padding-right: 2px;\n  padding-bottom: 2px;\n  padding-left: 2px;\n  border-width: 1px;\n  border-color: #000;\n}\n.altrp-field-select2__control:hover{\n  border-width: 1px;\n  border-color: #000;\n}\n.altrp-field-container {\n  margin: 0;\n}\n.altrp-field::placeholder, .altrp-field-select2__placeholder {\n  font-size: 13px;\n  font-family: "Open Sans";\n  line-height: 1.5;\n  letter-spacing: 0;\n}\n.altrp-image-select {\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n}\n.altrp-image-select img {\n  flex-grow: 1;\n  object-fit: contain;\n}\n.altrp-field {\n  overflow: hidden;\n  cursor: pointer;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n}\n.altrp-field.active {\n  border-color: lightcoral;\n}\n.altrp-field-label {\n  text-align: center;\n  display: block;\n}\n.altrp-pagination__select-size .altrp-field-select2__single-value {\n  font-size: 14px;\n}\n.altrp-pagination__select-size .altrp-field-select2__indicator-separator {\n  display: none;\n}\n.altrp-pagination__select-size .altrp-field-select2__indicator {\n  align-items: center;\n}\n.altrp-pagination__select-size .altrp-field-select2__control {\n  width: 100px;\n  min-height: 32px;\n  padding: 0;\n  border-radius: 0;\n  outline: none;\n  border-color: rgb(142,148,170);\n  -webkit-box-shadow: none;\n  -moz-box-shadow: none;\n  box-shadow: none;\n}\n.altrp-pagination__select-size .altrp-field-select2__control input {\n  border: none;\n}\n.altrp-field-select2 {\n  position: relative;\n  box-sizing: border-box;\n  pointer-events: none;\n}\n.altrp-field-select2__control {\n  webkit-align-items: center;\n  -webkit-box-align: center;\n  -ms-flex-align: center;\n  align-items: center;\n  background-color: hsl(0,0%,100%);\n  border-color: hsl(0,0%,80%);\n  border-style: solid;\n  border-width: 1px;\n  cursor: default;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-flex-wrap: wrap;\n  -ms-flex-wrap: wrap;\n  flex-wrap: wrap;\n  -webkit-box-pack: justify;\n  -webkit-justify-content: space-between;\n  -ms-flex-pack: justify;\n  justify-content: space-between;\n  min-height: 38px;\n  outline: 0 !important;\n  position: relative;\n  -webkit-transition: all 100ms;\n  transition: all 100ms;\n  box-sizing: border-box;\n}\n.altrp-field-select2__value-container {\n  -webkit-align-items: center;\n  -webkit-box-align: center;\n  -ms-flex-align: center;\n  align-items: center;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-flex: 1;\n  -ms-flex: 1;\n  flex: 1;\n  -webkit-flex-wrap: wrap;\n  -ms-flex-wrap: wrap;\n  flex-wrap: wrap;\n  padding: 2px 8px;\n  -webkit-overflow-scrolling: touch;\n  position: relative;\n  overflow: hidden;\n  box-sizing: border-box;\n}\n.altrp-field-select2__single-value {\n  color: hsl(0,0%,20%);\n  margin-left: 2px;\n  margin-right: 2px;\n  max-width: calc(100% - 8px);\n  overflow: hidden;\n  position: absolute;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  top: 50%;\n  -webkit-transform: translateY(-50%);\n  -ms-transform: translateY(-50%);\n  transform: translateY(-50%);\n  box-sizing: border-box;\n}\n.altrp-field-select2__indicators {\n  -webkit-align-items: center;\n  -webkit-box-align: center;\n  -ms-flex-align: center;\n  align-items: center;\n  -webkit-align-self: stretch;\n  -ms-flex-item-align: stretch;\n  align-self: stretch;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-flex-shrink: 0;\n  -ms-flex-negative: 0;\n  flex-shrink: 0;\n  box-sizing: border-box;\n}\n.altrp-field-select2__indicator-separator {\n  -webkit-align-self: stretch;\n  -ms-flex-item-align: stretch;\n  align-self: stretch;\n  background-color: hsl(0,0%,80%);\n  margin-bottom: 8px;\n  margin-top: 8px;\n  width: 1px;\n  box-sizing: border-box;\n}\n.altrp-field-select2__indicator {\n  color: hsl(0,0%,80%);\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  padding: 8px;\n  -webkit-transition: color 150ms;\n  transition: color 150ms;\n  box-sizing: border-box;\n  justify-content: center;\n  align-items: center;\n}\n.tba-placeholder {\n  display: flex;\n  justify-content: center;\n  font-size: 28px;\n  font-weight: bold;\n}\n.altrp-field-subgroup {\n  display: flex;\n  flex-wrap: wrap;\n}\n.altrp-field-option {\n  display: flex;\n  padding: 10px;\n}\n.altrp-field-option__label {\n  cursor: pointer;\n}\ntextarea.altrp-field {\n  display: block;\n}\n.altrp-table__filter-select .altrp-field-select2__placeholder {\n  white-space: nowrap;\n}\n.altrp-table__filter-select .altrp-field-select2__single-value {\n  font-size: 14px;\n}\n.altrp-table__filter-select .altrp-field-select2__indicator-separator {\n  display: none;\n}\n.altrp-table__filter-select .altrp-field-select2__indicator {\n  align-items: center;\n}\n.altrp-table__filter-select .altrp-field-select2__control {\n  width: 100%;\n  min-height: 19px;\n  padding: 0;\n  border-radius: 0;\n  outline: none;\n  border-color: rgb(142, 148, 170);\n  -webkit-box-shadow: none;\n  -moz-box-shadow: none;\n  box-shadow: none;\n}\n.altrp-table__filter-select .altrp-field-select2__control input {\n  border: none;\n}\n.altrp-table__filter-select .altrp-field-select2__value-container {\n  padding-top: 0;\n  padding-bottom: 0;\n  line-height: 13px;\n}\n.altrp-field-required {\n  color: red;\n  font-size: 18px;\n  padding-left: 10px;\n}\n.altrp-field-container-label {\n  display: flex;\n  flex-direction: row;\n}\n\n.altrp-field-label-container-left {\n  display: flex;\n  align-items: center;\n}\n\n.altrp-field-label-container {\n  display: inline-flex;\n  align-items: center;\n}\n.altrp-field-select2__indicator.altrp-field-select2__dropdown-indicator {\n  padding: 0 8px;\n  max-height: 14px;\n  overflow: hidden;\n}\n.altrp-field-select2 .altrp-field-select2__value-container {\n  padding: 0px 8px;\n}\n.altrp-field-select2 .css-b8ldur-Input {\n  padding-bottom: 0px;\n  padding-top: 0px;\n  margin: 0 2px;\n}\n.altrp-field-select2 .altrp-field-select2__control {\n  min-height: 14px;\n}\n');var AltrpFieldContainer=styled.div(_templateObject||(_templateObject=(0,_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_5__.Z)(["\n  ","\n"])),(function(e){switch(e.settings.content_label_position_type){case"left":return"display: flex";case"right":return"display:flex;flex-direction:row-reverse;justify-content:flex-end;"}return""})),InputTextCommonWidget=function(_Component){(0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__.Z)(InputTextCommonWidget,_Component);var _super=_createSuper(InputTextCommonWidget),_componentDidUpdate2,_componentDidMount2;function InputTextCommonWidget(e){var t;return(0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_7__.Z)(this,InputTextCommonWidget),(t=_super.call(this,e)).timeInput=null,t.handleEnter=function(e){if(13===e.keyCode){e.preventDefault();var n=Array.from(document.querySelectorAll("input,select")),r=n.indexOf(e.target);if(void 0===r)return;n[r+1]&&n[r+1].focus();var a=t.props.element.getSettings(),o=a.create_allowed,i=a.create_label,l=a.create_url;o&&i&&l&&t.createItem(e)}},t.getValue=function(){var e=t.props.element.getFormId(),n=t.props.element.getFieldId();return isEditor()?t.state.value:_.get(appStore.getState(),"formsStore.".concat(e,".").concat(n),"")},t.debounceDispatch=_.debounce((function(e){return t.dispatchFieldValueToStore(e,!0)}),150),t.onFocus=function(){var e=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_8__.Z)(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().mark((function e(n){var r,a;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=t.props.element.getSettings("focus_actions"))||isEditor()){e.next=7;break}return e.next=4,Promise.all([__webpack_require__.e(4079),__webpack_require__.e(6593),__webpack_require__.e(2167),__webpack_require__.e(6737)]).then(__webpack_require__.bind(__webpack_require__,2167));case 4:return a=e.sent.default,e.next=7,a.callAllWidgetActions(t.props.element.getIdForAction(),"focus",r,t.props.element);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.onBlur=function(){var e=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_8__.Z)(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().mark((function e(n){var r,a,o=arguments;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=o.length>1&&void 0!==o[1]?o[1]:null,t.dispatchFieldValueToStore(n.target.value,!0),_.get(r,"getData")&&t.dispatchFieldValueToStore(r.getData(),!0),!t.props.element.getSettings("actions",[])||isEditor()){e.next=9;break}return e.next=6,Promise.all([__webpack_require__.e(4079),__webpack_require__.e(6593),__webpack_require__.e(2167),__webpack_require__.e(6737)]).then(__webpack_require__.bind(__webpack_require__,2167));case 6:return a=e.sent.default,e.next=9,a.callAllWidgetActions(t.props.element.getIdForAction(),"blur",t.props.element.getSettings("actions",[]),t.props.element);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.dispatchFieldValueToStore=function(){var e=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_8__.Z)(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().mark((function e(n){var r,a,o,i,l,s=arguments;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>1&&void 0!==s[1]&&s[1],a=t.props.element.getFormId(),-1!==(o=t.props.element.getFieldId()).indexOf("{{")&&(o=replaceContentWithData(o)),!(_.isObject(t.props.appStore)&&o&&a)){e.next=14;break}if(t.props.appStore.dispatch((0,_front_app_src_js_store_forms_data_storage_actions__WEBPACK_IMPORTED_MODULE_9__.Az)(o,n,a,r)),!r){e.next=14;break}if(!(i=t.props.element.getSettings("change_actions"))||isEditor()){e.next=14;break}return e.next=11,Promise.all([__webpack_require__.e(4079),__webpack_require__.e(6593),__webpack_require__.e(2167),__webpack_require__.e(6737)]).then(__webpack_require__.bind(__webpack_require__,2167));case 11:return l=e.sent.default,e.next=14,l.callAllWidgetActions(t.props.element.getIdForAction(),"change",i,t.props.element);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.handleLockClick=function(){t.setState((function(e){return _objectSpread(_objectSpread({},e),{},{showPassword:!e.showPassword})}))},e.element.component=(0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_10__.Z)(t),window.elementDecorator&&window.elementDecorator((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_10__.Z)(t)),t.onChange=t.onChange.bind((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_10__.Z)(t)),t.debounceDispatch=t.debounceDispatch.bind((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_10__.Z)(t)),t.defaultValue=t.getContent("content_default_value"),t.state={settings:_objectSpread({},e.element.getSettings()),showPassword:!1},t.popoverProps={usePortal:!0,portalClassName:"altrp-portal altrp-portal".concat(t.props.element.getId()),portalContainer:window.EditorFrame?window.EditorFrame.contentWindow.document.body:document.body},t.altrpSelectRef=React.createRef(),t.getContent("content_default_value")&&t.dispatchFieldValueToStore(t.getContent("content_default_value")),t}return(0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_11__.Z)(InputTextCommonWidget,[{key:"clearValue",value:function(){this.onChange(""),this.dispatchFieldValueToStore("",!0)}},{key:"_componentDidMount",value:(_componentDidMount2=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_8__.Z)(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().mark((function e(t,n){var r,a=this;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.getValue(),!t||t.currentModel.getProperty("altrpModelUpdated")||!this.props.currentModel.getProperty("altrpModelUpdated")){e.next=5;break}return r=this.getContent("content_default_value"),this.setState((function(e){return _objectSpread(_objectSpread({},e),{},{contentLoaded:!0})}),(function(){a.dispatchFieldValueToStore(r)})),e.abrupt("return");case 5:if(!this.props.currentModel.getProperty("altrpModelUpdated")||!this.props.currentDataStorage.getProperty("currentDataStorageLoaded")||this.state.contentLoaded){e.next=9;break}return r=this.getContent("content_default_value"),this.setState((function(e){return _objectSpread(_objectSpread({},e),{},{contentLoaded:!0})}),(function(){a.dispatchFieldValueToStore(r)})),e.abrupt("return");case 9:case"end":return e.stop()}}),e,this)}))),function(e,t){return _componentDidMount2.apply(this,arguments)})},{key:"_componentDidUpdate",value:(_componentDidUpdate2=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_8__.Z)(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().mark((function e(t,n){var r,a=this;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&!t.currentDataStorage.getProperty("currentDataStorageLoaded")&&this.props.currentDataStorage.getProperty("currentDataStorageLoaded")&&(r=this.getContent("content_default_value",this.props.element.getSettings("select2_multiple")),this.setState((function(e){return _objectSpread(_objectSpread({},e),{},{contentLoaded:!0})}),(function(){a.dispatchFieldValueToStore(r)}))),!_.isEqual(this.props.currentModel,t.currentModel)&&this.state.value&&this.state.value.dynamic&&this.dispatchFieldValueToStore(this.getContent("content_default_value")),this.updateValue(t);case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return _componentDidUpdate2.apply(this,arguments)})},{key:"updateValue",value:function updateValue(prevProps){var _this4=this;if(!isEditor()){var content_calculation=this.props.element.getSettings("content_calculation"),altrpforms=this.props.formsStore,fieldName=this.props.element.getFieldId(),formId=this.props.element.getFormId();if(content_calculation){var prevContext={},altrpdata=this.props.currentDataStorage.getData(),altrpmodel=this.props.currentModel.getData(),altrpuser=this.props.currentUser.getData(),altrppagestate=this.props.altrpPageState.getData(),altrpresponses=this.props.altrpresponses.getData(),altrpmeta=this.props.altrpMeta.getData(),context=this.props.element.getCurrentModel().getData();if(-1!==content_calculation.indexOf("altrpdata")&&(context.altrpdata=altrpdata,altrpdata.currentDataStorageLoaded?prevContext.altrpdata=prevProps.currentDataStorage.getData():prevContext.altrpdata=altrpdata),-1!==content_calculation.indexOf("altrpforms")&&(context.altrpforms=altrpforms,"".concat(formId,".").concat(fieldName)===altrpforms.changedField?prevContext.altrpforms=altrpforms:prevContext.altrpforms=prevProps.formsStore),-1!==content_calculation.indexOf("altrpmodel")&&(context.altrpmodel=altrpmodel,prevContext.altrpmodel=prevProps.currentModel.getData()),-1!==content_calculation.indexOf("altrpuser")&&(context.altrpuser=altrpuser,prevContext.altrpuser=prevProps.currentUser.getData()),-1!==content_calculation.indexOf("altrpuser")&&(context.altrpuser=altrpuser,prevContext.altrpuser=prevProps.currentUser.getData()),-1!==content_calculation.indexOf("altrppagestate")&&(context.altrppagestate=altrppagestate,prevContext.altrppagestate=prevProps.altrpPageState.getData()),-1!==content_calculation.indexOf("altrpmeta")&&(context.altrpmeta=altrpmeta,prevContext.altrpmeta=prevProps.altrpMeta.getData()),-1!==content_calculation.indexOf("altrpresponses")&&(context.altrpresponses=altrpresponses,prevContext.altrpresponses=prevProps.altrpresponses.getData()),-1!==content_calculation.indexOf("altrpstorage")&&(context.altrpstorage=getDataFromLocalStorage("altrpstorage",{})),!(_.isEqual(prevProps.currentDataStorage,this.props.currentDataStorage)&&_.isEqual(prevProps.currentUser,this.props.currentUser)&&_.isEqual(prevProps.formsStore,this.props.formsStore)&&_.isEqual(prevProps.altrpPageState,this.props.altrpPageState)&&_.isEqual(prevProps.altrpMeta,this.props.altrpMeta)&&_.isEqual(prevProps.altrpresponses,this.props.altrpresponses)&&_.isEqual(prevProps.currentModel,this.props.currentModel))&&(_.isEqual(prevProps.formsStore,this.props.formsStore)||"".concat(formId,".").concat(fieldName)!==altrpforms.changedField)){var value="";try{if(content_calculation=content_calculation.replace(/}}/g,"')").replace(/{{/g,"_.get(context, '"),value=eval(content_calculation),value===this.state.value)return;this.setState((function(e){return _objectSpread(_objectSpread({},e),{},{value:value})}),(function(){_this4.dispatchFieldValueToStore(value)}))}catch(e){console.error("Evaluate error in Input "+e.message,this.props.element.getId())}}}else{var path="".concat(formId,".").concat(fieldName);this.props.formsStore!==prevProps.formsStore&&_.get(altrpforms,path)!==this.state.value&&this.setState((function(e){return _objectSpread(_objectSpread({},e),{},{value:_.get(altrpforms,path)})}))}}}},{key:"onChange",value:function(e){var t=this,n="";e&&e.target&&(n=e.target.value),e&&e.value&&(n=e.value);var r=this.props.element.getSettings("change_actions"),a=this.props.element.getSettings("change_change_end"),o=this.props.element.getSettings("change_change_end_delay");!r||a||isEditor()||this.debounceDispatch(n),r&&a&&!isEditor()&&(this.timeInput&&clearTimeout(this.timeInput),this.timeInput=setTimeout((function(){t.debounceDispatch(n)}),o)),isEditor()?this.setState((function(e){return _objectSpread(_objectSpread({},e),{},{value:n})})):this.dispatchFieldValueToStore(n,!0)}},{key:"getName",value:function(){return"".concat(this.props.element.getFormId(),"[").concat(this.props.element.getFieldId(),"]")}},{key:"renderLeftIcon",value:function(){var e=this.props.element,t=e.getResponsiveSetting("left_icon"),n=e.getResponsiveSetting("password_show_left_icon"),r=e.settings.content_type,a={};return"password"===r&&this.state.showPassword&&n&&(t=n,a.onClick=this.handleLockClick),"password"===r&&n&&(a.onClick=this.handleLockClick,a.style={cursor:"pointer"}),t?React.createElement("span",(0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_12__.Z)({className:"bp3-icon bp3-icon_text-widget bp3-icon_left"},a,{tabIndex:"0"}),renderAsset(t)):null}},{key:"renderRightIcon",value:function(){var e=this.props.element,t=e.getResponsiveSetting("right_icon"),n=e.getResponsiveSetting("password_show_right_icon"),r=e.settings.content_type,a={};return"password"===r&&this.state.showPassword&&n&&(t=n),"password"===r&&n&&(a.onClick=this.handleLockClick,a.style={cursor:"pointer"}),t?React.createElement("span",(0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_12__.Z)({className:"bp3-icon bp3-icon_text-widget bp3-icon_right"},a,{tabIndex:"0"}),renderAsset(t)):null}},{key:"render",value:function(){var e,t=this.props.element.getSettings(),n=t.content_readonly,r=t.label_icon,a=this.getValue(),o="",i={},l=this.props.element.getResponsiveSetting("content_label_position_type"),_=this.props.element.getResponsiveSetting("label_icon_position"),s=this.props.element.getResponsiveSetting("label_style_spacing");switch(l){case"top":i={marginBottom:s?(null==s?void 0:s.size)+(null==s?void 0:s.unit):"2px"},o="";break;case"bottom":i={marginTop:s?(null==s?void 0:s.size)+(null==s?void 0:s.unit):"2px"},o="";break;case"left":i={marginRight:s?(null==s?void 0:s.size)+(null==s?void 0:s.unit):"2px"},o="altrp-field-label-container-left";break;case"absolute":i={position:"absolute",zIndex:2},o=""}e=this.state.settings.content_label||r?React.createElement("div",{className:"altrp-field-label-container "+o,style:i},React.createElement("label",{htmlFor:this.getName(),style:{display:"flex",flexDirection:_},className:"altrp-field-label altrp-field-label_text-widget ".concat(this.state.settings.content_required?"altrp-field-label--required":"")},this.state.settings.content_label,r&&r.type&&React.createElement("span",{className:"altrp-label-icon"},renderAsset(r)))):null;var p;p=this.state.settings.content_autocomplete?"on":"off";var c=React.createElement("div",{className:"altrp-input-wrapper"},React.createElement(_altrp_input_AltrpInput__WEBPACK_IMPORTED_MODULE_4__.Z,{type:"password"===this.state.settings.content_type?this.state.showPassword?"text":"password":this.state.settings.content_type,name:this.getName(),id:this.getName(),value:a||"",popoverProps:this.popoverProps,element:this.props.element,readOnly:n,autoComplete:p,placeholder:this.state.settings.content_placeholder,settings:this.props.element.getSettings(),onKeyDown:this.handleEnter,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,leftIcon:this.renderLeftIcon(),rightElement:this.renderRightIcon()}));return React.createElement(AltrpFieldContainer,{settings:t,className:"altrp-field-container "},"top"===l?e:"","left"===l?e:"","right"===l?e:"","absolute"===l?e:"",c,"bottom"===l?e:"")}}]),InputTextCommonWidget}(Component);__webpack_exports__.default=InputTextCommonWidget},73557:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(85061),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(96156),_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(92137),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(6610),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(5991),_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(63349),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(10379),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(46070),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(77608),_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(32465),_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(87757),_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__),_front_app_src_js_helpers__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(76593),_classes_Resource__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(38773),_front_app_src_js_store_forms_data_storage_actions__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(48379),_classes_AltrpModel__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(71743),_altrp_input_AltrpInput__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(4011),_templateObject;function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var n,r=(0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__.Z)(e);if(t){var a=(0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__.Z)(this,n)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var moment=window.altrpHelpers.moment;(window.globalDefaults=window.globalDefaults||[]).push('\n.altrp-field-label_text-widget{\n    width: 100%;\n}\n.bp3-icon_text-widget img{\n  width: 16px;\n  height: 16px;\n  object-fit: contain;\n  pointer-events: none;\n}\n.bp3-icon_text-widget svg{\n  width: 16px;\n  height: 16px;\n  pointer-events: none;\n}\n.bp3-icon_right{\n    margin: 7px;\n}\n.altrp-field {\n  border-style: solid;\n  width: 100%;\n}\n.altrp-field-file{\n  display: flex;\n  justify-content: center;\n  flex-wrap: wrap;\n}\n\n.altrp-label-icon svg,\n.altrp-label-icon img {\n  width: 20px;\n}\n.altrp-label-icon svg{\n  height: 20px;\n}\n.altrp-field-file__field{\n  display: none;\n}\n.altrp-field-file__placeholder{\n  display: none;\n}\n.altrp-field-file_empty .altrp-field-file__placeholder{\n  display: block;\n  padding: 10px 20px;\n  border: none;\n  cursor: pointer;\n  background-color: rgb(52,59,76);\n  color: #fff;\n}\n.input-clear-btn {\n  background: transparent;\n  padding: 0;\n  position: absolute;\n  bottom: calc(50% - 7px);\n  right: 15px;\n  display: none;\n}\n.input-clear-btn:hover {\n  font-weight: bold;\n}\n.altrp-field:hover + .input-clear-btn, .input-clear-btn:hover {\n  display: block;\n}\n.altrp-input-wrapper, .altrp-field-select2 {\n  position: relative;\n  flex-grow: 1;\n}\n.altrp-field-label--required::after {\n  content: "*";\n  color: red;\n  font-size: inherit;\n  padding-left: 10px;\n}\n.altrp-field-label {\n  font-size: 16px;\n  font-family: "Open Sans";\n  line-height: 1.5;\n  letter-spacing: 0;\n}\n.altrp-field-select2__single-value, .altrp-field {\n  font-size: 16px;\n  font-family: "Open Sans";\n  line-height: 1.5;\n  letter-spacing: 0;\n}\n.altrp-field-select2__control, .altrp-field {\n  text-align: left;\n  padding-top: 2px;\n  padding-right: 2px;\n  padding-bottom: 2px;\n  padding-left: 2px;\n  border-width: 1px;\n  border-color: #000;\n}\n.altrp-field-select2__control:hover{\n  border-width: 1px;\n  border-color: #000;\n}\n.altrp-field-container {\n  margin: 0;\n}\n.altrp-field::placeholder, .altrp-field-select2__placeholder {\n  font-size: 13px;\n  font-family: "Open Sans";\n  line-height: 1.5;\n  letter-spacing: 0;\n}\n.altrp-image-select {\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n}\n.altrp-image-select img {\n  flex-grow: 1;\n  object-fit: contain;\n}\n.altrp-field {\n  overflow: hidden;\n  cursor: pointer;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n}\n.altrp-field.active {\n  border-color: lightcoral;\n}\n.altrp-field-label {\n  text-align: center;\n  display: block;\n}\n.altrp-pagination__select-size .altrp-field-select2__single-value {\n  font-size: 14px;\n}\n.altrp-pagination__select-size .altrp-field-select2__indicator-separator {\n  display: none;\n}\n.altrp-pagination__select-size .altrp-field-select2__indicator {\n  align-items: center;\n}\n.altrp-pagination__select-size .altrp-field-select2__control {\n  width: 100px;\n  min-height: 32px;\n  padding: 0;\n  border-radius: 0;\n  outline: none;\n  border-color: rgb(142,148,170);\n  -webkit-box-shadow: none;\n  -moz-box-shadow: none;\n  box-shadow: none;\n}\n.altrp-pagination__select-size .altrp-field-select2__control input {\n  border: none;\n}\n.altrp-field-select2 {\n  position: relative;\n  box-sizing: border-box;\n  pointer-events: none;\n}\n.altrp-field-select2__control {\n  webkit-align-items: center;\n  -webkit-box-align: center;\n  -ms-flex-align: center;\n  align-items: center;\n  background-color: hsl(0,0%,100%);\n  border-color: hsl(0,0%,80%);\n  border-style: solid;\n  border-width: 1px;\n  cursor: default;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-flex-wrap: wrap;\n  -ms-flex-wrap: wrap;\n  flex-wrap: wrap;\n  -webkit-box-pack: justify;\n  -webkit-justify-content: space-between;\n  -ms-flex-pack: justify;\n  justify-content: space-between;\n  min-height: 38px;\n  outline: 0 !important;\n  position: relative;\n  -webkit-transition: all 100ms;\n  transition: all 100ms;\n  box-sizing: border-box;\n}\n.altrp-field-select2__value-container {\n  -webkit-align-items: center;\n  -webkit-box-align: center;\n  -ms-flex-align: center;\n  align-items: center;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-flex: 1;\n  -ms-flex: 1;\n  flex: 1;\n  -webkit-flex-wrap: wrap;\n  -ms-flex-wrap: wrap;\n  flex-wrap: wrap;\n  padding: 2px 8px;\n  -webkit-overflow-scrolling: touch;\n  position: relative;\n  overflow: hidden;\n  box-sizing: border-box;\n}\n.altrp-field-select2__single-value {\n  color: hsl(0,0%,20%);\n  margin-left: 2px;\n  margin-right: 2px;\n  max-width: calc(100% - 8px);\n  overflow: hidden;\n  position: absolute;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  top: 50%;\n  -webkit-transform: translateY(-50%);\n  -ms-transform: translateY(-50%);\n  transform: translateY(-50%);\n  box-sizing: border-box;\n}\n.altrp-field-select2__indicators {\n  -webkit-align-items: center;\n  -webkit-box-align: center;\n  -ms-flex-align: center;\n  align-items: center;\n  -webkit-align-self: stretch;\n  -ms-flex-item-align: stretch;\n  align-self: stretch;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-flex-shrink: 0;\n  -ms-flex-negative: 0;\n  flex-shrink: 0;\n  box-sizing: border-box;\n}\n.altrp-field-select2__indicator-separator {\n  -webkit-align-self: stretch;\n  -ms-flex-item-align: stretch;\n  align-self: stretch;\n  background-color: hsl(0,0%,80%);\n  margin-bottom: 8px;\n  margin-top: 8px;\n  width: 1px;\n  box-sizing: border-box;\n}\n.altrp-field-select2__indicator {\n  color: hsl(0,0%,80%);\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  padding: 8px;\n  -webkit-transition: color 150ms;\n  transition: color 150ms;\n  box-sizing: border-box;\n  justify-content: center;\n  align-items: center;\n}\n.tba-placeholder {\n  display: flex;\n  justify-content: center;\n  font-size: 28px;\n  font-weight: bold;\n}\n.altrp-field-subgroup {\n  display: flex;\n  flex-wrap: wrap;\n}\n.altrp-field-option {\n  display: flex;\n  padding: 10px;\n}\n.altrp-field-option__label {\n  cursor: pointer;\n}\ntextarea.altrp-field {\n  display: block;\n}\n.altrp-table__filter-select .altrp-field-select2__placeholder {\n  white-space: nowrap;\n}\n.altrp-table__filter-select .altrp-field-select2__single-value {\n  font-size: 14px;\n}\n.altrp-table__filter-select .altrp-field-select2__indicator-separator {\n  display: none;\n}\n.altrp-table__filter-select .altrp-field-select2__indicator {\n  align-items: center;\n}\n.altrp-table__filter-select .altrp-field-select2__control {\n  width: 100%;\n  min-height: 19px;\n  padding: 0;\n  border-radius: 0;\n  outline: none;\n  border-color: rgb(142, 148, 170);\n  -webkit-box-shadow: none;\n  -moz-box-shadow: none;\n  box-shadow: none;\n}\n.altrp-table__filter-select .altrp-field-select2__control input {\n  border: none;\n}\n.altrp-table__filter-select .altrp-field-select2__value-container {\n  padding-top: 0;\n  padding-bottom: 0;\n  line-height: 13px;\n}\n.altrp-field-required {\n  color: red;\n  font-size: 18px;\n  padding-left: 10px;\n}\n.altrp-field-container-label {\n  display: flex;\n  flex-direction: row;\n}\n\n.altrp-field-label-container-left {\n  display: flex;\n  align-items: center;\n}\n\n.altrp-field-label-container {\n  display: inline-flex;\n  align-items: center;\n}\n.altrp-field-select2__indicator.altrp-field-select2__dropdown-indicator {\n  padding: 0 8px;\n  max-height: 14px;\n  overflow: hidden;\n}\n.altrp-field-select2 .altrp-field-select2__value-container {\n  padding: 0px 8px;\n}\n.altrp-field-select2 .css-b8ldur-Input {\n  padding-bottom: 0px;\n  padding-top: 0px;\n  margin: 0 2px;\n}\n.altrp-field-select2 .altrp-field-select2__control {\n  min-height: 14px;\n}\n');var AltrpFieldContainer=styled.div(_templateObject||(_templateObject=(0,_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_8__.Z)(["\n  ","\n"])),(function(e){switch(e.settings.content_label_position_type){case"left":return"display: flex";case"right":return"display:flex;flex-direction:row-reverse;justify-content:flex-end;"}return""})),InputTextWidget=function(_Component){(0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_9__.Z)(InputTextWidget,_Component);var _super=_createSuper(InputTextWidget),_updateOptions,_componentDidUpdate2,_componentDidMount2;function InputTextWidget(e){var t;return(0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_10__.Z)(this,InputTextWidget),(t=_super.call(this,e)).timeInput=null,t.handleEnter=function(e){if(13===e.keyCode){e.preventDefault();var n=Array.from(document.querySelectorAll("input,select")),r=n.indexOf(e.target);if(void 0===r)return;n[r+1]&&n[r+1].focus();var a=t.props.element.getSettings(),o=a.create_allowed,i=a.create_label,l=a.create_url;o&&i&&l&&t.createItem(e)}},t.debounceDispatch=_.debounce((function(e){return t.dispatchFieldValueToStore(e,!0)}),150),t.onFocus=function(){var e=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_11__.Z)(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().mark((function e(n){var r,a;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=t.props.element.getSettings("focus_actions"))||(0,_front_app_src_js_helpers__WEBPACK_IMPORTED_MODULE_4__.isEditor)()){e.next=7;break}return e.next=4,Promise.all([__webpack_require__.e(4079),__webpack_require__.e(6593),__webpack_require__.e(2167),__webpack_require__.e(6737)]).then(__webpack_require__.bind(__webpack_require__,2167));case 4:return a=e.sent.default,e.next=7,a.callAllWidgetActions(t.props.element.getIdForAction(),"focus",r,t.props.element);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.onBlur=function(){var e=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_11__.Z)(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().mark((function e(n){var r,a,o=arguments;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=o.length>1&&void 0!==o[1]?o[1]:null,t.dispatchFieldValueToStore(n.target.value,!0),_.get(r,"getData")&&t.dispatchFieldValueToStore(r.getData(),!0),!t.props.element.getSettings("actions",[])||(0,_front_app_src_js_helpers__WEBPACK_IMPORTED_MODULE_4__.isEditor)()){e.next=9;break}return e.next=6,Promise.all([__webpack_require__.e(4079),__webpack_require__.e(6593),__webpack_require__.e(2167),__webpack_require__.e(6737)]).then(__webpack_require__.bind(__webpack_require__,2167));case 6:return a=e.sent.default,e.next=9,a.callAllWidgetActions(t.props.element.getIdForAction(),"blur",t.props.element.getSettings("actions",[]),t.props.element);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.dispatchFieldValueToStore=function(){var e=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_11__.Z)(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().mark((function e(n){var r,a,o,i,l,s=arguments;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>1&&void 0!==s[1]&&s[1],a=t.props.element.getFormId(),-1!==(o=t.props.element.getFieldId()).indexOf("{{")&&(o=(0,_front_app_src_js_helpers__WEBPACK_IMPORTED_MODULE_4__.replaceContentWithData)(o)),!(_.isObject(t.props.appStore)&&o&&a)){e.next=14;break}if(t.props.appStore.dispatch((0,_front_app_src_js_store_forms_data_storage_actions__WEBPACK_IMPORTED_MODULE_12__.Az)(o,n,a,r)),!r){e.next=14;break}if(!(i=t.props.element.getSettings("change_actions"))||(0,_front_app_src_js_helpers__WEBPACK_IMPORTED_MODULE_4__.isEditor)()){e.next=14;break}return e.next=11,Promise.all([__webpack_require__.e(4079),__webpack_require__.e(6593),__webpack_require__.e(2167),__webpack_require__.e(6737)]).then(__webpack_require__.bind(__webpack_require__,2167));case 11:return l=e.sent.default,e.next=14,l.callAllWidgetActions(t.props.element.getIdForAction(),"change",i,t.props.element);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.createItem=function(){var e=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_11__.Z)(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().mark((function e(n){var r,a,o,i,l,s,p,c,u,d,f,b,h;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.keyCode,a=n.target.value,13===r&&a){e.next=4;break}return e.abrupt("return");case 4:if(o=t.props.element.getSettings(),i=o.create_url,l=o.create_label,s=o.create_data,p=o.select2_multiple,l||i){e.next=7;break}return e.abrupt("return");case 7:return c=t.props.element.getCurrentModel(),(u=(0,_front_app_src_js_helpers__WEBPACK_IMPORTED_MODULE_4__.parseParamsFromString)(s,c,!0))[l]=a,d=(0,_front_app_src_js_helpers__WEBPACK_IMPORTED_MODULE_4__.parseURLTemplate)(i,c.getData()),t.setState((function(e){return _objectSpread(_objectSpread({},e),{},{isDisabled:!0})})),e.prev=12,f=new _classes_Resource__WEBPACK_IMPORTED_MODULE_5__.Z({route:d}),e.next=16,f.post(u);case 16:(b=e.sent).success&&_.get(b,"data.id")&&(h={label:a,value:_.get(b,"data.id")},t.setState((function(e){return _objectSpread(_objectSpread({},e),{},{isDisabled:!1})}),(function(){var e=(0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_13__.Z)(t.state.options);e.unshift(h);var n=t.state.value;p?(n=n?(0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_13__.Z)(n):[]).push(_.get(b,"data.id")):n=_.get(b,"data.id"),t.setState((function(t){return _objectSpread(_objectSpread({},t),{},{options:e,value:n})}),(function(){var e=_.get((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_14__.Z)(t),"altrpSelectRef.current.selectRef.current");e&&e.setState({menuIsOpen:!1,inputValue:""})}))}))),t.setState((function(e){return _objectSpread(_objectSpread({},e),{},{isDisabled:!1})})),e.next=25;break;case 21:e.prev=21,e.t0=e.catch(12),console.error(e.t0),t.setState((function(e){return _objectSpread(_objectSpread({},e),{},{isDisabled:!1})}));case 25:case"end":return e.stop()}}),e,null,[[12,21]])})));return function(t){return e.apply(this,arguments)}}(),e.element.component=(0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_14__.Z)(t),window.elementDecorator&&window.elementDecorator((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_14__.Z)(t)),t.onChange=t.onChange.bind((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_14__.Z)(t)),t.debounceDispatch=t.debounceDispatch.bind((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_14__.Z)(t)),t.defaultValue=t.getContent("content_default_value")||"",t.state={settings:_objectSpread({},e.element.getSettings()),value:t.defaultValue,options:(0,_front_app_src_js_helpers__WEBPACK_IMPORTED_MODULE_4__.parseOptionsFromSettings)(e.element.getSettings("content_options")),paramsForUpdate:null},t.altrpSelectRef=React.createRef(),t.getContent("content_default_value")&&t.dispatchFieldValueToStore(t.getContent("content_default_value")),t}return(0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_15__.Z)(InputTextWidget,[{key:"clearValue",value:function(){this.onChange(""),this.dispatchFieldValueToStore("",!0)}},{key:"_componentDidMount",value:(_componentDidMount2=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_11__.Z)(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().mark((function e(t,n){var r,a,o=this;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.element.getSettings("content_options")&&(r=(0,_front_app_src_js_helpers__WEBPACK_IMPORTED_MODULE_4__.parseOptionsFromSettings)(this.props.element.getSettings("content_options")),this.setState((function(e){return _objectSpread(_objectSpread({},e),{},{options:r})}))),a=this.state.value,_.get(a,"dynamic")&&this.props.currentModel.getProperty("altrpModelUpdated")&&(a=this.getContent("content_default_value")),!t||t.currentModel.getProperty("altrpModelUpdated")||!this.props.currentModel.getProperty("altrpModelUpdated")){e.next=7;break}return a=this.getContent("content_default_value"),this.setState((function(e){return _objectSpread(_objectSpread({},e),{},{value:a,contentLoaded:!0})}),(function(){o.dispatchFieldValueToStore(a)})),e.abrupt("return");case 7:if(!this.props.currentModel.getProperty("altrpModelUpdated")||!this.props.currentDataStorage.getProperty("currentDataStorageLoaded")||this.state.contentLoaded){e.next=11;break}return a=this.getContent("content_default_value"),this.setState((function(e){return _objectSpread(_objectSpread({},e),{},{value:a,contentLoaded:!0})}),(function(){o.dispatchFieldValueToStore(a)})),e.abrupt("return");case 11:this.state.value!==a&&this.setState((function(e){return _objectSpread(_objectSpread({},e),{},{value:a})}),(function(){o.dispatchFieldValueToStore(a)}));case 12:case"end":return e.stop()}}),e,this)}))),function(e,t){return _componentDidMount2.apply(this,arguments)})},{key:"getRoute",value:function(){var e=this.props.element.getSettings("model_for_options");return-1===e.indexOf("/")?"/ajax/models/".concat(e,"_options"):(-1!==e.indexOf("{{")&&(e=(0,_front_app_src_js_helpers__WEBPACK_IMPORTED_MODULE_4__.replaceContentWithData)(e)),e)}},{key:"_componentDidUpdate",value:(_componentDidUpdate2=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_11__.Z)(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().mark((function e(t,n){var r,a,o,i,l,s=this;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=this.state.settings,a=r.content_options,o=r.model_for_options,t&&!t.currentDataStorage.getProperty("currentDataStorageLoaded")&&this.props.currentDataStorage.getProperty("currentDataStorageLoaded")&&(i=this.getContent("content_default_value",this.props.element.getSettings("select2_multiple")),this.setState((function(e){return _objectSpread(_objectSpread({},e),{},{value:i,contentLoaded:!0})}),(function(){s.dispatchFieldValueToStore(i)}))),!_.isEqual(this.props.currentModel,t.currentModel)&&this.state.value&&this.state.value.dynamic&&this.dispatchFieldValueToStore(this.getContent("content_default_value")),this.props.formsStore===t.formsStore&&this.props.currentModel===t.currentModel&&this.props.currentDataStorage===t.currentDataStorage||this.updateOptions(),a&&!o&&(l=(0,_front_app_src_js_helpers__WEBPACK_IMPORTED_MODULE_4__.parseOptionsFromSettings)(a),_.isEqual(l,this.state.options)||this.setState((function(e){return _objectSpread(_objectSpread({},e),{},{options:l})}))),this.updateValue(t);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return _componentDidUpdate2.apply(this,arguments)})},{key:"updateValue",value:function updateValue(prevProps){var _this4=this;if(!(0,_front_app_src_js_helpers__WEBPACK_IMPORTED_MODULE_4__.isEditor)()){var content_calculation=this.props.element.getSettings("content_calculation"),altrpforms=this.props.formsStore,fieldName=this.props.element.getFieldId(),formId=this.props.element.getFormId();if(content_calculation){var prevContext={},altrpdata=this.props.currentDataStorage.getData(),altrpmodel=this.props.currentModel.getData(),altrpuser=this.props.currentUser.getData(),altrppagestate=this.props.altrpPageState.getData(),altrpresponses=this.props.altrpresponses.getData(),altrpmeta=this.props.altrpMeta.getData(),context=this.props.element.getCurrentModel().getData();if(-1!==content_calculation.indexOf("altrpdata")&&(context.altrpdata=altrpdata,altrpdata.currentDataStorageLoaded?prevContext.altrpdata=prevProps.currentDataStorage.getData():prevContext.altrpdata=altrpdata),-1!==content_calculation.indexOf("altrpforms")&&(context.altrpforms=altrpforms,"".concat(formId,".").concat(fieldName)===altrpforms.changedField?prevContext.altrpforms=altrpforms:prevContext.altrpforms=prevProps.formsStore),-1!==content_calculation.indexOf("altrpmodel")&&(context.altrpmodel=altrpmodel,prevContext.altrpmodel=prevProps.currentModel.getData()),-1!==content_calculation.indexOf("altrpuser")&&(context.altrpuser=altrpuser,prevContext.altrpuser=prevProps.currentUser.getData()),-1!==content_calculation.indexOf("altrpuser")&&(context.altrpuser=altrpuser,prevContext.altrpuser=prevProps.currentUser.getData()),-1!==content_calculation.indexOf("altrppagestate")&&(context.altrppagestate=altrppagestate,prevContext.altrppagestate=prevProps.altrpPageState.getData()),-1!==content_calculation.indexOf("altrpmeta")&&(context.altrpmeta=altrpmeta,prevContext.altrpmeta=prevProps.altrpMeta.getData()),-1!==content_calculation.indexOf("altrpresponses")&&(context.altrpresponses=altrpresponses,prevContext.altrpresponses=prevProps.altrpresponses.getData()),-1!==content_calculation.indexOf("altrpstorage")&&(context.altrpstorage=(0,_front_app_src_js_helpers__WEBPACK_IMPORTED_MODULE_4__.getDataFromLocalStorage)("altrpstorage",{})),!(_.isEqual(prevProps.currentDataStorage,this.props.currentDataStorage)&&_.isEqual(prevProps.currentUser,this.props.currentUser)&&_.isEqual(prevProps.formsStore,this.props.formsStore)&&_.isEqual(prevProps.altrpPageState,this.props.altrpPageState)&&_.isEqual(prevProps.altrpMeta,this.props.altrpMeta)&&_.isEqual(prevProps.altrpresponses,this.props.altrpresponses)&&_.isEqual(prevProps.currentModel,this.props.currentModel))&&(_.isEqual(prevProps.formsStore,this.props.formsStore)||"".concat(formId,".").concat(fieldName)!==altrpforms.changedField)){var value="";try{if(content_calculation=content_calculation.replace(/}}/g,"')").replace(/{{/g,"_.get(context, '"),value=eval(content_calculation),value===this.state.value)return;this.setState((function(e){return _objectSpread(_objectSpread({},e),{},{value:value})}),(function(){_this4.dispatchFieldValueToStore(value)}))}catch(e){console.error("Evaluate error in Input "+e.message,this.props.element.getId())}}}else{var path="".concat(formId,".").concat(fieldName);this.props.formsStore!==prevProps.formsStore&&_.get(altrpforms,path)!==this.state.value&&this.setState((function(e){return _objectSpread(_objectSpread({},e),{},{value:_.get(altrpforms,path)})}))}}}},{key:"updateOptions",value:(_updateOptions=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_11__.Z)(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().mark((function e(){var t,n,r,a;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props.element.getFormId(),n=this.props.element.getSettings("params_for_update"),r=_.get(this.props.formsStore,[t],{}),n=(0,_front_app_src_js_helpers__WEBPACK_IMPORTED_MODULE_4__.parseParamsFromString)(n,new _classes_AltrpModel__WEBPACK_IMPORTED_MODULE_6__.Z(r)),a=(0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_13__.Z)(this.state.options),_.isEqual(n,this.state.paramsForUpdate)){e.next=28;break}if(_.isEmpty(n)){e.next=21;break}if(!this.props.element.getSettings("params_as_filters",!1)){e.next=14;break}return n=JSON.stringify(n),e.next=11,new _classes_Resource__WEBPACK_IMPORTED_MODULE_5__.Z({route:this.getRoute()}).getQueried({filters:n});case 11:a=e.sent,e.next=17;break;case 14:return e.next=16,new _classes_Resource__WEBPACK_IMPORTED_MODULE_5__.Z({route:this.getRoute()}).getQueried(n);case 16:a=e.sent;case 17:a=_.isArray(a)?a:a.data,a=_.isArray(a)?a:[],e.next=27;break;case 21:if(!this.state.paramsForUpdate){e.next=27;break}return e.next=24,new _classes_Resource__WEBPACK_IMPORTED_MODULE_5__.Z({route:this.getRoute()}).getAll();case 24:a=e.sent,a=_.isArray(a)?a:a.data,a=_.isArray(a)?a:[];case 27:this.setState((function(e){return _objectSpread(_objectSpread({},e),{},{paramsForUpdate:n,options:a})}));case 28:case"end":return e.stop()}}),e,this)}))),function(){return _updateOptions.apply(this,arguments)})},{key:"onChange",value:function(e){var t,n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a="";e&&e.target&&(a=e.target.value),e&&e.value&&(a=e.value),_.get(r,"getData")&&(a='<div class="ck ck-content" style="width:100%">'.concat(r.getData(),"</div>")),_.isArray(e)&&(a=_.cloneDeep(e)),this.props.element.getSettings("content_options_nullable")&&e&&"<null>"===e.value&&(a=null),this.setState((function(e){return _objectSpread(_objectSpread({},e),{},{value:a})}),(function(){var e=n.props.element.getSettings("change_actions"),r=n.props.element.getSettings("change_change_end"),o=n.props.element.getSettings("change_change_end_delay");!e||r||(0,_front_app_src_js_helpers__WEBPACK_IMPORTED_MODULE_4__.isEditor)()||n.debounceDispatch(void 0!==t?t:a),e&&r&&!(0,_front_app_src_js_helpers__WEBPACK_IMPORTED_MODULE_4__.isEditor)()&&(n.timeInput&&clearTimeout(n.timeInput),n.timeInput=setTimeout((function(){n.debounceDispatch(void 0!==t?t:a)}),o))}))}},{key:"getOptions",value:function(){var e=(0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_13__.Z)(this.state.options),t=this.props.element.getDynamicSetting("content_options");return t&&(e=(0,_front_app_src_js_helpers__WEBPACK_IMPORTED_MODULE_4__.convertData)(t,e)),this.props.element.getSettings("sort_default")||(e=_.sortBy(e,(function(e){return e&&(e.label?e.label.toString():e)}))),e}},{key:"getName",value:function(){return"".concat(this.props.element.getFormId(),"[").concat(this.props.element.getFieldId(),"]")}},{key:"render",value:function(){var e,t=this,n=this.props.element.getSettings(),r=n.content_readonly,a=(n.select2_multiple,n.label_icon),o=this.state.value;_.get(o,"dynamic")&&this.props.currentModel.getProperty("altrpModelUpdated")&&(o=this.getContent("content_default_value")),o&&o.dynamic&&(o="");var i="",l={},s=this.props.element.getResponsiveSetting("content_label_position_type");switch(s){case"top":l={marginBottom:this.state.settings.label_style_spacing?this.state.settings.label_style_spacing.size+this.state.settings.label_style_spacing.unit:"2px"},i="";break;case"bottom":l={marginTop:this.state.settings.label_style_spacing?this.state.settings.label_style_spacing.size+this.state.settings.label_style_spacing.unit:"2px"},i="";break;case"left":l={marginRight:this.state.settings.label_style_spacing?this.state.settings.label_style_spacing.size+this.state.settings.label_style_spacing.unit:"2px"},i="altrp-field-label-container-left";break;case"absolute":l={position:"absolute",zIndex:2},i=""}e=this.state.settings.content_label?React.createElement("div",{className:"altrp-field-label-container "+i,style:l},React.createElement("label",{className:"altrp-field-label ".concat(this.state.settings.content_required?"altrp-field-label--required":"")},this.state.settings.content_label),a&&a.assetType&&React.createElement("span",{className:"altrp-label-icon"},(0,_front_app_src_js_helpers__WEBPACK_IMPORTED_MODULE_4__.renderAssetIcon)(a))):null;var p;p=this.state.settings.content_autocomplete?"on":"off";var c=this.state.settings.content_clearable,u=React.createElement("div",{className:"altrp-input-wrapper"},React.createElement(_altrp_input_AltrpInput__WEBPACK_IMPORTED_MODULE_7__.Z,{type:"text",name:this.getName(),value:o||"",element:this.props.element,readOnly:r,autoComplete:p,placeholder:this.state.settings.content_placeholder,className:"altrp-field "+this.state.settings.position_css_classes,settings:this.props.element.getSettings(),onKeyDown:this.handleEnter,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,id:this.state.settings.position_css_id}),c&&React.createElement("button",{className:"input-clear-btn",onClick:function(){return t.setState({value:t.defaultValue})}},""));return React.createElement(AltrpFieldContainer,{settings:n,className:"altrp-field-container "},"top"===s?e:"","left"===s?e:"","right"===s?e:"","absolute"===s?e:"",u,"bottom"===s?e:"")}}]),InputTextWidget}(Component);__webpack_exports__.default=InputTextWidget},91749:function(e,t,n){var r;e.exports=(r=n(67294),function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={exports:{},id:r,loaded:!1};return e[r].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0}),t.conformToMask=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_=n(3);Object.defineProperty(t,"conformToMask",{enumerable:!0,get:function(){return r(_).default}});var s=r(n(11)),p=r(n(9)),c=r(n(5)),u=n(2),d=function(e){function t(){var e;a(this,t);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];var l=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return l.setRef=l.setRef.bind(l),l.onBlur=l.onBlur.bind(l),l.onChange=l.onChange.bind(l),l}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),l(t,[{key:"setRef",value:function(e){this.inputElement=e}},{key:"initTextMask",value:function(){var e=this.props,t=this.props.value;this.textMaskInputElement=(0,c.default)(i({inputElement:this.inputElement},e)),this.textMaskInputElement.update(t)}},{key:"componentDidMount",value:function(){this.initTextMask()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.value,r=t.pipe,a=t.mask,o={guide:t.guide,placeholderChar:t.placeholderChar,showMask:t.showMask},i="function"==typeof r&&"function"==typeof e.pipe?r.toString()!==e.pipe.toString():(0,u.isNil)(r)&&!(0,u.isNil)(e.pipe)||!(0,u.isNil)(r)&&(0,u.isNil)(e.pipe),l=a.toString()!==e.mask.toString(),_=Object.keys(o).some((function(t){return o[t]!==e[t]}))||l||i;(n!==this.inputElement.value||_)&&this.initTextMask()}},{key:"render",value:function(){var e=this.props,t=e.render,n=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["render"]);return delete n.mask,delete n.guide,delete n.pipe,delete n.placeholderChar,delete n.keepCharPositions,delete n.value,delete n.onBlur,delete n.onChange,delete n.showMask,t(this.setRef,i({onBlur:this.onBlur,onChange:this.onChange,defaultValue:this.props.value},n))}},{key:"onChange",value:function(e){this.textMaskInputElement.update(),"function"==typeof this.props.onChange&&this.props.onChange(e)}},{key:"onBlur",value:function(e){"function"==typeof this.props.onBlur&&this.props.onBlur(e)}}]),t}(s.default.PureComponent);t.default=d,d.propTypes={mask:p.default.oneOfType([p.default.array,p.default.func,p.default.bool,p.default.shape({mask:p.default.oneOfType([p.default.array,p.default.func]),pipe:p.default.func})]).isRequired,guide:p.default.bool,value:p.default.oneOfType([p.default.string,p.default.number]),pipe:p.default.func,placeholderChar:p.default.string,keepCharPositions:p.default.bool,showMask:p.default.bool},d.defaultProps={render:function(e,t){return s.default.createElement("input",i({ref:e},t))}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.placeholderChar="_",t.strFunction="function"},function(e,t,n){"use strict";function r(e){return Array.isArray&&Array.isArray(e)||e instanceof Array}Object.defineProperty(t,"__esModule",{value:!0}),t.convertMaskToPlaceholder=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.placeholderChar;if(!r(e))throw new Error("Text-mask:convertMaskToPlaceholder; The mask property must be an array.");if(-1!==e.indexOf(t))throw new Error("Placeholder character must not be used as part of the mask. Please specify a character that is not present in your mask as your placeholder character.\n\nThe placeholder character that was received is: "+JSON.stringify(t)+"\n\nThe mask that was received is: "+JSON.stringify(e));return e.map((function(e){return e instanceof RegExp?t:e})).join("")},t.isArray=r,t.isString=function(e){return"string"==typeof e||e instanceof String},t.isNumber=function(e){return"number"==typeof e&&void 0===e.length&&!isNaN(e)},t.isNil=function(e){return null==e},t.processCaretTraps=function(e){for(var t=[],n=void 0;-1!==(n=e.indexOf(i));)t.push(n),e.splice(n,1);return{maskWithoutCaretTraps:e,indexes:t}};var a=n(1),o=[],i="[]"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!(0,a.isArray)(t)){if((void 0===t?"undefined":r(t))!==o.strFunction)throw new Error("Text-mask:conformToMask; The mask property must be an array.");t=t(e,n),t=(0,a.processCaretTraps)(t).maskWithoutCaretTraps}var _=n.guide,s=void 0===_||_,p=n.previousConformedValue,c=void 0===p?l:p,u=n.placeholderChar,d=void 0===u?o.placeholderChar:u,f=n.placeholder,b=void 0===f?(0,a.convertMaskToPlaceholder)(t,d):f,h=n.currentCaretPosition,g=n.keepCharPositions,m=!1===s&&void 0!==c,v=e.length,x=c.length,E=b.length,w=t.length,P=v-x,O=P>0,y=h+(O?-P:0),D=y+Math.abs(P);if(!0===g&&!O){for(var M=l,k=y;k<D;k++)b[k]===d&&(M+=d);e=e.slice(0,y)+M+e.slice(y,v)}for(var C=e.split(l).map((function(e,t){return{char:e,isNew:t>=y&&t<D}})),S=v-1;S>=0;S--){var T=C[S].char;T!==d&&T===b[S>=y&&x===w?S-P:S]&&C.splice(S,1)}var I=l,R=!1;e:for(var A=0;A<E;A++){var L=b[A];if(L===d){if(C.length>0)for(;C.length>0;){var U=C.shift(),W=U.char,j=U.isNew;if(W===d&&!0!==m){I+=d;continue e}if(t[A].test(W)){if(!0===g&&!1!==j&&c!==l&&!1!==s&&O){for(var B=C.length,K=null,q=0;q<B;q++){var F=C[q];if(F.char!==d&&!1===F.isNew)break;if(F.char===d){K=q;break}}null!==K?(I+=W,C.splice(K,1)):A--}else I+=W;continue e}R=!0}!1===m&&(I+=b.substr(A,E));break}I+=L}if(m&&!1===O){for(var z=null,V=0;V<I.length;V++)b[V]===d&&(z=V);I=null!==z?I.substr(0,z+1):l}return{conformedValue:I,meta:{someCharsRejected:R}}};var a=n(2),o=n(1),i=[],l=""},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.previousConformedValue,a=void 0===t?r:t,o=e.previousPlaceholder,i=void 0===o?r:o,l=e.currentCaretPosition,_=void 0===l?0:l,s=e.conformedValue,p=e.rawValue,c=e.placeholderChar,u=e.placeholder,d=e.indexesOfPipedChars,f=void 0===d?n:d,b=e.caretTrapIndexes,h=void 0===b?n:b;if(0===_||!p.length)return 0;var g=p.length,m=a.length,v=u.length,x=s.length,E=g-m,w=E>0;if(E>1&&!w&&0!==m)return _;var P=0,O=void 0,y=void 0;if(!w||a!==s&&s!==u){var D=s.toLowerCase(),M=p.toLowerCase().substr(0,_).split(r).filter((function(e){return-1!==D.indexOf(e)}));y=M[M.length-1];var k=i.substr(0,M.length).split(r).filter((function(e){return e!==c})).length,C=u.substr(0,M.length).split(r).filter((function(e){return e!==c})).length!==k,S=void 0!==i[M.length-1]&&void 0!==u[M.length-2]&&i[M.length-1]!==c&&i[M.length-1]!==u[M.length-1]&&i[M.length-1]===u[M.length-2];!w&&(C||S)&&k>0&&u.indexOf(y)>-1&&void 0!==p[_]&&(O=!0,y=p[_]);for(var T=f.map((function(e){return D[e]})).filter((function(e){return e===y})).length,I=M.filter((function(e){return e===y})).length,R=u.substr(0,u.indexOf(c)).split(r).filter((function(e,t){return e===y&&p[t]!==e})).length+I+T+(O?1:0),A=0,L=0;L<x&&(P=L+1,D[L]===y&&A++,!(A>=R));L++);}else P=_-E;if(w){for(var U=P,W=P;W<=v;W++)if(u[W]===c&&(U=W),u[W]===c||-1!==h.indexOf(W)||W===v)return U}else if(O){for(var j=P-1;j>=0;j--)if(s[j]===y||-1!==h.indexOf(j)||0===j)return j}else for(var B=P;B>=0;B--)if(u[B-1]===c||-1!==h.indexOf(B)||0===B)return B};var n=[],r=""},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){document.activeElement===e&&(b?h((function(){return e.setSelectionRange(t,t,d)}),0):e.setSelectionRange(t,t,d))}function o(e){if((0,p.isString)(e))return e;if((0,p.isNumber)(e))return String(e);if(null==e)return u;throw new Error("The 'value' provided to Text Mask needs to be a string or a number. The value received was:\n\n "+JSON.stringify(e))}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(e){var t={previousConformedValue:void 0,previousPlaceholder:void 0};return{state:t,update:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,d=r.inputElement,b=r.mask,h=r.guide,g=r.pipe,m=r.placeholderChar,v=void 0===m?c.placeholderChar:m,x=r.keepCharPositions,E=void 0!==x&&x,w=r.showMask,P=void 0!==w&&w;if(void 0===n&&(n=d.value),n!==t.previousConformedValue){(void 0===b?"undefined":l(b))===f&&void 0!==b.pipe&&void 0!==b.mask&&(g=b.pipe,b=b.mask);var O=void 0,y=void 0;if(b instanceof Array&&(O=(0,p.convertMaskToPlaceholder)(b,v)),!1!==b){var D=o(n),M=d.selectionEnd,k=t.previousConformedValue,C=t.previousPlaceholder,S=void 0;if((void 0===b?"undefined":l(b))===c.strFunction){if(!1===(y=b(D,{currentCaretPosition:M,previousConformedValue:k,placeholderChar:v})))return;var T=(0,p.processCaretTraps)(y);y=T.maskWithoutCaretTraps,S=T.indexes,O=(0,p.convertMaskToPlaceholder)(y,v)}else y=b;var I={previousConformedValue:k,guide:h,placeholderChar:v,pipe:g,placeholder:O,currentCaretPosition:M,keepCharPositions:E},R=(0,s.default)(D,y,I).conformedValue,A=(void 0===g?"undefined":l(g))===c.strFunction,L={};A&&(!1===(L=g(R,i({rawValue:D},I)))?L={value:k,rejected:!0}:(0,p.isString)(L)&&(L={value:L}));var U=A?L.value:R,W=(0,_.default)({previousConformedValue:k,previousPlaceholder:C,conformedValue:U,placeholder:O,rawValue:D,currentCaretPosition:M,placeholderChar:v,indexesOfPipedChars:L.indexesOfPipedChars,caretTrapIndexes:S}),j=U===O&&0===W?P?O:u:U;t.previousConformedValue=j,t.previousPlaceholder=O,d.value!==j&&(d.value=j,a(d,W))}}}}};var _=r(n(4)),s=r(n(3)),p=n(2),c=n(1),u="",d="none",f="object",b="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),h="undefined"!=typeof requestAnimationFrame?requestAnimationFrame:setTimeout},function(e,t){"use strict";function n(e){return function(){return e}}var r=function(){};r.thatReturns=n,r.thatReturnsFalse=n(!1),r.thatReturnsTrue=n(!0),r.thatReturnsNull=n(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(e){return e},e.exports=r},function(e,t,n){"use strict";var r=function(e){};e.exports=function(e,t,n,a,o,i,l,_){if(r(t),!e){var s;if(void 0===t)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var p=[n,a,o,i,l,_],c=0;(s=new Error(t.replace(/%s/g,(function(){return p[c++]})))).name="Invariant Violation"}throw s.framesToPop=1,s}}},function(e,t,n){"use strict";var r=n(6),a=n(7),o=n(10);e.exports=function(){function e(e,t,n,r,i,l){l!==o&&a(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t,n){"use strict";"function"==typeof Symbol&&Symbol.iterator,e.exports=n(8)()},function(e,t){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t){e.exports=r}]))}}]);
//# sourceMappingURL=InputTextCommonWidget.3184139a16c7d12fddfe.bundle.js.map