{"version":3,"sources":["webpack:///./resources/modules/front-app/src/js/classes/Routes.js","webpack:///./resources/modules/front-app/src/js/store/areas/reducers.js","webpack:///./resources/modules/front-app/src/js/store/current-email-template/actions.js","webpack:///./resources/modules/front-app/src/js/store/current-email-template/reducers.js","webpack:///./resources/modules/front-app/src/js/store/current-title/actions.js","webpack:///./resources/modules/front-app/src/js/store/current-title/reducers.js","webpack:///./resources/modules/front-app/src/js/store/forms-data-storage/reducers.js","webpack:///./resources/modules/front-app/src/js/store/popup-trigger/actions.js","webpack:///./resources/modules/front-app/src/js/store/popup-trigger/reducers.js","webpack:///./resources/modules/front-app/src/js/store/reducers.js","webpack:///./resources/modules/front-app/src/js/store/responses-storage/reducers.js","webpack:///./resources/modules/front-app/src/js/store/routes/reducers.js","webpack:///./resources/modules/front-app/src/js/store/scroll-position/actions.js","webpack:///./resources/modules/front-app/src/js/store/scroll-position/reducers.js","webpack:///./resources/modules/front-app/src/js/store/store.js","webpack:///./resources/modules/front-app/src/js/store/user-local-storage/actions.js","webpack:///./resources/modules/front-app/src/js/store/user-local-storage/reducers.js"],"names":["Routes","resource","Resource","route","loadRoutes","window","altrpPages","routes","_data","push","Route","appStore","changeAppRoutes","getAll","then","routesData","pages","catch","err","console","error","defaultAreas","page_areas","map","a","altrpHelpers","Area","areaFactory","areasReducer","areas","action","type","SET_AREAS","CHANGE_CURRENT_EMAIL_TEMPLATE","changeCurrentEmailTemplate","template","defaultTemplate","currentEmailTemplateReducer","CHANGE_CURRENT_TITLE","changeCurrentTitle","title","document","global","defaultTitle","currentTitleReducer","defaultState","formsStoreReducer","state","formId","fieldName","value","changedField","CHANGE_FORM_FIELD_VALUE","_","get","cloneDeep","set","CLEAR_FORM_FIELD_VALUE","TRIGGER_POPUP","togglePopup","payload","initialState","popupID","popupReducer","combineReducers","appRoutes","appRoutesReducer","currentModel","currentModelReducer","formsStore","currentUser","currentUserReducer","currentDataStorage","currentDataStorageReducer","scrollPosition","scrollReducer","popupTrigger","elements","elementsStorageReducer","hideTriggers","hideTriggersReducer","altrpresponses","responsesStorageReducer","editElement","elementReducer","altrpMeta","altrpMetaReducer","altrpPageState","altrpPageStateReducer","altrpFonts","fontsReducer","userLocalStorage","changeLocalStorageReducer","exportDashboard","currentScreen","mediaScreenReducer","currentTitle","currentEmailTemplate","altrpPage","currentPageReducer","altrpMenus","menusReducer","elementsSettings","elementsSettingsReducer","defaultResponsesStorage","responsesStorage","AltrpModel","ADD_RESPONSE_DATA","data","isArray","setAltrpIndex","setProperty","CLEAR_ALL_RESPONSE_DATA","CHANGE_APP_ROUTES","SET_SCROLL_TOP","setScrollValue","top","pageUpdater","startUpdating","preloadedState","__PRELOADED_STATE__","createStore","rootReducer","ALTRP_DEBUG","_dis","dispatch","trace","bind","CHANGE_USER_LOCAL_STORAGE","changeStorageData","user","defaultLocalStorage","element","result"],"mappings":"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","file":"Routes.robots.js","sourcesContent":["import Resource from \"../../../../editor/src/js/classes/Resource\";\r\nimport Route from \"./Route\";\r\nimport appStore from \"../store/store\";\r\nimport { changeAppRoutes } from \"../store/routes/actions\";\r\n\r\nclass Routes {\r\n  constructor() {\r\n    this.resource = new Resource({\r\n      route: \"/ajax/routes\"\r\n    });\r\n    this.loadRoutes();\r\n  }\r\n  loadRoutes() {\r\n    if(window.altrpPages){\r\n      let routes = [];\r\n      for (let _data of window.altrpPages) {\r\n        routes.push(Route.routeFabric(_data));\r\n      }\r\n      appStore.dispatch(changeAppRoutes(routes));\r\n      return\r\n    }\r\n    this.resource\r\n      .getAll()\r\n      .then(routesData => {\r\n        let routes = [];\r\n        for (let _data of routesData.pages) {\r\n          routes.push(Route.routeFabric(_data));\r\n        }\r\n        appStore.dispatch(changeAppRoutes(routes));\r\n      })\r\n      .catch(err => {\r\n        console.error(err);\r\n      });\r\n  }\r\n}\r\nexport default new Routes();\r\n","import { SET_AREAS,} from \"./actions\";\r\n\r\nlet defaultAreas = [];\r\nif(window['h-altrp']){\r\n  defaultAreas = window.page_areas.map(a=> new window.altrpHelpers.Area.areaFactory(a));\r\n}\r\nexport function areasReducer(areas, action) {\r\n  areas = areas || defaultAreas;\r\n  switch (action.type) {\r\n    case SET_AREAS: {\r\n      areas = action.areas;\r\n    }\r\n    break;\r\n  }\r\n  return areas;\r\n}\r\n","export const CHANGE_CURRENT_EMAIL_TEMPLATE = \"CHANGE_CURRENT_EMAIL_TEMPLATE\";\r\n\r\n\r\nexport function changeCurrentEmailTemplate(template) {\r\n  return {\r\n    type: CHANGE_CURRENT_EMAIL_TEMPLATE,\r\n    template\r\n  };\r\n}\r\n","import {\r\n  CHANGE_CURRENT_EMAIL_TEMPLATE\r\n} from \"./actions\";\r\n\r\n\r\nconst defaultTemplate = null;\r\n\r\nexport function currentEmailTemplateReducer(template, action) {\r\n  template = template || defaultTemplate;\r\n  switch (action.type) {\r\n    case CHANGE_CURRENT_EMAIL_TEMPLATE:\r\n      {\r\n        template = action.template;\r\n      }\r\n      break;\r\n  }\r\n  return template;\r\n}\r\n","export const CHANGE_CURRENT_TITLE = 'CHANGE_CURRENT_TITLE';\r\n\r\nexport function changeCurrentTitle(title) {\r\n  return {\r\n    type: CHANGE_CURRENT_TITLE,\r\n    title\r\n  };\r\n}\r\n\r\n","if (typeof document === \"undefined\") {\r\n  global.document = {};\r\n}\r\nimport { CHANGE_CURRENT_TITLE } from \"./actions\";\r\n\r\nconst defaultTitle = document?.title || \"\";\r\n\r\nexport function currentTitleReducer(title, action) {\r\n  title = title || defaultTitle;\r\n  switch (action.type) {\r\n    case CHANGE_CURRENT_TITLE:\r\n      {\r\n        title = action.title;\r\n      }\r\n      break;\r\n  }\r\n  return title;\r\n}\r\n","import {CHANGE_FORM_FIELD_VALUE, CLEAR_FORM_FIELD_VALUE} from './actions'\r\n\r\nconst defaultState = {\r\n\r\n};\r\n\r\nexport function formsStoreReducer(state, {type, formId, fieldName, value, changedField}) {\r\n  state = state || defaultState;\r\n  switch (type) {\r\n    case CHANGE_FORM_FIELD_VALUE:{\r\n      if(_.get(state, [formId, fieldName]) !== value){\r\n        state = _.cloneDeep(state);\r\n        state.changedField = changedField;\r\n        _.set(state, [formId, fieldName], value);\r\n      }\r\n\r\n    }break;\r\n    case CLEAR_FORM_FIELD_VALUE:{\r\n      if(formId){\r\n        state = _.cloneDeep(state);\r\n        _.set(state, [formId], {});\r\n      } else {\r\n        state = {};\r\n      }\r\n    }break;\r\n  }\r\n  return state;\r\n}","export const TRIGGER_POPUP = \"TRIGGER_POPUP\";\r\n\r\nexport const togglePopup = payload => ({\r\n  type: TRIGGER_POPUP,\r\n  payload\r\n});","import { TRIGGER_POPUP } from \"./actions\";\r\n\r\nconst initialState = { popupID: null };\r\n\r\nexport const popupReducer = (state = initialState, { type, payload }) => {\r\n  switch (type) {\r\n    case TRIGGER_POPUP: {\r\n      return {popupID: state.popupID === payload ? null : payload};\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};","import { combineReducers } from \"redux\";\r\nimport { appRoutesReducer } from \"./routes/reducers\";\r\nimport { currentModelReducer } from \"./current-model/reducers\";\r\nimport { formsStoreReducer } from \"./forms-data-storage/reducers\";\r\nimport { currentUserReducer } from \"./current-user/reducers\";\r\nimport { currentDataStorageReducer } from \"./current-data-storage/reducers\";\r\nimport { scrollReducer } from \"./scroll-position/reducers\";\r\nimport { popupReducer } from \"./popup-trigger/reducers\";\r\nimport { elementsStorageReducer } from \"./elements-storage/reducers\";\r\nimport { hideTriggersReducer } from \"./hide-triggers/reducers\";\r\nimport { responsesStorageReducer } from \"./responses-storage/reducers\";\r\nimport { elementReducer } from \"../../../../editor/src/js/store/altrp-dashboard/reducers\";\r\nimport { altrpMetaReducer } from \"./altrp-meta-storage/reducers\";\r\nimport { altrpPageStateReducer } from \"./altrp-page-state-storage/reducers\";\r\nimport { fontsReducer } from \"./fonts-storage/reducers\";\r\nimport { changeLocalStorageReducer } from \"./user-local-storage/reducers\";\r\nimport { exportDashboard } from \"./altrp-dashboard-export/reducers\";\r\nimport { mediaScreenReducer } from \"./media-screen-storage/reducers\";\r\nimport { currentTitleReducer } from \"./current-title/reducers\";\r\nimport { currentEmailTemplateReducer } from \"./current-email-template/reducers\";\r\nimport { currentPageReducer } from \"./current-page/reducers\";\r\nimport {menusReducer} from \"./menus-storage/reducers\";\r\nimport {elementsSettingsReducer} from \"./elements-settings/reducers\";\r\nimport {areasReducer} from \"./areas/reducers\";\r\n\r\nexport default combineReducers({\r\n  appRoutes: appRoutesReducer,\r\n  currentModel: currentModelReducer,\r\n  formsStore: formsStoreReducer,\r\n  currentUser: currentUserReducer,\r\n  currentDataStorage: currentDataStorageReducer,\r\n  scrollPosition: scrollReducer,\r\n  popupTrigger: popupReducer,\r\n  elements: elementsStorageReducer,\r\n  hideTriggers: hideTriggersReducer,\r\n  altrpresponses: responsesStorageReducer,\r\n  editElement: elementReducer,\r\n  altrpMeta: altrpMetaReducer,\r\n  altrpPageState: altrpPageStateReducer,\r\n  altrpFonts: fontsReducer,\r\n  userLocalStorage: changeLocalStorageReducer,\r\n  exportDashboard: exportDashboard,\r\n  currentScreen: mediaScreenReducer,\r\n  currentTitle: currentTitleReducer,\r\n  currentEmailTemplate: currentEmailTemplateReducer,\r\n  altrpPage: currentPageReducer,\r\n  altrpMenus: menusReducer,\r\n  elementsSettings: elementsSettingsReducer,\r\n  areas: areasReducer,\r\n});\r\n","import {ADD_RESPONSE_DATA, CLEAR_ALL_RESPONSE_DATA} from './actions'\r\nimport AltrpModel from \"../../../../../editor/src/js/classes/AltrpModel\";\r\nimport {setAltrpIndex} from \"../../helpers\";\r\n\r\nconst defaultResponsesStorage = {\r\n  \r\n};\r\n\r\nexport function responsesStorageReducer(responsesStorage, action) {\r\n  responsesStorage = responsesStorage || new AltrpModel(defaultResponsesStorage);\r\n  switch (action.type) {\r\n    case ADD_RESPONSE_DATA:{\r\n      let data = action.data;\r\n      if(_.isArray(data)){\r\n        setAltrpIndex(data);\r\n      }\r\n      responsesStorage = _.cloneDeep(responsesStorage);\r\n      responsesStorage.setProperty(action.formId, data);\r\n    }break;\r\n    case CLEAR_ALL_RESPONSE_DATA:{\r\n      responsesStorage = new AltrpModel({});\r\n    }break;\r\n  }\r\n  if(responsesStorage instanceof AltrpModel){\r\n    return responsesStorage;\r\n  }\r\n  return new AltrpModel(responsesStorage);\r\n}","import {CHANGE_APP_ROUTES,} from './actions'\r\nimport Route from \"../../classes/Route\";\r\n\r\nlet routes = [];\r\nif(window.altrpPages){\r\n  for (let _data of window.altrpPages) {\r\n    routes.push(Route.routeFabric(_data));\r\n  }\r\n}\r\nconst defaultState = {\r\n  routes,\r\n};\r\n\r\nexport function appRoutesReducer(state, action) {\r\n  state = state || defaultState;\r\n  switch (action.type) {\r\n    case CHANGE_APP_ROUTES:{\r\n      state = {\r\n        routes: action.routes,\r\n      };\r\n    }break;\r\n  }\r\n  return state;\r\n}\r\n","export const SET_SCROLL_TOP = \"SET_SCROLL_TOP\";\r\n/**\r\n *\r\n * @param {{\r\n *  top: int\r\n * }} payload\r\n * @return {{type: string, payload: {}}}\r\n */\r\nexport const setScrollValue = payload => {\r\n  if(payload.top) {\r\n\r\n    if(window.pageUpdater){\r\n      window.pageUpdater.startUpdating();\r\n    }\r\n  }\r\n  return {\r\n    type: SET_SCROLL_TOP,\r\n    payload\r\n  };\r\n};\r\n","import { SET_SCROLL_TOP } from \"./actions\";\r\n\r\nconst initialState = {}\r\n\r\nexport const scrollReducer = (state = initialState, { type, payload }) => {\r\n  switch (type) {\r\n    case SET_SCROLL_TOP:\r\n      return payload;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};","import { createStore } from \"redux\";\r\nimport rootReducer from \"./reducers\";\r\n// Grab the state from a global variable injected into the server-generated HTML\r\nconst preloadedState = window.__PRELOADED_STATE__;\r\n\r\n// Allow the passed state to be garbage-collected\r\ndelete window.__PRELOADED_STATE__;\r\nlet appStore = createStore(rootReducer, preloadedState);\r\nwindow.appStore = appStore;\r\nif (window.ALTRP_DEBUG) {\r\n  let _dis = appStore.dispatch;\r\n  appStore.dispatch = function(action) {\r\n    console.trace(action);\r\n    _dis.bind(appStore)(action);\r\n  };\r\n}\r\nexport default appStore;\r\n","export const CHANGE_USER_LOCAL_STORAGE = \"CHANGE_USER_LOCAL_STORAGE\";\r\n\r\nexport function changeStorageData(user) {\r\n  return {\r\n    type: CHANGE_USER_LOCAL_STORAGE,\r\n    user: user || {}\r\n  };\r\n}\r\n","import { CHANGE_USER_LOCAL_STORAGE } from \"./actions\";\r\n\r\nconst defaultLocalStorage = {\r\n  element: \"test\"\r\n};\r\n\r\nexport function changeLocalStorageReducer(data, action) {\r\n  let result = data || defaultLocalStorage;\r\n  switch (action.type) {\r\n    case CHANGE_USER_LOCAL_STORAGE:\r\n      {\r\n        result = data;\r\n      }\r\n      break;\r\n  }\r\n  return result;\r\n}\r\n"],"sourceRoot":""}